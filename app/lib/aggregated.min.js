(function() {
    var a;
    var b = "3.9.3";
    var c = 1, d = 2, e = 4, f = 8, g = 16, h = 32, i = 64, j = 128, k = 256;
    var l = 30, m = "...";
    var n = 150, o = 16;
    var p = 0, q = 1, r = 2;
    var s = "Expected a function";
    var t = "__lodash_placeholder__";
    var u = "[object Arguments]", v = "[object Array]", w = "[object Boolean]", x = "[object Date]", y = "[object Error]", z = "[object Function]", A = "[object Map]", B = "[object Number]", C = "[object Object]", D = "[object RegExp]", E = "[object Set]", F = "[object String]", G = "[object WeakMap]";
    var H = "[object ArrayBuffer]", I = "[object Float32Array]", J = "[object Float64Array]", K = "[object Int8Array]", L = "[object Int16Array]", M = "[object Int32Array]", N = "[object Uint8Array]", O = "[object Uint8ClampedArray]", P = "[object Uint16Array]", Q = "[object Uint32Array]";
    var R = /\b__p \+= '';/g, S = /\b(__p \+=) '' \+/g, T = /(__e\(.*?\)|\b__t\)) \+\n'';/g;
    var U = /&(?:amp|lt|gt|quot|#39|#96);/g, V = /[&<>"'`]/g, W = RegExp(U.source), X = RegExp(V.source);
    var Y = /<%-([\s\S]+?)%>/g, Z = /<%([\s\S]+?)%>/g, $ = /<%=([\s\S]+?)%>/g;
    var _ = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/, aa = /^\w*$/, ba = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g;
    var ca = /[.*+?^${}()|[\]\/\\]/g, da = RegExp(ca.source);
    var ea = /[\u0300-\u036f\ufe20-\ufe23]/g;
    var fa = /\\(\\)?/g;
    var ga = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;
    var ha = /\w*$/;
    var ia = /^0[xX]/;
    var ja = /^\[object .+?Constructor\]$/;
    var ka = /^\d+$/;
    var la = /[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g;
    var ma = /($^)/;
    var na = /['\n\r\u2028\u2029\\]/g;
    var oa = function() {
        var a = "[A-Z\\xc0-\\xd6\\xd8-\\xde]", b = "[a-z\\xdf-\\xf6\\xf8-\\xff]+";
        return RegExp(a + "+(?=" + a + b + ")|" + a + "?" + b + "|" + a + "+|[0-9]+", "g");
    }();
    var pa = " 	\f \ufeff" + "\n\r\u2028\u2029" + " ᠎             　";
    var qa = [ "Array", "ArrayBuffer", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Math", "Number", "Object", "RegExp", "Set", "String", "_", "clearTimeout", "document", "isFinite", "parseFloat", "parseInt", "setTimeout", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "window" ];
    var ra = -1;
    var sa = {};
    sa[I] = sa[J] = sa[K] = sa[L] = sa[M] = sa[N] = sa[O] = sa[P] = sa[Q] = true;
    sa[u] = sa[v] = sa[H] = sa[w] = sa[x] = sa[y] = sa[z] = sa[A] = sa[B] = sa[C] = sa[D] = sa[E] = sa[F] = sa[G] = false;
    var ta = {};
    ta[u] = ta[v] = ta[H] = ta[w] = ta[x] = ta[I] = ta[J] = ta[K] = ta[L] = ta[M] = ta[B] = ta[C] = ta[D] = ta[F] = ta[N] = ta[O] = ta[P] = ta[Q] = true;
    ta[y] = ta[z] = ta[A] = ta[E] = ta[G] = false;
    var ua = {
        leading: false,
        maxWait: 0,
        trailing: false
    };
    var va = {
        "À": "A",
        "Á": "A",
        "Â": "A",
        "Ã": "A",
        "Ä": "A",
        "Å": "A",
        "à": "a",
        "á": "a",
        "â": "a",
        "ã": "a",
        "ä": "a",
        "å": "a",
        "Ç": "C",
        "ç": "c",
        "Ð": "D",
        "ð": "d",
        "È": "E",
        "É": "E",
        "Ê": "E",
        "Ë": "E",
        "è": "e",
        "é": "e",
        "ê": "e",
        "ë": "e",
        "Ì": "I",
        "Í": "I",
        "Î": "I",
        "Ï": "I",
        "ì": "i",
        "í": "i",
        "î": "i",
        "ï": "i",
        "Ñ": "N",
        "ñ": "n",
        "Ò": "O",
        "Ó": "O",
        "Ô": "O",
        "Õ": "O",
        "Ö": "O",
        "Ø": "O",
        "ò": "o",
        "ó": "o",
        "ô": "o",
        "õ": "o",
        "ö": "o",
        "ø": "o",
        "Ù": "U",
        "Ú": "U",
        "Û": "U",
        "Ü": "U",
        "ù": "u",
        "ú": "u",
        "û": "u",
        "ü": "u",
        "Ý": "Y",
        "ý": "y",
        "ÿ": "y",
        "Æ": "Ae",
        "æ": "ae",
        "Þ": "Th",
        "þ": "th",
        "ß": "ss"
    };
    var wa = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;",
        "`": "&#96;"
    };
    var xa = {
        "&amp;": "&",
        "&lt;": "<",
        "&gt;": ">",
        "&quot;": '"',
        "&#39;": "'",
        "&#96;": "`"
    };
    var ya = {
        "function": true,
        object: true
    };
    var za = {
        "\\": "\\",
        "'": "'",
        "\n": "n",
        "\r": "r",
        "\u2028": "u2028",
        "\u2029": "u2029"
    };
    var Aa = ya[typeof exports] && exports && !exports.nodeType && exports;
    var Ba = ya[typeof module] && module && !module.nodeType && module;
    var Ca = Aa && Ba && typeof global == "object" && global && global.Object && global;
    var Da = ya[typeof self] && self && self.Object && self;
    var Ea = ya[typeof window] && window && window.Object && window;
    var Fa = Ba && Ba.exports === Aa && Aa;
    var Ga = Ca || Ea !== (this && this.window) && Ea || Da || this;
    function Ha(b, c) {
        if (b !== c) {
            var d = b === null, e = b === a, f = b === b;
            var g = c === null, h = c === a, i = c === c;
            if (b > c && !g || !f || d && !h && i || e && i) {
                return 1;
            }
            if (b < c && !d || !i || g && !e && f || h && f) {
                return -1;
            }
        }
        return 0;
    }
    function Ia(a, b, c) {
        var d = a.length, e = c ? d : -1;
        while (c ? e-- : ++e < d) {
            if (b(a[e], e, a)) {
                return e;
            }
        }
        return -1;
    }
    function Ja(a, b, c) {
        if (b !== b) {
            return Ta(a, c);
        }
        var d = c - 1, e = a.length;
        while (++d < e) {
            if (a[d] === b) {
                return d;
            }
        }
        return -1;
    }
    function Ka(a) {
        return typeof a == "function" || false;
    }
    function La(a) {
        if (typeof a == "string") {
            return a;
        }
        return a == null ? "" : a + "";
    }
    function Ma(a, b) {
        var c = -1, d = a.length;
        while (++c < d && b.indexOf(a.charAt(c)) > -1) {}
        return c;
    }
    function Na(a, b) {
        var c = a.length;
        while (c-- && b.indexOf(a.charAt(c)) > -1) {}
        return c;
    }
    function Oa(a, b) {
        return Ha(a.criteria, b.criteria) || a.index - b.index;
    }
    function Pa(a, b, c) {
        var d = -1, e = a.criteria, f = b.criteria, g = e.length, h = c.length;
        while (++d < g) {
            var i = Ha(e[d], f[d]);
            if (i) {
                if (d >= h) {
                    return i;
                }
                return i * (c[d] ? 1 : -1);
            }
        }
        return a.index - b.index;
    }
    function Qa(a) {
        return va[a];
    }
    function Ra(a) {
        return wa[a];
    }
    function Sa(a) {
        return "\\" + za[a];
    }
    function Ta(a, b, c) {
        var d = a.length, e = b + (c ? 0 : -1);
        while (c ? e-- : ++e < d) {
            var f = a[e];
            if (f !== f) {
                return e;
            }
        }
        return -1;
    }
    function Ua(a) {
        return !!a && typeof a == "object";
    }
    function Va(a) {
        return a <= 160 && (a >= 9 && a <= 13) || a == 32 || a == 160 || a == 5760 || a == 6158 || a >= 8192 && (a <= 8202 || a == 8232 || a == 8233 || a == 8239 || a == 8287 || a == 12288 || a == 65279);
    }
    function Wa(a, b) {
        var c = -1, d = a.length, e = -1, f = [];
        while (++c < d) {
            if (a[c] === b) {
                a[c] = t;
                f[++e] = c;
            }
        }
        return f;
    }
    function Xa(a, b) {
        var c, d = -1, e = a.length, f = -1, g = [];
        while (++d < e) {
            var h = a[d], i = b ? b(h, d, a) : h;
            if (!d || c !== i) {
                c = i;
                g[++f] = h;
            }
        }
        return g;
    }
    function Ya(a) {
        var b = -1, c = a.length;
        while (++b < c && Va(a.charCodeAt(b))) {}
        return b;
    }
    function Za(a) {
        var b = a.length;
        while (b-- && Va(a.charCodeAt(b))) {}
        return b;
    }
    function $a(a) {
        return xa[a];
    }
    function _a(A) {
        A = A ? ab.defaults(Ga.Object(), A, ab.pick(Ga, qa)) : Ga;
        var E = A.Array, G = A.Date, va = A.Error, wa = A.Function, xa = A.Math, ya = A.Number, za = A.Object, Aa = A.RegExp, Ba = A.String, Ca = A.TypeError;
        var Da = E.prototype, Ea = za.prototype, Fa = Ba.prototype;
        var Va = (Va = A.window) ? Va.document : null;
        var bb = wa.prototype.toString;
        var cb = Ea.hasOwnProperty;
        var db = 0;
        var eb = Ea.toString;
        var fb = A._;
        var gb = Aa("^" + sh(bb.call(cb)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
        var hb = Xd(A, "ArrayBuffer"), ib = Xd(hb && new hb(0), "slice"), jb = xa.ceil, kb = A.clearTimeout, lb = xa.floor, mb = Xd(za, "getPrototypeOf"), nb = A.parseFloat, ob = Da.push, pb = Xd(A, "Set"), qb = A.setTimeout, rb = Da.splice, sb = Xd(A, "Uint8Array"), tb = Xd(A, "WeakMap");
        var ub = function() {
            try {
                var a = Xd(A, "Float64Array"), b = new a(new hb(10), 0, 1) && a;
            } catch (c) {}
            return b || null;
        }();
        var vb = Xd(za, "create"), wb = Xd(E, "isArray"), xb = A.isFinite, yb = Xd(za, "keys"), zb = xa.max, Ab = xa.min, Bb = Xd(G, "now"), Cb = Xd(ya, "isFinite"), Db = A.parseInt, Eb = xa.random;
        var Fb = ya.NEGATIVE_INFINITY, Gb = ya.POSITIVE_INFINITY;
        var Hb = 4294967295, Ib = Hb - 1, Jb = Hb >>> 1;
        var Kb = ub ? ub.BYTES_PER_ELEMENT : 0;
        var Lb = 9007199254740991;
        var Mb = tb && new tb();
        var Nb = {};
        function Ob(a) {
            if (Ua(a) && !pg(a) && !(a instanceof Sb)) {
                if (a instanceof Qb) {
                    return a;
                }
                if (cb.call(a, "__chain__") && cb.call(a, "__wrapped__")) {
                    return se(a);
                }
            }
            return new Qb(a);
        }
        function Pb() {}
        function Qb(a, b, c) {
            this.__wrapped__ = a;
            this.__actions__ = c || [];
            this.__chain__ = !!b;
        }
        var Rb = Ob.support = {};
        (function(a) {
            var b = function() {
                this.x = a;
            }, c = {
                "0": a,
                length: a
            }, d = [];
            b.prototype = {
                valueOf: a,
                y: a
            };
            for (var e in new b()) {
                d.push(e);
            }
            try {
                Rb.dom = Va.createDocumentFragment().nodeType === 11;
            } catch (f) {
                Rb.dom = false;
            }
        })(1, 0);
        Ob.templateSettings = {
            escape: Y,
            evaluate: Z,
            interpolate: $,
            variable: "",
            imports: {
                _: Ob
            }
        };
        function Sb(a) {
            this.__wrapped__ = a;
            this.__actions__ = null;
            this.__dir__ = 1;
            this.__dropCount__ = 0;
            this.__filtered__ = false;
            this.__iteratees__ = null;
            this.__takeCount__ = Gb;
            this.__views__ = null;
        }
        function Tb() {
            var a = this.__actions__, b = this.__iteratees__, c = this.__views__, d = new Sb(this.__wrapped__);
            d.__actions__ = a ? cc(a) : null;
            d.__dir__ = this.__dir__;
            d.__filtered__ = this.__filtered__;
            d.__iteratees__ = b ? cc(b) : null;
            d.__takeCount__ = this.__takeCount__;
            d.__views__ = c ? cc(c) : null;
            return d;
        }
        function Ub() {
            if (this.__filtered__) {
                var a = new Sb(this);
                a.__dir__ = -1;
                a.__filtered__ = true;
            } else {
                a = this.clone();
                a.__dir__ *= -1;
            }
            return a;
        }
        function Vb() {
            var a = this.__wrapped__.value();
            if (!pg(a)) {
                return hd(a, this.__actions__);
            }
            var b = this.__dir__, c = b < 0, d = Yd(0, a.length, this.__views__), e = d.start, f = d.end, g = f - e, h = c ? f : e - 1, i = Ab(g, this.__takeCount__), j = this.__iteratees__, k = j ? j.length : 0, l = 0, m = [];
            a: while (g-- && l < i) {
                h += b;
                var n = -1, o = a[h];
                while (++n < k) {
                    var s = j[n], t = s.iteratee, u = s.type;
                    if (u == p) {
                        if (s.done && (c ? h > s.index : h < s.index)) {
                            s.count = 0;
                            s.done = false;
                        }
                        s.index = h;
                        if (!s.done) {
                            var v = s.limit;
                            if (!(s.done = v > -1 ? s.count++ >= v : !t(o))) {
                                continue a;
                            }
                        }
                    } else {
                        var w = t(o);
                        if (u == r) {
                            o = w;
                        } else if (!w) {
                            if (u == q) {
                                continue a;
                            } else {
                                break a;
                            }
                        }
                    }
                }
                m[l++] = o;
            }
            return m;
        }
        function Wb() {
            this.__data__ = {};
        }
        function Xb(a) {
            return this.has(a) && delete this.__data__[a];
        }
        function Yb(b) {
            return b == "__proto__" ? a : this.__data__[b];
        }
        function Zb(a) {
            return a != "__proto__" && cb.call(this.__data__, a);
        }
        function $b(a, b) {
            if (a != "__proto__") {
                this.__data__[a] = b;
            }
            return this;
        }
        function _b(a) {
            var b = a ? a.length : 0;
            this.data = {
                hash: vb(null),
                set: new pb()
            };
            while (b--) {
                this.push(a[b]);
            }
        }
        function ac(a, b) {
            var c = a.data, d = typeof b == "string" || yg(b) ? c.set.has(b) : c.hash[b];
            return d ? 0 : -1;
        }
        function bc(a) {
            var b = this.data;
            if (typeof a == "string" || yg(a)) {
                b.set.add(a);
            } else {
                b.hash[a] = true;
            }
        }
        function cc(a, b) {
            var c = -1, d = a.length;
            b || (b = E(d));
            while (++c < d) {
                b[c] = a[c];
            }
            return b;
        }
        function dc(a, b) {
            var c = -1, d = a.length;
            while (++c < d) {
                if (b(a[c], c, a) === false) {
                    break;
                }
            }
            return a;
        }
        function ec(a, b) {
            var c = a.length;
            while (c--) {
                if (b(a[c], c, a) === false) {
                    break;
                }
            }
            return a;
        }
        function fc(a, b) {
            var c = -1, d = a.length;
            while (++c < d) {
                if (!b(a[c], c, a)) {
                    return false;
                }
            }
            return true;
        }
        function gc(a, b, c, d) {
            var e = -1, f = a.length, g = d, h = g;
            while (++e < f) {
                var i = a[e], j = +b(i);
                if (c(j, g)) {
                    g = j;
                    h = i;
                }
            }
            return h;
        }
        function hc(a, b) {
            var c = -1, d = a.length, e = -1, f = [];
            while (++c < d) {
                var g = a[c];
                if (b(g, c, a)) {
                    f[++e] = g;
                }
            }
            return f;
        }
        function ic(a, b) {
            var c = -1, d = a.length, e = E(d);
            while (++c < d) {
                e[c] = b(a[c], c, a);
            }
            return e;
        }
        function jc(a, b, c, d) {
            var e = -1, f = a.length;
            if (d && f) {
                c = a[++e];
            }
            while (++e < f) {
                c = b(c, a[e], e, a);
            }
            return c;
        }
        function kc(a, b, c, d) {
            var e = a.length;
            if (d && e) {
                c = a[--e];
            }
            while (e--) {
                c = b(c, a[e], e, a);
            }
            return c;
        }
        function lc(a, b) {
            var c = -1, d = a.length;
            while (++c < d) {
                if (b(a[c], c, a)) {
                    return true;
                }
            }
            return false;
        }
        function mc(a) {
            var b = a.length, c = 0;
            while (b--) {
                c += +a[b] || 0;
            }
            return c;
        }
        function nc(b, c) {
            return b === a ? c : b;
        }
        function oc(b, c, d, e) {
            return b === a || !cb.call(e, d) ? c : b;
        }
        function pc(b, c, d) {
            var e = -1, f = $g(c), g = f.length;
            while (++e < g) {
                var h = f[e], i = b[h], j = d(i, c[h], h, b, c);
                if ((j === j ? j !== i : i === i) || i === a && !(h in b)) {
                    b[h] = j;
                }
            }
            return b;
        }
        function qc(a, b) {
            return b == null ? a : sc(b, $g(b), a);
        }
        function rc(b, c) {
            var d = -1, e = b == null, f = !e && be(b), g = f ? b.length : 0, h = c.length, i = E(h);
            while (++d < h) {
                var j = c[d];
                if (f) {
                    i[d] = ce(j, g) ? b[j] : a;
                } else {
                    i[d] = e ? a : b[j];
                }
            }
            return i;
        }
        function sc(a, b, c) {
            c || (c = {});
            var d = -1, e = b.length;
            while (++d < e) {
                var f = b[d];
                c[f] = a[f];
            }
            return c;
        }
        function tc(b, c, d) {
            var e = typeof b;
            if (e == "function") {
                return c === a ? b : kd(b, c, d);
            }
            if (b == null) {
                return Mh;
            }
            if (e == "object") {
                return Rc(b);
            }
            return c === a ? Uh(b) : Sc(b, c);
        }
        function uc(b, c, d, e, f, g, h) {
            var i;
            if (d) {
                i = f ? d(b, e, f) : d(b);
            }
            if (i !== a) {
                return i;
            }
            if (!yg(b)) {
                return b;
            }
            var j = pg(b);
            if (j) {
                i = Zd(b);
                if (!c) {
                    return cc(b, i);
                }
            } else {
                var k = eb.call(b), l = k == z;
                if (k == C || k == u || l && !f) {
                    i = $d(l ? {} : b);
                    if (!c) {
                        return qc(i, b);
                    }
                } else {
                    return ta[k] ? _d(b, k, c) : f ? b : {};
                }
            }
            g || (g = []);
            h || (h = []);
            var m = g.length;
            while (m--) {
                if (g[m] == b) {
                    return h[m];
                }
            }
            g.push(b);
            h.push(i);
            (j ? dc : Jc)(b, function(a, e) {
                i[e] = uc(a, c, d, e, b, g, h);
            });
            return i;
        }
        var vc = function() {
            function a() {}
            return function(b) {
                if (yg(b)) {
                    a.prototype = b;
                    var c = new a();
                    a.prototype = null;
                }
                return c || {};
            };
        }();
        function wc(b, c, d) {
            if (typeof b != "function") {
                throw new Ca(s);
            }
            return qb(function() {
                b.apply(a, d);
            }, c);
        }
        function xc(a, b) {
            var c = a ? a.length : 0, d = [];
            if (!c) {
                return d;
            }
            var e = -1, f = Ud(), g = f == Ja, h = g && b.length >= 200 ? td(b) : null, i = b.length;
            if (h) {
                f = ac;
                g = false;
                b = h;
            }
            a: while (++e < c) {
                var j = a[e];
                if (g && j === j) {
                    var k = i;
                    while (k--) {
                        if (b[k] === j) {
                            continue a;
                        }
                    }
                    d.push(j);
                } else if (f(b, j, 0) < 0) {
                    d.push(j);
                }
            }
            return d;
        }
        var yc = qd(Jc);
        var zc = qd(Kc, true);
        function Ac(a, b) {
            var c = true;
            yc(a, function(a, d, e) {
                c = !!b(a, d, e);
                return c;
            });
            return c;
        }
        function Bc(a, b, c, d) {
            var e = d, f = e;
            yc(a, function(a, g, h) {
                var i = +b(a, g, h);
                if (c(i, e) || i === d && i === f) {
                    e = i;
                    f = a;
                }
            });
            return f;
        }
        function Cc(b, c, d, e) {
            var f = b.length;
            d = d == null ? 0 : +d || 0;
            if (d < 0) {
                d = -d > f ? 0 : f + d;
            }
            e = e === a || e > f ? f : +e || 0;
            if (e < 0) {
                e += f;
            }
            f = d > e ? 0 : e >>> 0;
            d >>>= 0;
            while (d < f) {
                b[d++] = c;
            }
            return b;
        }
        function Dc(a, b) {
            var c = [];
            yc(a, function(a, d, e) {
                if (b(a, d, e)) {
                    c.push(a);
                }
            });
            return c;
        }
        function Ec(a, b, c, d) {
            var e;
            c(a, function(a, c, f) {
                if (b(a, c, f)) {
                    e = d ? c : a;
                    return false;
                }
            });
            return e;
        }
        function Fc(a, b, c) {
            var d = -1, e = a.length, f = -1, g = [];
            while (++d < e) {
                var h = a[d];
                if (Ua(h) && be(h) && (c || pg(h) || og(h))) {
                    if (b) {
                        h = Fc(h, b, c);
                    }
                    var i = -1, j = h.length;
                    while (++i < j) {
                        g[++f] = h[i];
                    }
                } else if (!c) {
                    g[++f] = h;
                }
            }
            return g;
        }
        var Gc = rd();
        var Hc = rd(true);
        function Ic(a, b) {
            return Gc(a, b, _g);
        }
        function Jc(a, b) {
            return Gc(a, b, $g);
        }
        function Kc(a, b) {
            return Hc(a, b, $g);
        }
        function Lc(a, b) {
            var c = -1, d = b.length, e = -1, f = [];
            while (++c < d) {
                var g = b[c];
                if (xg(a[g])) {
                    f[++e] = g;
                }
            }
            return f;
        }
        function Mc(b, c, d) {
            if (b == null) {
                return;
            }
            if (d !== a && d in qe(b)) {
                c = [ d ];
            }
            var e = 0, f = c.length;
            while (b != null && e < f) {
                b = b[c[e++]];
            }
            return e && e == f ? b : a;
        }
        function Nc(a, b, c, d, e, f) {
            if (a === b) {
                return true;
            }
            if (a == null || b == null || !yg(a) && !Ua(b)) {
                return a !== a && b !== b;
            }
            return Oc(a, b, Nc, c, d, e, f);
        }
        function Oc(a, b, c, d, e, f, g) {
            var h = pg(a), i = pg(b), j = v, k = v;
            if (!h) {
                j = eb.call(a);
                if (j == u) {
                    j = C;
                } else if (j != C) {
                    h = Hg(a);
                }
            }
            if (!i) {
                k = eb.call(b);
                if (k == u) {
                    k = C;
                } else if (k != C) {
                    i = Hg(b);
                }
            }
            var l = j == C, m = k == C, n = j == k;
            if (n && !(h || l)) {
                return Pd(a, b, j);
            }
            if (!e) {
                var o = l && cb.call(a, "__wrapped__"), p = m && cb.call(b, "__wrapped__");
                if (o || p) {
                    return c(o ? a.value() : a, p ? b.value() : b, d, e, f, g);
                }
            }
            if (!n) {
                return false;
            }
            f || (f = []);
            g || (g = []);
            var q = f.length;
            while (q--) {
                if (f[q] == a) {
                    return g[q] == b;
                }
            }
            f.push(a);
            g.push(b);
            var r = (h ? Od : Qd)(a, b, c, d, e, f, g);
            f.pop();
            g.pop();
            return r;
        }
        function Pc(b, c, d) {
            var e = c.length, f = e, g = !d;
            if (b == null) {
                return !f;
            }
            b = qe(b);
            while (e--) {
                var h = c[e];
                if (g && h[2] ? h[1] !== b[h[0]] : !(h[0] in b)) {
                    return false;
                }
            }
            while (++e < f) {
                h = c[e];
                var i = h[0], j = b[i], k = h[1];
                if (g && h[2]) {
                    if (j === a && !(i in b)) {
                        return false;
                    }
                } else {
                    var l = d ? d(j, k, i) : a;
                    if (!(l === a ? Nc(k, j, d, true) : l)) {
                        return false;
                    }
                }
            }
            return true;
        }
        function Qc(a, b) {
            var c = -1, d = be(a) ? E(a.length) : [];
            yc(a, function(a, e, f) {
                d[++c] = b(a, e, f);
            });
            return d;
        }
        function Rc(b) {
            var c = Wd(b);
            if (c.length == 1 && c[0][2]) {
                var d = c[0][0], e = c[0][1];
                return function(b) {
                    if (b == null) {
                        return false;
                    }
                    return b[d] === e && (e !== a || d in qe(b));
                };
            }
            return function(a) {
                return Pc(a, c);
            };
        }
        function Sc(b, c) {
            var d = pg(b), e = ee(b) && he(c), f = b + "";
            b = re(b);
            return function(g) {
                if (g == null) {
                    return false;
                }
                var h = f;
                g = qe(g);
                if ((d || !e) && !(h in g)) {
                    g = b.length == 1 ? g : Mc(g, _c(b, 0, -1));
                    if (g == null) {
                        return false;
                    }
                    h = Je(b);
                    g = qe(g);
                }
                return g[h] === c ? c !== a || h in g : Nc(c, g[h], a, true);
            };
        }
        function Tc(b, c, d, e, f) {
            if (!yg(b)) {
                return b;
            }
            var g = be(c) && (pg(c) || Hg(c)), h = g ? null : $g(c);
            dc(h || c, function(i, j) {
                if (h) {
                    j = i;
                    i = c[j];
                }
                if (Ua(i)) {
                    e || (e = []);
                    f || (f = []);
                    Uc(b, c, j, Tc, d, e, f);
                } else {
                    var k = b[j], l = d ? d(k, i, j, b, c) : a, m = l === a;
                    if (m) {
                        l = i;
                    }
                    if ((l !== a || g && !(j in b)) && (m || (l === l ? l !== k : k === k))) {
                        b[j] = l;
                    }
                }
            });
            return b;
        }
        function Uc(b, c, d, e, f, g, h) {
            var i = g.length, j = c[d];
            while (i--) {
                if (g[i] == j) {
                    b[d] = h[i];
                    return;
                }
            }
            var k = b[d], l = f ? f(k, j, d, b, c) : a, m = l === a;
            if (m) {
                l = j;
                if (be(j) && (pg(j) || Hg(j))) {
                    l = pg(k) ? k : be(k) ? cc(k) : [];
                } else if (Eg(j) || og(j)) {
                    l = og(k) ? Mg(k) : Eg(k) ? k : {};
                } else {
                    m = false;
                }
            }
            g.push(j);
            h.push(l);
            if (m) {
                b[d] = e(l, j, f, g, h);
            } else if (l === l ? l !== k : k === k) {
                b[d] = l;
            }
        }
        function Vc(b) {
            return function(c) {
                return c == null ? a : c[b];
            };
        }
        function Wc(a) {
            var b = a + "";
            a = re(a);
            return function(c) {
                return Mc(c, a, b);
            };
        }
        function Xc(a, b) {
            var c = a ? b.length : 0;
            while (c--) {
                var d = b[c];
                if (d != e && ce(d)) {
                    var e = d;
                    rb.call(a, d, 1);
                }
            }
            return a;
        }
        function Yc(a, b) {
            return a + lb(Eb() * (b - a + 1));
        }
        function Zc(a, b, c, d, e) {
            e(a, function(a, e, f) {
                c = d ? (d = false, a) : b(c, a, e, f);
            });
            return c;
        }
        var $c = !Mb ? Mh : function(a, b) {
            Mb.set(a, b);
            return a;
        };
        function _c(b, c, d) {
            var e = -1, f = b.length;
            c = c == null ? 0 : +c || 0;
            if (c < 0) {
                c = -c > f ? 0 : f + c;
            }
            d = d === a || d > f ? f : +d || 0;
            if (d < 0) {
                d += f;
            }
            f = c > d ? 0 : d - c >>> 0;
            c >>>= 0;
            var g = E(f);
            while (++e < f) {
                g[e] = b[e + c];
            }
            return g;
        }
        function ad(a, b) {
            var c;
            yc(a, function(a, d, e) {
                c = b(a, d, e);
                return !c;
            });
            return !!c;
        }
        function bd(a, b) {
            var c = a.length;
            a.sort(b);
            while (c--) {
                a[c] = a[c].value;
            }
            return a;
        }
        function cd(a, b, c) {
            var d = Rd(), e = -1;
            b = ic(b, function(a) {
                return d(a);
            });
            var f = Qc(a, function(a) {
                var c = ic(b, function(b) {
                    return b(a);
                });
                return {
                    criteria: c,
                    index: ++e,
                    value: a
                };
            });
            return bd(f, function(a, b) {
                return Pa(a, b, c);
            });
        }
        function dd(a, b) {
            var c = 0;
            yc(a, function(a, d, e) {
                c += +b(a, d, e) || 0;
            });
            return c;
        }
        function ed(a, b) {
            var c = -1, d = Ud(), e = a.length, f = d == Ja, g = f && e >= 200, h = g ? td() : null, i = [];
            if (h) {
                d = ac;
                f = false;
            } else {
                g = false;
                h = b ? [] : i;
            }
            a: while (++c < e) {
                var j = a[c], k = b ? b(j, c, a) : j;
                if (f && j === j) {
                    var l = h.length;
                    while (l--) {
                        if (h[l] === k) {
                            continue a;
                        }
                    }
                    if (b) {
                        h.push(k);
                    }
                    i.push(j);
                } else if (d(h, k, 0) < 0) {
                    if (b || g) {
                        h.push(k);
                    }
                    i.push(j);
                }
            }
            return i;
        }
        function fd(a, b) {
            var c = -1, d = b.length, e = E(d);
            while (++c < d) {
                e[c] = a[b[c]];
            }
            return e;
        }
        function gd(a, b, c, d) {
            var e = a.length, f = d ? e : -1;
            while ((d ? f-- : ++f < e) && b(a[f], f, a)) {}
            return c ? _c(a, d ? 0 : f, d ? f + 1 : e) : _c(a, d ? f + 1 : 0, d ? e : f);
        }
        function hd(a, b) {
            var c = a;
            if (c instanceof Sb) {
                c = c.value();
            }
            var d = -1, e = b.length;
            while (++d < e) {
                var f = [ c ], g = b[d];
                ob.apply(f, g.args);
                c = g.func.apply(g.thisArg, f);
            }
            return c;
        }
        function id(a, b, c) {
            var d = 0, e = a ? a.length : d;
            if (typeof b == "number" && b === b && e <= Jb) {
                while (d < e) {
                    var f = d + e >>> 1, g = a[f];
                    if ((c ? g <= b : g < b) && g !== null) {
                        d = f + 1;
                    } else {
                        e = f;
                    }
                }
                return e;
            }
            return jd(a, b, Mh, c);
        }
        function jd(b, c, d, e) {
            c = d(c);
            var f = 0, g = b ? b.length : 0, h = c !== c, i = c === null, j = c === a;
            while (f < g) {
                var k = lb((f + g) / 2), l = d(b[k]), m = l !== a, n = l === l;
                if (h) {
                    var o = n || e;
                } else if (i) {
                    o = n && m && (e || l != null);
                } else if (j) {
                    o = n && (e || m);
                } else if (l == null) {
                    o = false;
                } else {
                    o = e ? l <= c : l < c;
                }
                if (o) {
                    f = k + 1;
                } else {
                    g = k;
                }
            }
            return Ab(g, Ib);
        }
        function kd(b, c, d) {
            if (typeof b != "function") {
                return Mh;
            }
            if (c === a) {
                return b;
            }
            switch (d) {
              case 1:
                return function(a) {
                    return b.call(c, a);
                };

              case 3:
                return function(a, d, e) {
                    return b.call(c, a, d, e);
                };

              case 4:
                return function(a, d, e, f) {
                    return b.call(c, a, d, e, f);
                };

              case 5:
                return function(a, d, e, f, g) {
                    return b.call(c, a, d, e, f, g);
                };
            }
            return function() {
                return b.apply(c, arguments);
            };
        }
        function ld(a) {
            return ib.call(a, 0);
        }
        if (!ib) {
            ld = !(hb && sb) ? Lh(null) : function(a) {
                var b = a.byteLength, c = ub ? lb(b / Kb) : 0, d = c * Kb, e = new hb(b);
                if (c) {
                    var f = new ub(e, 0, c);
                    f.set(new ub(a, 0, c));
                }
                if (b != d) {
                    f = new sb(e, d);
                    f.set(new sb(a, d));
                }
                return e;
            };
        }
        function md(a, b, c) {
            var d = c.length, e = -1, f = zb(a.length - d, 0), g = -1, h = b.length, i = E(f + h);
            while (++g < h) {
                i[g] = b[g];
            }
            while (++e < d) {
                i[c[e]] = a[e];
            }
            while (f--) {
                i[g++] = a[e++];
            }
            return i;
        }
        function nd(a, b, c) {
            var d = -1, e = c.length, f = -1, g = zb(a.length - e, 0), h = -1, i = b.length, j = E(g + i);
            while (++f < g) {
                j[f] = a[f];
            }
            var k = f;
            while (++h < i) {
                j[k + h] = b[h];
            }
            while (++d < e) {
                j[k + c[d]] = a[f++];
            }
            return j;
        }
        function od(a, b) {
            return function(c, d, e) {
                var f = b ? b() : {};
                d = Rd(d, e, 3);
                if (pg(c)) {
                    var g = -1, h = c.length;
                    while (++g < h) {
                        var i = c[g];
                        a(f, i, d(i, g, c), c);
                    }
                } else {
                    yc(c, function(b, c, e) {
                        a(f, b, d(b, c, e), e);
                    });
                }
                return f;
            };
        }
        function pd(b) {
            return gg(function(c, d) {
                var e = -1, f = c == null ? 0 : d.length, g = f > 2 ? d[f - 2] : a, h = f > 2 ? d[2] : a, i = f > 1 ? d[f - 1] : a;
                if (typeof g == "function") {
                    g = kd(g, i, 5);
                    f -= 2;
                } else {
                    g = typeof i == "function" ? i : a;
                    f -= g ? 1 : 0;
                }
                if (h && de(d[0], d[1], h)) {
                    g = f < 3 ? a : g;
                    f = 1;
                }
                while (++e < f) {
                    var j = d[e];
                    if (j) {
                        b(c, j, g);
                    }
                }
                return c;
            });
        }
        function qd(a, b) {
            return function(c, d) {
                var e = c ? Vd(c) : 0;
                if (!ge(e)) {
                    return a(c, d);
                }
                var f = b ? e : -1, g = qe(c);
                while (b ? f-- : ++f < e) {
                    if (d(g[f], f, g) === false) {
                        break;
                    }
                }
                return c;
            };
        }
        function rd(a) {
            return function(b, c, d) {
                var e = qe(b), f = d(b), g = f.length, h = a ? g : -1;
                while (a ? h-- : ++h < g) {
                    var i = f[h];
                    if (c(e[i], i, e) === false) {
                        break;
                    }
                }
                return b;
            };
        }
        function sd(a, b) {
            var c = vd(a);
            function d() {
                var e = this && this !== Ga && this instanceof d ? c : a;
                return e.apply(b, arguments);
            }
            return d;
        }
        var td = !(vb && pb) ? Lh(null) : function(a) {
            return new _b(a);
        };
        function ud(a) {
            return function(b) {
                var c = -1, d = Ih(ph(b)), e = d.length, f = "";
                while (++c < e) {
                    f = a(f, d[c], c);
                }
                return f;
            };
        }
        function vd(a) {
            return function() {
                var b = arguments;
                switch (b.length) {
                  case 0:
                    return new a();

                  case 1:
                    return new a(b[0]);

                  case 2:
                    return new a(b[0], b[1]);

                  case 3:
                    return new a(b[0], b[1], b[2]);

                  case 4:
                    return new a(b[0], b[1], b[2], b[3]);

                  case 5:
                    return new a(b[0], b[1], b[2], b[3], b[4]);
                }
                var c = vc(a.prototype), d = a.apply(c, b);
                return yg(d) ? d : c;
            };
        }
        function wd(a) {
            function b(c, d, e) {
                if (e && de(c, d, e)) {
                    d = null;
                }
                var f = Nd(c, a, null, null, null, null, null, d);
                f.placeholder = b.placeholder;
                return f;
            }
            return b;
        }
        function xd(a, b) {
            return function(c, d, e) {
                if (e && de(c, d, e)) {
                    d = null;
                }
                d = Rd(d, e, 3);
                if (d.length == 1) {
                    c = pe(c);
                    var f = gc(c, d, a, b);
                    if (!(c.length && f === b)) {
                        return f;
                    }
                }
                return Bc(c, d, a, b);
            };
        }
        function yd(b, c) {
            return function(d, e, f) {
                e = Rd(e, f, 3);
                if (pg(d)) {
                    var g = Ia(d, e, c);
                    return g > -1 ? d[g] : a;
                }
                return Ec(d, e, b);
            };
        }
        function zd(a) {
            return function(b, c, d) {
                if (!(b && b.length)) {
                    return -1;
                }
                c = Rd(c, d, 3);
                return Ia(b, c, a);
            };
        }
        function Ad(a) {
            return function(b, c, d) {
                c = Rd(c, d, 3);
                return Ec(b, c, a, true);
            };
        }
        function Bd(a) {
            return function() {
                var b, c = arguments.length, d = a ? c : -1, e = 0, g = E(c);
                while (a ? d-- : ++d < c) {
                    var i = g[e++] = arguments[d];
                    if (typeof i != "function") {
                        throw new Ca(s);
                    }
                    if (!b && Qb.prototype.thru && Td(i) == "wrapper") {
                        b = new Qb([]);
                    }
                }
                d = b ? -1 : c;
                while (++d < c) {
                    i = g[d];
                    var l = Td(i), m = l == "wrapper" ? Sd(i) : null;
                    if (m && fe(m[0]) && m[1] == (j | f | h | k) && !m[4].length && m[9] == 1) {
                        b = b[Td(m[0])].apply(b, m[3]);
                    } else {
                        b = i.length == 1 && fe(i) ? b[l]() : b.thru(i);
                    }
                }
                return function() {
                    var a = arguments;
                    if (b && a.length == 1 && pg(a[0])) {
                        return b.plant(a[0]).value();
                    }
                    var d = 0, e = c ? g[d].apply(this, a) : a[0];
                    while (++d < c) {
                        e = g[d].call(this, e);
                    }
                    return e;
                };
            };
        }
        function Cd(b, c) {
            return function(d, e, f) {
                return typeof e == "function" && f === a && pg(d) ? b(d, e) : c(d, kd(e, f, 3));
            };
        }
        function Dd(b) {
            return function(c, d, e) {
                if (typeof d != "function" || e !== a) {
                    d = kd(d, e, 3);
                }
                return b(c, d, _g);
            };
        }
        function Ed(b) {
            return function(c, d, e) {
                if (typeof d != "function" || e !== a) {
                    d = kd(d, e, 3);
                }
                return b(c, d);
            };
        }
        function Fd(a) {
            return function(b, c, d) {
                var e = {};
                c = Rd(c, d, 3);
                Jc(b, function(b, d, f) {
                    var g = c(b, d, f);
                    d = a ? g : d;
                    b = a ? b : g;
                    e[d] = b;
                });
                return e;
            };
        }
        function Gd(a) {
            return function(b, c, d) {
                b = La(b);
                return (a ? b : "") + Kd(b, c, d) + (a ? "" : b);
            };
        }
        function Hd(a) {
            var b = gg(function(c, d) {
                var e = Wa(d, b.placeholder);
                return Nd(c, a, null, d, e);
            });
            return b;
        }
        function Id(b, c) {
            return function(d, e, f, g) {
                var h = arguments.length < 3;
                return typeof e == "function" && g === a && pg(d) ? b(d, e, f, h) : Zc(d, Rd(e, g, 4), f, h, c);
            };
        }
        function Jd(b, k, l, m, n, o, p, q, r, s) {
            var t = k & j, u = k & c, v = k & d, w = k & f, x = k & e, y = k & g, z = v ? null : vd(b);
            function A() {
                var e = arguments.length, f = e, g = E(e);
                while (f--) {
                    g[f] = arguments[f];
                }
                if (m) {
                    g = md(g, m, n);
                }
                if (o) {
                    g = nd(g, o, p);
                }
                if (w || y) {
                    var j = A.placeholder, B = Wa(g, j);
                    e -= B.length;
                    if (e < s) {
                        var C = q ? cc(q) : null, D = zb(s - e, 0), F = w ? B : null, G = w ? null : B, H = w ? g : null, I = w ? null : g;
                        k |= w ? h : i;
                        k &= ~(w ? i : h);
                        if (!x) {
                            k &= ~(c | d);
                        }
                        var J = [ b, k, l, H, F, I, G, C, r, D ], K = Jd.apply(a, J);
                        if (fe(b)) {
                            me(K, J);
                        }
                        K.placeholder = j;
                        return K;
                    }
                }
                var L = u ? l : this, M = v ? L[b] : b;
                if (q) {
                    g = le(g, q);
                }
                if (t && r < g.length) {
                    g.length = r;
                }
                if (this && this !== Ga && this instanceof A) {
                    M = z || vd(b);
                }
                return M.apply(L, g);
            }
            return A;
        }
        function Kd(a, b, c) {
            var d = a.length;
            b = +b;
            if (d >= b || !xb(b)) {
                return "";
            }
            var e = b - d;
            c = c == null ? " " : c + "";
            return yh(c, jb(e / c.length)).slice(0, e);
        }
        function Ld(a, b, d, e) {
            var f = b & c, g = vd(a);
            function h() {
                var b = -1, c = arguments.length, i = -1, j = e.length, k = E(c + j);
                while (++i < j) {
                    k[i] = e[i];
                }
                while (c--) {
                    k[i++] = arguments[++b];
                }
                var l = this && this !== Ga && this instanceof h ? g : a;
                return l.apply(f ? d : this, k);
            }
            return h;
        }
        function Md(a) {
            return function(b, c, d, e) {
                var f = Rd(d);
                return d == null && f === tc ? id(b, c, a) : jd(b, c, f(d, e, 1), a);
            };
        }
        function Nd(b, e, f, g, j, k, l, m) {
            var n = e & d;
            if (!n && typeof b != "function") {
                throw new Ca(s);
            }
            var o = g ? g.length : 0;
            if (!o) {
                e &= ~(h | i);
                g = j = null;
            }
            o -= j ? j.length : 0;
            if (e & i) {
                var p = g, q = j;
                g = j = null;
            }
            var r = n ? null : Sd(b), t = [ b, e, f, g, j, p, q, k, l, m ];
            if (r) {
                ie(t, r);
                e = t[1];
                m = t[9];
            }
            t[9] = m == null ? n ? 0 : b.length : zb(m - o, 0) || 0;
            if (e == c) {
                var u = sd(t[0], t[2]);
            } else if ((e == h || e == (c | h)) && !t[4].length) {
                u = Ld.apply(a, t);
            } else {
                u = Jd.apply(a, t);
            }
            var v = r ? $c : me;
            return v(u, t);
        }
        function Od(b, c, d, e, f, g, h) {
            var i = -1, j = b.length, k = c.length;
            if (j != k && !(f && k > j)) {
                return false;
            }
            while (++i < j) {
                var l = b[i], m = c[i], n = e ? e(f ? m : l, f ? l : m, i) : a;
                if (n !== a) {
                    if (n) {
                        continue;
                    }
                    return false;
                }
                if (f) {
                    if (!lc(c, function(a) {
                        return l === a || d(l, a, e, f, g, h);
                    })) {
                        return false;
                    }
                } else if (!(l === m || d(l, m, e, f, g, h))) {
                    return false;
                }
            }
            return true;
        }
        function Pd(a, b, c) {
            switch (c) {
              case w:
              case x:
                return +a == +b;

              case y:
                return a.name == b.name && a.message == b.message;

              case B:
                return a != +a ? b != +b : a == +b;

              case D:
              case F:
                return a == b + "";
            }
            return false;
        }
        function Qd(b, c, d, e, f, g, h) {
            var i = $g(b), j = i.length, k = $g(c), l = k.length;
            if (j != l && !f) {
                return false;
            }
            var m = j;
            while (m--) {
                var n = i[m];
                if (!(f ? n in c : cb.call(c, n))) {
                    return false;
                }
            }
            var o = f;
            while (++m < j) {
                n = i[m];
                var p = b[n], q = c[n], r = e ? e(f ? q : p, f ? p : q, n) : a;
                if (!(r === a ? d(p, q, e, f, g, h) : r)) {
                    return false;
                }
                o || (o = n == "constructor");
            }
            if (!o) {
                var s = b.constructor, t = c.constructor;
                if (s != t && ("constructor" in b && "constructor" in c) && !(typeof s == "function" && s instanceof s && typeof t == "function" && t instanceof t)) {
                    return false;
                }
            }
            return true;
        }
        function Rd(a, b, c) {
            var d = Ob.callback || Kh;
            d = d === Kh ? tc : d;
            return c ? d(a, b, c) : d;
        }
        var Sd = !Mb ? Th : function(a) {
            return Mb.get(a);
        };
        function Td(a) {
            var b = a.name, c = Nb[b], d = c ? c.length : 0;
            while (d--) {
                var e = c[d], f = e.func;
                if (f == null || f == a) {
                    return e.name;
                }
            }
            return b;
        }
        function Ud(a, b, c) {
            var d = Ob.indexOf || Ge;
            d = d === Ge ? Ja : d;
            return a ? d(a, b, c) : d;
        }
        var Vd = Vc("length");
        function Wd(a) {
            var b = eh(a), c = b.length;
            while (c--) {
                b[c][2] = he(b[c][1]);
            }
            return b;
        }
        function Xd(b, c) {
            var d = b == null ? a : b[c];
            return Bg(d) ? d : a;
        }
        function Yd(a, b, c) {
            var d = -1, e = c ? c.length : 0;
            while (++d < e) {
                var f = c[d], g = f.size;
                switch (f.type) {
                  case "drop":
                    a += g;
                    break;

                  case "dropRight":
                    b -= g;
                    break;

                  case "take":
                    b = Ab(b, a + g);
                    break;

                  case "takeRight":
                    a = zb(a, b - g);
                    break;
                }
            }
            return {
                start: a,
                end: b
            };
        }
        function Zd(a) {
            var b = a.length, c = new a.constructor(b);
            if (b && typeof a[0] == "string" && cb.call(a, "index")) {
                c.index = a.index;
                c.input = a.input;
            }
            return c;
        }
        function $d(a) {
            var b = a.constructor;
            if (!(typeof b == "function" && b instanceof b)) {
                b = za;
            }
            return new b();
        }
        function _d(a, b, c) {
            var d = a.constructor;
            switch (b) {
              case H:
                return ld(a);

              case w:
              case x:
                return new d(+a);

              case I:
              case J:
              case K:
              case L:
              case M:
              case N:
              case O:
              case P:
              case Q:
                var e = a.buffer;
                return new d(c ? ld(e) : e, a.byteOffset, a.length);

              case B:
              case F:
                return new d(a);

              case D:
                var f = new d(a.source, ha.exec(a));
                f.lastIndex = a.lastIndex;
            }
            return f;
        }
        function ae(b, c, d) {
            if (b != null && !ee(c, b)) {
                c = re(c);
                b = c.length == 1 ? b : Mc(b, _c(c, 0, -1));
                c = Je(c);
            }
            var e = b == null ? b : b[c];
            return e == null ? a : e.apply(b, d);
        }
        function be(a) {
            return a != null && ge(Vd(a));
        }
        function ce(a, b) {
            a = typeof a == "number" || ka.test(a) ? +a : -1;
            b = b == null ? Lb : b;
            return a > -1 && a % 1 == 0 && a < b;
        }
        function de(a, b, c) {
            if (!yg(c)) {
                return false;
            }
            var d = typeof b;
            if (d == "number" ? be(c) && ce(b, c.length) : d == "string" && b in c) {
                var e = c[b];
                return a === a ? a === e : e !== e;
            }
            return false;
        }
        function ee(a, b) {
            var c = typeof a;
            if (c == "string" && aa.test(a) || c == "number") {
                return true;
            }
            if (pg(a)) {
                return false;
            }
            var d = !_.test(a);
            return d || b != null && a in qe(b);
        }
        function fe(a) {
            var b = Td(a);
            if (!(b in Sb.prototype)) {
                return false;
            }
            var c = Ob[b];
            if (a === c) {
                return true;
            }
            var d = Sd(c);
            return !!d && a === d[0];
        }
        function ge(a) {
            return typeof a == "number" && a > -1 && a % 1 == 0 && a <= Lb;
        }
        function he(a) {
            return a === a && !yg(a);
        }
        function ie(a, b) {
            var d = a[1], g = b[1], h = d | g, i = h < j;
            var l = g == j && d == f || g == j && d == k && a[7].length <= b[8] || g == (j | k) && d == f;
            if (!(i || l)) {
                return a;
            }
            if (g & c) {
                a[2] = b[2];
                h |= d & c ? 0 : e;
            }
            var m = b[3];
            if (m) {
                var n = a[3];
                a[3] = n ? md(n, m, b[4]) : cc(m);
                a[4] = n ? Wa(a[3], t) : cc(b[4]);
            }
            m = b[5];
            if (m) {
                n = a[5];
                a[5] = n ? nd(n, m, b[6]) : cc(m);
                a[6] = n ? Wa(a[5], t) : cc(b[6]);
            }
            m = b[7];
            if (m) {
                a[7] = cc(m);
            }
            if (g & j) {
                a[8] = a[8] == null ? b[8] : Ab(a[8], b[8]);
            }
            if (a[9] == null) {
                a[9] = b[9];
            }
            a[0] = b[0];
            a[1] = h;
            return a;
        }
        function je(a, b) {
            a = qe(a);
            var c = -1, d = b.length, e = {};
            while (++c < d) {
                var f = b[c];
                if (f in a) {
                    e[f] = a[f];
                }
            }
            return e;
        }
        function ke(a, b) {
            var c = {};
            Ic(a, function(a, d, e) {
                if (b(a, d, e)) {
                    c[d] = a;
                }
            });
            return c;
        }
        function le(b, c) {
            var d = b.length, e = Ab(c.length, d), f = cc(b);
            while (e--) {
                var g = c[e];
                b[e] = ce(g, d) ? f[g] : a;
            }
            return b;
        }
        var me = function() {
            var a = 0, b = 0;
            return function(c, d) {
                var e = Of(), f = o - (e - b);
                b = e;
                if (f > 0) {
                    if (++a >= n) {
                        return c;
                    }
                } else {
                    a = 0;
                }
                return $c(c, d);
            };
        }();
        function ne(b) {
            var c, d = Ob.support;
            if (!(Ua(b) && eb.call(b) == C) || !cb.call(b, "constructor") && (c = b.constructor, 
            typeof c == "function" && !(c instanceof c))) {
                return false;
            }
            var e;
            Ic(b, function(a, b) {
                e = b;
            });
            return e === a || cb.call(b, e);
        }
        function oe(a) {
            var b = _g(a), c = b.length, d = c && a.length;
            var e = !!d && ge(d) && (pg(a) || og(a));
            var f = -1, g = [];
            while (++f < c) {
                var h = b[f];
                if (e && ce(h, d) || cb.call(a, h)) {
                    g.push(h);
                }
            }
            return g;
        }
        function pe(a) {
            if (a == null) {
                return [];
            }
            if (!be(a)) {
                return jh(a);
            }
            return yg(a) ? a : za(a);
        }
        function qe(a) {
            return yg(a) ? a : za(a);
        }
        function re(a) {
            if (pg(a)) {
                return a;
            }
            var b = [];
            La(a).replace(ba, function(a, c, d, e) {
                b.push(d ? e.replace(fa, "$1") : c || a);
            });
            return b;
        }
        function se(a) {
            return a instanceof Sb ? a.clone() : new Qb(a.__wrapped__, a.__chain__, cc(a.__actions__));
        }
        function te(a, b, c) {
            if (c ? de(a, b, c) : b == null) {
                b = 1;
            } else {
                b = zb(+b || 1, 1);
            }
            var d = 0, e = a ? a.length : 0, f = -1, g = E(jb(e / b));
            while (d < e) {
                g[++f] = _c(a, d, d += b);
            }
            return g;
        }
        function ue(a) {
            var b = -1, c = a ? a.length : 0, d = -1, e = [];
            while (++b < c) {
                var f = a[b];
                if (f) {
                    e[++d] = f;
                }
            }
            return e;
        }
        var ve = gg(function(a, b) {
            return be(a) ? xc(a, Fc(b, false, true)) : [];
        });
        function we(a, b, c) {
            var d = a ? a.length : 0;
            if (!d) {
                return [];
            }
            if (c ? de(a, b, c) : b == null) {
                b = 1;
            }
            return _c(a, b < 0 ? 0 : b);
        }
        function xe(a, b, c) {
            var d = a ? a.length : 0;
            if (!d) {
                return [];
            }
            if (c ? de(a, b, c) : b == null) {
                b = 1;
            }
            b = d - (+b || 0);
            return _c(a, 0, b < 0 ? 0 : b);
        }
        function ye(a, b, c) {
            return a && a.length ? gd(a, Rd(b, c, 3), true, true) : [];
        }
        function ze(a, b, c) {
            return a && a.length ? gd(a, Rd(b, c, 3), true) : [];
        }
        function Ae(a, b, c, d) {
            var e = a ? a.length : 0;
            if (!e) {
                return [];
            }
            if (c && typeof c != "number" && de(a, b, c)) {
                c = 0;
                d = e;
            }
            return Cc(a, b, c, d);
        }
        var Be = zd();
        var Ce = zd(true);
        function De(b) {
            return b ? b[0] : a;
        }
        function Ee(a, b, c) {
            var d = a ? a.length : 0;
            if (c && de(a, b, c)) {
                b = false;
            }
            return d ? Fc(a, b) : [];
        }
        function Fe(a) {
            var b = a ? a.length : 0;
            return b ? Fc(a, true) : [];
        }
        function Ge(a, b, c) {
            var d = a ? a.length : 0;
            if (!d) {
                return -1;
            }
            if (typeof c == "number") {
                c = c < 0 ? zb(d + c, 0) : c;
            } else if (c) {
                var e = id(a, b), f = a[e];
                if (b === b ? b === f : f !== f) {
                    return e;
                }
                return -1;
            }
            return Ja(a, b, c || 0);
        }
        function He(a) {
            return xe(a, 1);
        }
        var Ie = gg(function(a) {
            var b = a.length, c = b, d = E(k), e = Ud(), f = e == Ja, g = [];
            while (c--) {
                var h = a[c] = be(h = a[c]) ? h : [];
                d[c] = f && h.length >= 120 ? td(c && h) : null;
            }
            var i = a[0], j = -1, k = i ? i.length : 0, l = d[0];
            a: while (++j < k) {
                h = i[j];
                if ((l ? ac(l, h) : e(g, h, 0)) < 0) {
                    var c = b;
                    while (--c) {
                        var m = d[c];
                        if ((m ? ac(m, h) : e(a[c], h, 0)) < 0) {
                            continue a;
                        }
                    }
                    if (l) {
                        l.push(h);
                    }
                    g.push(h);
                }
            }
            return g;
        });
        function Je(b) {
            var c = b ? b.length : 0;
            return c ? b[c - 1] : a;
        }
        function Ke(a, b, c) {
            var d = a ? a.length : 0;
            if (!d) {
                return -1;
            }
            var e = d;
            if (typeof c == "number") {
                e = (c < 0 ? zb(d + c, 0) : Ab(c || 0, d - 1)) + 1;
            } else if (c) {
                e = id(a, b, true) - 1;
                var f = a[e];
                if (b === b ? b === f : f !== f) {
                    return e;
                }
                return -1;
            }
            if (b !== b) {
                return Ta(a, e, true);
            }
            while (e--) {
                if (a[e] === b) {
                    return e;
                }
            }
            return -1;
        }
        function Le() {
            var a = arguments, b = a[0];
            if (!(b && b.length)) {
                return b;
            }
            var c = 0, d = Ud(), e = a.length;
            while (++c < e) {
                var f = 0, g = a[c];
                while ((f = d(b, g, f)) > -1) {
                    rb.call(b, f, 1);
                }
            }
            return b;
        }
        var Me = gg(function(a, b) {
            b = Fc(b);
            var c = rc(a, b);
            Xc(a, b.sort(Ha));
            return c;
        });
        function Ne(a, b, c) {
            var d = [];
            if (!(a && a.length)) {
                return d;
            }
            var e = -1, f = [], g = a.length;
            b = Rd(b, c, 3);
            while (++e < g) {
                var h = a[e];
                if (b(h, e, a)) {
                    d.push(h);
                    f.push(e);
                }
            }
            Xc(a, f);
            return d;
        }
        function Oe(a) {
            return we(a, 1);
        }
        function Pe(a, b, c) {
            var d = a ? a.length : 0;
            if (!d) {
                return [];
            }
            if (c && typeof c != "number" && de(a, b, c)) {
                b = 0;
                c = d;
            }
            return _c(a, b, c);
        }
        var Qe = Md();
        var Re = Md(true);
        function Se(a, b, c) {
            var d = a ? a.length : 0;
            if (!d) {
                return [];
            }
            if (c ? de(a, b, c) : b == null) {
                b = 1;
            }
            return _c(a, 0, b < 0 ? 0 : b);
        }
        function Te(a, b, c) {
            var d = a ? a.length : 0;
            if (!d) {
                return [];
            }
            if (c ? de(a, b, c) : b == null) {
                b = 1;
            }
            b = d - (+b || 0);
            return _c(a, b < 0 ? 0 : b);
        }
        function Ue(a, b, c) {
            return a && a.length ? gd(a, Rd(b, c, 3), false, true) : [];
        }
        function Ve(a, b, c) {
            return a && a.length ? gd(a, Rd(b, c, 3)) : [];
        }
        var We = gg(function(a) {
            return ed(Fc(a, false, true));
        });
        function Xe(a, b, c, d) {
            var e = a ? a.length : 0;
            if (!e) {
                return [];
            }
            if (b != null && typeof b != "boolean") {
                d = c;
                c = de(a, b, d) ? null : b;
                b = false;
            }
            var f = Rd();
            if (!(c == null && f === tc)) {
                c = f(c, d, 3);
            }
            return b && Ud() == Ja ? Xa(a, c) : ed(a, c);
        }
        function Ye(a) {
            if (!(a && a.length)) {
                return [];
            }
            var b = -1, c = 0;
            a = hc(a, function(a) {
                if (be(a)) {
                    c = zb(a.length, c);
                    return true;
                }
            });
            var d = E(c);
            while (++b < c) {
                d[b] = ic(a, Vc(b));
            }
            return d;
        }
        function Ze(b, c, d) {
            var e = b ? b.length : 0;
            if (!e) {
                return [];
            }
            var f = Ye(b);
            if (c == null) {
                return f;
            }
            c = kd(c, d, 4);
            return ic(f, function(b) {
                return jc(b, c, a, true);
            });
        }
        var $e = gg(function(a, b) {
            return be(a) ? xc(a, b) : [];
        });
        function _e() {
            var a = -1, b = arguments.length;
            while (++a < b) {
                var c = arguments[a];
                if (be(c)) {
                    var d = d ? xc(d, c).concat(xc(c, d)) : c;
                }
            }
            return d ? ed(d) : [];
        }
        var af = gg(Ye);
        function bf(a, b) {
            var c = -1, d = a ? a.length : 0, e = {};
            if (d && !b && !pg(a[0])) {
                b = [];
            }
            while (++c < d) {
                var f = a[c];
                if (b) {
                    e[f] = b[c];
                } else if (f) {
                    e[f[0]] = f[1];
                }
            }
            return e;
        }
        var cf = gg(function(b) {
            var c = b.length, d = c > 2 ? b[c - 2] : a, e = c > 1 ? b[c - 1] : a;
            if (c > 2 && typeof d == "function") {
                c -= 2;
            } else {
                d = c > 1 && typeof e == "function" ? (--c, e) : a;
                e = a;
            }
            b.length = c;
            return Ze(b, d, e);
        });
        function df(a) {
            var b = Ob(a);
            b.__chain__ = true;
            return b;
        }
        function ef(a, b, c) {
            b.call(c, a);
            return a;
        }
        function ff(a, b, c) {
            return b.call(c, a);
        }
        function gf() {
            return df(this);
        }
        function hf() {
            return new Qb(this.value(), this.__chain__);
        }
        function jf(a) {
            var b, c = this;
            while (c instanceof Pb) {
                var d = se(c);
                if (b) {
                    e.__wrapped__ = d;
                } else {
                    b = d;
                }
                var e = d;
                c = c.__wrapped__;
            }
            e.__wrapped__ = a;
            return b;
        }
        function kf() {
            var a = this.__wrapped__;
            if (a instanceof Sb) {
                if (this.__actions__.length) {
                    a = new Sb(this);
                }
                return new Qb(a.reverse(), this.__chain__);
            }
            return this.thru(function(a) {
                return a.reverse();
            });
        }
        function lf() {
            return this.value() + "";
        }
        function mf() {
            return hd(this.__wrapped__, this.__actions__);
        }
        var nf = gg(function(a, b) {
            return rc(a, Fc(b));
        });
        var of = od(function(a, b, c) {
            cb.call(a, c) ? ++a[c] : a[c] = 1;
        });
        function pf(b, c, d) {
            var e = pg(b) ? fc : Ac;
            if (d && de(b, c, d)) {
                c = null;
            }
            if (typeof c != "function" || d !== a) {
                c = Rd(c, d, 3);
            }
            return e(b, c);
        }
        function qf(a, b, c) {
            var d = pg(a) ? hc : Dc;
            b = Rd(b, c, 3);
            return d(a, b);
        }
        var rf = yd(yc);
        var sf = yd(zc, true);
        function tf(a, b) {
            return rf(a, Rc(b));
        }
        var uf = Cd(dc, yc);
        var vf = Cd(ec, zc);
        var wf = od(function(a, b, c) {
            if (cb.call(a, c)) {
                a[c].push(b);
            } else {
                a[c] = [ b ];
            }
        });
        function xf(a, b, c, d) {
            var e = a ? Vd(a) : 0;
            if (!ge(e)) {
                a = jh(a);
                e = a.length;
            }
            if (!e) {
                return false;
            }
            if (typeof c != "number" || d && de(b, c, d)) {
                c = 0;
            } else {
                c = c < 0 ? zb(e + c, 0) : c || 0;
            }
            return typeof a == "string" || !pg(a) && Gg(a) ? c < e && a.indexOf(b, c) > -1 : Ud(a, b, c) > -1;
        }
        var yf = od(function(a, b, c) {
            a[c] = b;
        });
        var zf = gg(function(a, b, c) {
            var d = -1, e = typeof b == "function", f = ee(b), g = be(a) ? E(a.length) : [];
            yc(a, function(a) {
                var h = e ? b : f && a != null ? a[b] : null;
                g[++d] = h ? h.apply(a, c) : ae(a, b, c);
            });
            return g;
        });
        function Af(a, b, c) {
            var d = pg(a) ? ic : Qc;
            b = Rd(b, c, 3);
            return d(a, b);
        }
        var Bf = od(function(a, b, c) {
            a[c ? 0 : 1].push(b);
        }, function() {
            return [ [], [] ];
        });
        function Cf(a, b) {
            return Af(a, Uh(b));
        }
        var Df = Id(jc, yc);
        var Ef = Id(kc, zc);
        function Ff(a, b, c) {
            var d = pg(a) ? hc : Dc;
            b = Rd(b, c, 3);
            return d(a, function(a, c, d) {
                return !b(a, c, d);
            });
        }
        function Gf(b, c, d) {
            if (d ? de(b, c, d) : c == null) {
                b = pe(b);
                var e = b.length;
                return e > 0 ? b[Yc(0, e - 1)] : a;
            }
            var f = -1, g = Lg(b), e = g.length, h = e - 1;
            c = Ab(c < 0 ? 0 : +c || 0, e);
            while (++f < c) {
                var i = Yc(f, h), j = g[i];
                g[i] = g[f];
                g[f] = j;
            }
            g.length = c;
            return g;
        }
        function Hf(a) {
            return Gf(a, Gb);
        }
        function If(a) {
            var b = a ? Vd(a) : 0;
            return ge(b) ? b : $g(a).length;
        }
        function Jf(b, c, d) {
            var e = pg(b) ? lc : ad;
            if (d && de(b, c, d)) {
                c = null;
            }
            if (typeof c != "function" || d !== a) {
                c = Rd(c, d, 3);
            }
            return e(b, c);
        }
        function Kf(a, b, c) {
            if (a == null) {
                return [];
            }
            if (c && de(a, b, c)) {
                b = null;
            }
            var d = -1;
            b = Rd(b, c, 3);
            var e = Qc(a, function(a, c, e) {
                return {
                    criteria: b(a, c, e),
                    index: ++d,
                    value: a
                };
            });
            return bd(e, Oa);
        }
        var Lf = gg(function(a, b) {
            if (a == null) {
                return [];
            }
            var c = b[2];
            if (c && de(b[0], b[1], c)) {
                b.length = 1;
            }
            return cd(a, Fc(b), []);
        });
        function Mf(a, b, c, d) {
            if (a == null) {
                return [];
            }
            if (d && de(b, c, d)) {
                c = null;
            }
            if (!pg(b)) {
                b = b == null ? [] : [ b ];
            }
            if (!pg(c)) {
                c = c == null ? [] : [ c ];
            }
            return cd(a, b, c);
        }
        function Nf(a, b) {
            return qf(a, Rc(b));
        }
        var Of = Bb || function() {
            return new G().getTime();
        };
        function Pf(a, b) {
            if (typeof b != "function") {
                if (typeof a == "function") {
                    var c = a;
                    a = b;
                    b = c;
                } else {
                    throw new Ca(s);
                }
            }
            a = xb(a = +a) ? a : 0;
            return function() {
                if (--a < 1) {
                    return b.apply(this, arguments);
                }
            };
        }
        function Qf(a, b, c) {
            if (c && de(a, b, c)) {
                b = null;
            }
            b = a && b == null ? a.length : zb(+b || 0, 0);
            return Nd(a, j, null, null, null, null, b);
        }
        function Rf(a, b) {
            var c;
            if (typeof b != "function") {
                if (typeof a == "function") {
                    var d = a;
                    a = b;
                    b = d;
                } else {
                    throw new Ca(s);
                }
            }
            return function() {
                if (--a > 0) {
                    c = b.apply(this, arguments);
                }
                if (a <= 1) {
                    b = null;
                }
                return c;
            };
        }
        var Sf = gg(function(a, b, d) {
            var e = c;
            if (d.length) {
                var f = Wa(d, Sf.placeholder);
                e |= h;
            }
            return Nd(a, e, b, d, f);
        });
        var Tf = gg(function(a, b) {
            b = b.length ? Fc(b) : Wg(a);
            var d = -1, e = b.length;
            while (++d < e) {
                var f = b[d];
                a[f] = Nd(a[f], c, a);
            }
            return a;
        });
        var Uf = gg(function(a, b, e) {
            var f = c | d;
            if (e.length) {
                var g = Wa(e, Uf.placeholder);
                f |= h;
            }
            return Nd(b, f, a, e, g);
        });
        var Vf = wd(f);
        var Wf = wd(g);
        function Xf(b, c, d) {
            var e, f, g, h, i, j, k, l = 0, m = false, n = true;
            if (typeof b != "function") {
                throw new Ca(s);
            }
            c = c < 0 ? 0 : +c || 0;
            if (d === true) {
                var o = true;
                n = false;
            } else if (yg(d)) {
                o = d.leading;
                m = "maxWait" in d && zb(+d.maxWait || 0, c);
                n = "trailing" in d ? d.trailing : n;
            }
            function p() {
                if (j) {
                    kb(j);
                }
                if (f) {
                    kb(f);
                }
                f = j = k = a;
            }
            function q() {
                var d = c - (Of() - h);
                if (d <= 0 || d > c) {
                    if (f) {
                        kb(f);
                    }
                    var m = k;
                    f = j = k = a;
                    if (m) {
                        l = Of();
                        g = b.apply(i, e);
                        if (!j && !f) {
                            e = i = null;
                        }
                    }
                } else {
                    j = qb(q, d);
                }
            }
            function r() {
                if (j) {
                    kb(j);
                }
                f = j = k = a;
                if (n || m !== c) {
                    l = Of();
                    g = b.apply(i, e);
                    if (!j && !f) {
                        e = i = null;
                    }
                }
            }
            function t() {
                e = arguments;
                h = Of();
                i = this;
                k = n && (j || !o);
                if (m === false) {
                    var a = o && !j;
                } else {
                    if (!f && !o) {
                        l = h;
                    }
                    var d = m - (h - l), p = d <= 0 || d > m;
                    if (p) {
                        if (f) {
                            f = kb(f);
                        }
                        l = h;
                        g = b.apply(i, e);
                    } else if (!f) {
                        f = qb(r, d);
                    }
                }
                if (p && j) {
                    j = kb(j);
                } else if (!j && c !== m) {
                    j = qb(q, c);
                }
                if (a) {
                    p = true;
                    g = b.apply(i, e);
                }
                if (p && !j && !f) {
                    e = i = null;
                }
                return g;
            }
            t.cancel = p;
            return t;
        }
        var Yf = gg(function(a, b) {
            return wc(a, 1, b);
        });
        var Zf = gg(function(a, b, c) {
            return wc(a, b, c);
        });
        var $f = Bd();
        var _f = Bd(true);
        function ag(a, b) {
            if (typeof a != "function" || b && typeof b != "function") {
                throw new Ca(s);
            }
            var c = function() {
                var d = arguments, e = b ? b.apply(this, d) : d[0], f = c.cache;
                if (f.has(e)) {
                    return f.get(e);
                }
                var g = a.apply(this, d);
                c.cache = f.set(e, g);
                return g;
            };
            c.cache = new ag.Cache();
            return c;
        }
        function bg(a) {
            if (typeof a != "function") {
                throw new Ca(s);
            }
            return function() {
                return !a.apply(this, arguments);
            };
        }
        function cg(a) {
            return Rf(2, a);
        }
        var dg = Hd(h);
        var eg = Hd(i);
        var fg = gg(function(a, b) {
            return Nd(a, k, null, null, null, Fc(b));
        });
        function gg(b, c) {
            if (typeof b != "function") {
                throw new Ca(s);
            }
            c = zb(c === a ? b.length - 1 : +c || 0, 0);
            return function() {
                var a = arguments, d = -1, e = zb(a.length - c, 0), f = E(e);
                while (++d < e) {
                    f[d] = a[c + d];
                }
                switch (c) {
                  case 0:
                    return b.call(this, f);

                  case 1:
                    return b.call(this, a[0], f);

                  case 2:
                    return b.call(this, a[0], a[1], f);
                }
                var g = E(c + 1);
                d = -1;
                while (++d < c) {
                    g[d] = a[d];
                }
                g[c] = f;
                return b.apply(this, g);
            };
        }
        function hg(a) {
            if (typeof a != "function") {
                throw new Ca(s);
            }
            return function(b) {
                return a.apply(this, b);
            };
        }
        function ig(a, b, c) {
            var d = true, e = true;
            if (typeof a != "function") {
                throw new Ca(s);
            }
            if (c === false) {
                d = false;
            } else if (yg(c)) {
                d = "leading" in c ? !!c.leading : d;
                e = "trailing" in c ? !!c.trailing : e;
            }
            ua.leading = d;
            ua.maxWait = +b;
            ua.trailing = e;
            return Xf(a, b, ua);
        }
        function jg(a, b) {
            b = b == null ? Mh : b;
            return Nd(b, h, null, [ a ], []);
        }
        function kg(a, b, c, d) {
            if (b && typeof b != "boolean" && de(a, b, c)) {
                b = false;
            } else if (typeof b == "function") {
                d = c;
                c = b;
                b = false;
            }
            return typeof c == "function" ? uc(a, b, kd(c, d, 1)) : uc(a, b);
        }
        function lg(a, b, c) {
            return typeof b == "function" ? uc(a, true, kd(b, c, 1)) : uc(a, true);
        }
        function mg(a, b) {
            return a > b;
        }
        function ng(a, b) {
            return a >= b;
        }
        function og(a) {
            return Ua(a) && be(a) && eb.call(a) == u;
        }
        var pg = wb || function(a) {
            return Ua(a) && ge(a.length) && eb.call(a) == v;
        };
        function qg(a) {
            return a === true || a === false || Ua(a) && eb.call(a) == w;
        }
        function rg(a) {
            return Ua(a) && eb.call(a) == x;
        }
        function sg(a) {
            return !!a && a.nodeType === 1 && Ua(a) && eb.call(a).indexOf("Element") > -1;
        }
        if (!Rb.dom) {
            sg = function(a) {
                return !!a && a.nodeType === 1 && Ua(a) && !Eg(a);
            };
        }
        function tg(a) {
            if (a == null) {
                return true;
            }
            if (be(a) && (pg(a) || Gg(a) || og(a) || Ua(a) && xg(a.splice))) {
                return !a.length;
            }
            return !$g(a).length;
        }
        function ug(b, c, d, e) {
            d = typeof d == "function" ? kd(d, e, 3) : a;
            var f = d ? d(b, c) : a;
            return f === a ? Nc(b, c, d) : !!f;
        }
        function vg(a) {
            return Ua(a) && typeof a.message == "string" && eb.call(a) == y;
        }
        var wg = Cb || function(a) {
            return typeof a == "number" && xb(a);
        };
        var xg = !(Ka(/x/) || sb && !Ka(sb)) ? Ka : function(a) {
            return eb.call(a) == z;
        };
        function yg(a) {
            var b = typeof a;
            return !!a && (b == "object" || b == "function");
        }
        function zg(b, c, d, e) {
            d = typeof d == "function" ? kd(d, e, 3) : a;
            return Pc(b, Wd(c), d);
        }
        function Ag(a) {
            return Dg(a) && a != +a;
        }
        function Bg(a) {
            if (a == null) {
                return false;
            }
            if (eb.call(a) == z) {
                return gb.test(bb.call(a));
            }
            return Ua(a) && ja.test(a);
        }
        function Cg(a) {
            return a === null;
        }
        function Dg(a) {
            return typeof a == "number" || Ua(a) && eb.call(a) == B;
        }
        var Eg = !mb ? ne : function(a) {
            if (!(a && eb.call(a) == C)) {
                return false;
            }
            var b = Xd(a, "valueOf"), c = b && (c = mb(b)) && mb(c);
            return c ? a == c || mb(a) == c : ne(a);
        };
        function Fg(a) {
            return Ua(a) && eb.call(a) == D;
        }
        function Gg(a) {
            return typeof a == "string" || Ua(a) && eb.call(a) == F;
        }
        function Hg(a) {
            return Ua(a) && ge(a.length) && !!sa[eb.call(a)];
        }
        function Ig(b) {
            return b === a;
        }
        function Jg(a, b) {
            return a < b;
        }
        function Kg(a, b) {
            return a <= b;
        }
        function Lg(a) {
            var b = a ? Vd(a) : 0;
            if (!ge(b)) {
                return jh(a);
            }
            if (!b) {
                return [];
            }
            return cc(a);
        }
        function Mg(a) {
            return sc(a, _g(a));
        }
        var Ng = pd(function(a, b, c) {
            return c ? pc(a, b, c) : qc(a, b);
        });
        function Og(a, b, c) {
            var d = vc(a);
            if (c && de(a, b, c)) {
                b = null;
            }
            return b ? qc(d, b) : d;
        }
        var Pg = gg(function(b) {
            var c = b[0];
            if (c == null) {
                return c;
            }
            b.push(nc);
            return Ng.apply(a, b);
        });
        var Qg = Ad(Jc);
        var Rg = Ad(Kc);
        var Sg = Dd(Gc);
        var Tg = Dd(Hc);
        var Ug = Ed(Jc);
        var Vg = Ed(Kc);
        function Wg(a) {
            return Lc(a, _g(a));
        }
        function Xg(b, c, d) {
            var e = b == null ? a : Mc(b, re(c), c + "");
            return e === a ? d : e;
        }
        function Yg(a, b) {
            if (a == null) {
                return false;
            }
            var c = cb.call(a, b);
            if (!c && !ee(b)) {
                b = re(b);
                a = b.length == 1 ? a : Mc(a, _c(b, 0, -1));
                if (a == null) {
                    return false;
                }
                b = Je(b);
                c = cb.call(a, b);
            }
            return c || ge(a.length) && ce(b, a.length) && (pg(a) || og(a));
        }
        function Zg(a, b, c) {
            if (c && de(a, b, c)) {
                b = null;
            }
            var d = -1, e = $g(a), f = e.length, g = {};
            while (++d < f) {
                var h = e[d], i = a[h];
                if (b) {
                    if (cb.call(g, i)) {
                        g[i].push(h);
                    } else {
                        g[i] = [ h ];
                    }
                } else {
                    g[i] = h;
                }
            }
            return g;
        }
        var $g = !yb ? oe : function(a) {
            var b = a == null ? null : a.constructor;
            if (typeof b == "function" && b.prototype === a || typeof a != "function" && be(a)) {
                return oe(a);
            }
            return yg(a) ? yb(a) : [];
        };
        function _g(a) {
            if (a == null) {
                return [];
            }
            if (!yg(a)) {
                a = za(a);
            }
            var b = a.length;
            b = b && ge(b) && (pg(a) || og(a)) && b || 0;
            var c = a.constructor, d = -1, e = typeof c == "function" && c.prototype === a, f = E(b), g = b > 0;
            while (++d < b) {
                f[d] = d + "";
            }
            for (var h in a) {
                if (!(g && ce(h, b)) && !(h == "constructor" && (e || !cb.call(a, h)))) {
                    f.push(h);
                }
            }
            return f;
        }
        var ah = Fd(true);
        var bh = Fd();
        var ch = pd(Tc);
        var dh = gg(function(a, b) {
            if (a == null) {
                return {};
            }
            if (typeof b[0] != "function") {
                var b = ic(Fc(b), Ba);
                return je(a, xc(_g(a), b));
            }
            var c = kd(b[0], b[1], 3);
            return ke(a, function(a, b, d) {
                return !c(a, b, d);
            });
        });
        function eh(a) {
            a = qe(a);
            var b = -1, c = $g(a), d = c.length, e = E(d);
            while (++b < d) {
                var f = c[b];
                e[b] = [ f, a[f] ];
            }
            return e;
        }
        var fh = gg(function(a, b) {
            if (a == null) {
                return {};
            }
            return typeof b[0] == "function" ? ke(a, kd(b[0], b[1], 3)) : je(a, Fc(b));
        });
        function gh(b, c, d) {
            var e = b == null ? a : b[c];
            if (e === a) {
                if (b != null && !ee(c, b)) {
                    c = re(c);
                    b = c.length == 1 ? b : Mc(b, _c(c, 0, -1));
                    e = b == null ? a : b[Je(c)];
                }
                e = e === a ? d : e;
            }
            return xg(e) ? e.call(b) : e;
        }
        function hh(a, b, c) {
            if (a == null) {
                return a;
            }
            var d = b + "";
            b = a[d] != null || ee(b, a) ? [ d ] : re(b);
            var e = -1, f = b.length, g = f - 1, h = a;
            while (h != null && ++e < f) {
                var i = b[e];
                if (yg(h)) {
                    if (e == g) {
                        h[i] = c;
                    } else if (h[i] == null) {
                        h[i] = ce(b[e + 1]) ? [] : {};
                    }
                }
                h = h[i];
            }
            return a;
        }
        function ih(a, b, c, d) {
            var e = pg(a) || Hg(a);
            b = Rd(b, d, 4);
            if (c == null) {
                if (e || yg(a)) {
                    var f = a.constructor;
                    if (e) {
                        c = pg(a) ? new f() : [];
                    } else {
                        c = vc(xg(f) ? f.prototype : null);
                    }
                } else {
                    c = {};
                }
            }
            (e ? dc : Jc)(a, function(a, d, e) {
                return b(c, a, d, e);
            });
            return c;
        }
        function jh(a) {
            return fd(a, $g(a));
        }
        function kh(a) {
            return fd(a, _g(a));
        }
        function lh(a, b, c) {
            b = +b || 0;
            if (typeof c === "undefined") {
                c = b;
                b = 0;
            } else {
                c = +c || 0;
            }
            return a >= Ab(b, c) && a < zb(b, c);
        }
        function mh(a, b, c) {
            if (c && de(a, b, c)) {
                b = c = null;
            }
            var d = a == null, e = b == null;
            if (c == null) {
                if (e && typeof a == "boolean") {
                    c = a;
                    a = 1;
                } else if (typeof b == "boolean") {
                    c = b;
                    e = true;
                }
            }
            if (d && e) {
                b = 1;
                e = false;
            }
            a = +a || 0;
            if (e) {
                b = a;
                a = 0;
            } else {
                b = +b || 0;
            }
            if (c || a % 1 || b % 1) {
                var f = Eb();
                return Ab(a + f * (b - a + nb("1e-" + ((f + "").length - 1))), b);
            }
            return Yc(a, b);
        }
        var nh = ud(function(a, b, c) {
            b = b.toLowerCase();
            return a + (c ? b.charAt(0).toUpperCase() + b.slice(1) : b);
        });
        function oh(a) {
            a = La(a);
            return a && a.charAt(0).toUpperCase() + a.slice(1);
        }
        function ph(a) {
            a = La(a);
            return a && a.replace(la, Qa).replace(ea, "");
        }
        function qh(b, c, d) {
            b = La(b);
            c = c + "";
            var e = b.length;
            d = d === a ? e : Ab(d < 0 ? 0 : +d || 0, e);
            d -= c.length;
            return d >= 0 && b.indexOf(c, d) == d;
        }
        function rh(a) {
            a = La(a);
            return a && X.test(a) ? a.replace(V, Ra) : a;
        }
        function sh(a) {
            a = La(a);
            return a && da.test(a) ? a.replace(ca, "\\$&") : a;
        }
        var th = ud(function(a, b, c) {
            return a + (c ? "-" : "") + b.toLowerCase();
        });
        function uh(a, b, c) {
            a = La(a);
            b = +b;
            var d = a.length;
            if (d >= b || !xb(b)) {
                return a;
            }
            var e = (b - d) / 2, f = lb(e), g = jb(e);
            c = Kd("", g, c);
            return c.slice(0, f) + a + c;
        }
        var vh = Gd();
        var wh = Gd(true);
        function xh(a, b, c) {
            if (c && de(a, b, c)) {
                b = 0;
            }
            return Db(a, b);
        }
        if (Db(pa + "08") != 8) {
            xh = function(a, b, c) {
                if (c ? de(a, b, c) : b == null) {
                    b = 0;
                } else if (b) {
                    b = +b;
                }
                a = Dh(a);
                return Db(a, b || (ia.test(a) ? 16 : 10));
            };
        }
        function yh(a, b) {
            var c = "";
            a = La(a);
            b = +b;
            if (b < 1 || !a || !xb(b)) {
                return c;
            }
            do {
                if (b % 2) {
                    c += a;
                }
                b = lb(b / 2);
                a += a;
            } while (b);
            return c;
        }
        var zh = ud(function(a, b, c) {
            return a + (c ? "_" : "") + b.toLowerCase();
        });
        var Ah = ud(function(a, b, c) {
            return a + (c ? " " : "") + (b.charAt(0).toUpperCase() + b.slice(1));
        });
        function Bh(a, b, c) {
            a = La(a);
            c = c == null ? 0 : Ab(c < 0 ? 0 : +c || 0, a.length);
            return a.lastIndexOf(b, c) == c;
        }
        function Ch(b, c, d) {
            var e = Ob.templateSettings;
            if (d && de(b, c, d)) {
                c = d = null;
            }
            b = La(b);
            c = pc(qc({}, d || c), e, oc);
            var f = pc(qc({}, c.imports), e.imports, oc), g = $g(f), h = fd(f, g);
            var i, j, k = 0, l = c.interpolate || ma, m = "__p += '";
            var n = Aa((c.escape || ma).source + "|" + l.source + "|" + (l === $ ? ga : ma).source + "|" + (c.evaluate || ma).source + "|$", "g");
            var o = "//# sourceURL=" + ("sourceURL" in c ? c.sourceURL : "lodash.templateSources[" + ++ra + "]") + "\n";
            b.replace(n, function(a, c, d, e, f, g) {
                d || (d = e);
                m += b.slice(k, g).replace(na, Sa);
                if (c) {
                    i = true;
                    m += "' +\n__e(" + c + ") +\n'";
                }
                if (f) {
                    j = true;
                    m += "';\n" + f + ";\n__p += '";
                }
                if (d) {
                    m += "' +\n((__t = (" + d + ")) == null ? '' : __t) +\n'";
                }
                k = g + a.length;
                return a;
            });
            m += "';\n";
            var p = c.variable;
            if (!p) {
                m = "with (obj) {\n" + m + "\n}\n";
            }
            m = (j ? m.replace(R, "") : m).replace(S, "$1").replace(T, "$1;");
            m = "function(" + (p || "obj") + ") {\n" + (p ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (i ? ", __e = _.escape" : "") + (j ? ", __j = Array.prototype.join;\n" + "function print() { __p += __j.call(arguments, '') }\n" : ";\n") + m + "return __p\n}";
            var q = Jh(function() {
                return wa(g, o + "return " + m).apply(a, h);
            });
            q.source = m;
            if (vg(q)) {
                throw q;
            }
            return q;
        }
        function Dh(a, b, c) {
            var d = a;
            a = La(a);
            if (!a) {
                return a;
            }
            if (c ? de(d, b, c) : b == null) {
                return a.slice(Ya(a), Za(a) + 1);
            }
            b = b + "";
            return a.slice(Ma(a, b), Na(a, b) + 1);
        }
        function Eh(a, b, c) {
            var d = a;
            a = La(a);
            if (!a) {
                return a;
            }
            if (c ? de(d, b, c) : b == null) {
                return a.slice(Ya(a));
            }
            return a.slice(Ma(a, b + ""));
        }
        function Fh(a, b, c) {
            var d = a;
            a = La(a);
            if (!a) {
                return a;
            }
            if (c ? de(d, b, c) : b == null) {
                return a.slice(0, Za(a) + 1);
            }
            return a.slice(0, Na(a, b + "") + 1);
        }
        function Gh(a, b, c) {
            if (c && de(a, b, c)) {
                b = null;
            }
            var d = l, e = m;
            if (b != null) {
                if (yg(b)) {
                    var f = "separator" in b ? b.separator : f;
                    d = "length" in b ? +b.length || 0 : d;
                    e = "omission" in b ? La(b.omission) : e;
                } else {
                    d = +b || 0;
                }
            }
            a = La(a);
            if (d >= a.length) {
                return a;
            }
            var g = d - e.length;
            if (g < 1) {
                return e;
            }
            var h = a.slice(0, g);
            if (f == null) {
                return h + e;
            }
            if (Fg(f)) {
                if (a.slice(g).search(f)) {
                    var i, j, k = a.slice(0, g);
                    if (!f.global) {
                        f = Aa(f.source, (ha.exec(f) || "") + "g");
                    }
                    f.lastIndex = 0;
                    while (i = f.exec(k)) {
                        j = i.index;
                    }
                    h = h.slice(0, j == null ? g : j);
                }
            } else if (a.indexOf(f, g) != g) {
                var n = h.lastIndexOf(f);
                if (n > -1) {
                    h = h.slice(0, n);
                }
            }
            return h + e;
        }
        function Hh(a) {
            a = La(a);
            return a && W.test(a) ? a.replace(U, $a) : a;
        }
        function Ih(a, b, c) {
            if (c && de(a, b, c)) {
                b = null;
            }
            a = La(a);
            return a.match(b || oa) || [];
        }
        var Jh = gg(function(b, c) {
            try {
                return b.apply(a, c);
            } catch (d) {
                return vg(d) ? d : new va(d);
            }
        });
        function Kh(a, b, c) {
            if (c && de(a, b, c)) {
                b = null;
            }
            return Ua(a) ? Nh(a) : tc(a, b);
        }
        function Lh(a) {
            return function() {
                return a;
            };
        }
        function Mh(a) {
            return a;
        }
        function Nh(a) {
            return Rc(uc(a, true));
        }
        function Oh(a, b) {
            return Sc(a, uc(b, true));
        }
        var Ph = gg(function(a, b) {
            return function(c) {
                return ae(c, a, b);
            };
        });
        var Qh = gg(function(a, b) {
            return function(c) {
                return ae(a, c, b);
            };
        });
        function Rh(a, b, c) {
            if (c == null) {
                var d = yg(b), e = d ? $g(b) : null, f = e && e.length ? Lc(b, e) : null;
                if (!(f ? f.length : d)) {
                    f = false;
                    c = b;
                    b = a;
                    a = this;
                }
            }
            if (!f) {
                f = Lc(b, $g(b));
            }
            var g = true, h = -1, i = xg(a), j = f.length;
            if (c === false) {
                g = false;
            } else if (yg(c) && "chain" in c) {
                g = c.chain;
            }
            while (++h < j) {
                var k = f[h], l = b[k];
                a[k] = l;
                if (i) {
                    a.prototype[k] = function(b) {
                        return function() {
                            var c = this.__chain__;
                            if (g || c) {
                                var d = a(this.__wrapped__), e = d.__actions__ = cc(this.__actions__);
                                e.push({
                                    func: b,
                                    args: arguments,
                                    thisArg: a
                                });
                                d.__chain__ = c;
                                return d;
                            }
                            var f = [ this.value() ];
                            ob.apply(f, arguments);
                            return b.apply(a, f);
                        };
                    }(l);
                }
            }
            return a;
        }
        function Sh() {
            A._ = fb;
            return this;
        }
        function Th() {}
        function Uh(a) {
            return ee(a) ? Vc(a) : Wc(a);
        }
        function Vh(a) {
            return function(b) {
                return Mc(a, re(b), b + "");
            };
        }
        function Wh(a, b, c) {
            if (c && de(a, b, c)) {
                b = c = null;
            }
            a = +a || 0;
            c = c == null ? 1 : +c || 0;
            if (b == null) {
                b = a;
                a = 0;
            } else {
                b = +b || 0;
            }
            var d = -1, e = zb(jb((b - a) / (c || 1)), 0), f = E(e);
            while (++d < e) {
                f[d] = a;
                a += c;
            }
            return f;
        }
        function Xh(a, b, c) {
            a = lb(a);
            if (a < 1 || !xb(a)) {
                return [];
            }
            var d = -1, e = E(Ab(a, Hb));
            b = kd(b, c, 1);
            while (++d < a) {
                if (d < Hb) {
                    e[d] = b(d);
                } else {
                    b(d);
                }
            }
            return e;
        }
        function Yh(a) {
            var b = ++db;
            return La(a) + b;
        }
        function Zh(a, b) {
            return (+a || 0) + (+b || 0);
        }
        var $h = xd(mg, Fb);
        var _h = xd(Jg, Gb);
        function ai(a, b, c) {
            if (c && de(a, b, c)) {
                b = null;
            }
            var d = Rd(), e = b == null;
            if (!(e && d === tc)) {
                e = false;
                b = d(b, c, 3);
            }
            return e ? mc(pg(a) ? a : pe(a)) : dd(a, b);
        }
        Ob.prototype = Pb.prototype;
        Qb.prototype = vc(Pb.prototype);
        Qb.prototype.constructor = Qb;
        Sb.prototype = vc(Pb.prototype);
        Sb.prototype.constructor = Sb;
        Wb.prototype["delete"] = Xb;
        Wb.prototype.get = Yb;
        Wb.prototype.has = Zb;
        Wb.prototype.set = $b;
        _b.prototype.push = bc;
        ag.Cache = Wb;
        Ob.after = Pf;
        Ob.ary = Qf;
        Ob.assign = Ng;
        Ob.at = nf;
        Ob.before = Rf;
        Ob.bind = Sf;
        Ob.bindAll = Tf;
        Ob.bindKey = Uf;
        Ob.callback = Kh;
        Ob.chain = df;
        Ob.chunk = te;
        Ob.compact = ue;
        Ob.constant = Lh;
        Ob.countBy = of;
        Ob.create = Og;
        Ob.curry = Vf;
        Ob.curryRight = Wf;
        Ob.debounce = Xf;
        Ob.defaults = Pg;
        Ob.defer = Yf;
        Ob.delay = Zf;
        Ob.difference = ve;
        Ob.drop = we;
        Ob.dropRight = xe;
        Ob.dropRightWhile = ye;
        Ob.dropWhile = ze;
        Ob.fill = Ae;
        Ob.filter = qf;
        Ob.flatten = Ee;
        Ob.flattenDeep = Fe;
        Ob.flow = $f;
        Ob.flowRight = _f;
        Ob.forEach = uf;
        Ob.forEachRight = vf;
        Ob.forIn = Sg;
        Ob.forInRight = Tg;
        Ob.forOwn = Ug;
        Ob.forOwnRight = Vg;
        Ob.functions = Wg;
        Ob.groupBy = wf;
        Ob.indexBy = yf;
        Ob.initial = He;
        Ob.intersection = Ie;
        Ob.invert = Zg;
        Ob.invoke = zf;
        Ob.keys = $g;
        Ob.keysIn = _g;
        Ob.map = Af;
        Ob.mapKeys = ah;
        Ob.mapValues = bh;
        Ob.matches = Nh;
        Ob.matchesProperty = Oh;
        Ob.memoize = ag;
        Ob.merge = ch;
        Ob.method = Ph;
        Ob.methodOf = Qh;
        Ob.mixin = Rh;
        Ob.negate = bg;
        Ob.omit = dh;
        Ob.once = cg;
        Ob.pairs = eh;
        Ob.partial = dg;
        Ob.partialRight = eg;
        Ob.partition = Bf;
        Ob.pick = fh;
        Ob.pluck = Cf;
        Ob.property = Uh;
        Ob.propertyOf = Vh;
        Ob.pull = Le;
        Ob.pullAt = Me;
        Ob.range = Wh;
        Ob.rearg = fg;
        Ob.reject = Ff;
        Ob.remove = Ne;
        Ob.rest = Oe;
        Ob.restParam = gg;
        Ob.set = hh;
        Ob.shuffle = Hf;
        Ob.slice = Pe;
        Ob.sortBy = Kf;
        Ob.sortByAll = Lf;
        Ob.sortByOrder = Mf;
        Ob.spread = hg;
        Ob.take = Se;
        Ob.takeRight = Te;
        Ob.takeRightWhile = Ue;
        Ob.takeWhile = Ve;
        Ob.tap = ef;
        Ob.throttle = ig;
        Ob.thru = ff;
        Ob.times = Xh;
        Ob.toArray = Lg;
        Ob.toPlainObject = Mg;
        Ob.transform = ih;
        Ob.union = We;
        Ob.uniq = Xe;
        Ob.unzip = Ye;
        Ob.unzipWith = Ze;
        Ob.values = jh;
        Ob.valuesIn = kh;
        Ob.where = Nf;
        Ob.without = $e;
        Ob.wrap = jg;
        Ob.xor = _e;
        Ob.zip = af;
        Ob.zipObject = bf;
        Ob.zipWith = cf;
        Ob.backflow = _f;
        Ob.collect = Af;
        Ob.compose = _f;
        Ob.each = uf;
        Ob.eachRight = vf;
        Ob.extend = Ng;
        Ob.iteratee = Kh;
        Ob.methods = Wg;
        Ob.object = bf;
        Ob.select = qf;
        Ob.tail = Oe;
        Ob.unique = Xe;
        Rh(Ob, Ob);
        Ob.add = Zh;
        Ob.attempt = Jh;
        Ob.camelCase = nh;
        Ob.capitalize = oh;
        Ob.clone = kg;
        Ob.cloneDeep = lg;
        Ob.deburr = ph;
        Ob.endsWith = qh;
        Ob.escape = rh;
        Ob.escapeRegExp = sh;
        Ob.every = pf;
        Ob.find = rf;
        Ob.findIndex = Be;
        Ob.findKey = Qg;
        Ob.findLast = sf;
        Ob.findLastIndex = Ce;
        Ob.findLastKey = Rg;
        Ob.findWhere = tf;
        Ob.first = De;
        Ob.get = Xg;
        Ob.gt = mg;
        Ob.gte = ng;
        Ob.has = Yg;
        Ob.identity = Mh;
        Ob.includes = xf;
        Ob.indexOf = Ge;
        Ob.inRange = lh;
        Ob.isArguments = og;
        Ob.isArray = pg;
        Ob.isBoolean = qg;
        Ob.isDate = rg;
        Ob.isElement = sg;
        Ob.isEmpty = tg;
        Ob.isEqual = ug;
        Ob.isError = vg;
        Ob.isFinite = wg;
        Ob.isFunction = xg;
        Ob.isMatch = zg;
        Ob.isNaN = Ag;
        Ob.isNative = Bg;
        Ob.isNull = Cg;
        Ob.isNumber = Dg;
        Ob.isObject = yg;
        Ob.isPlainObject = Eg;
        Ob.isRegExp = Fg;
        Ob.isString = Gg;
        Ob.isTypedArray = Hg;
        Ob.isUndefined = Ig;
        Ob.kebabCase = th;
        Ob.last = Je;
        Ob.lastIndexOf = Ke;
        Ob.lt = Jg;
        Ob.lte = Kg;
        Ob.max = $h;
        Ob.min = _h;
        Ob.noConflict = Sh;
        Ob.noop = Th;
        Ob.now = Of;
        Ob.pad = uh;
        Ob.padLeft = vh;
        Ob.padRight = wh;
        Ob.parseInt = xh;
        Ob.random = mh;
        Ob.reduce = Df;
        Ob.reduceRight = Ef;
        Ob.repeat = yh;
        Ob.result = gh;
        Ob.runInContext = _a;
        Ob.size = If;
        Ob.snakeCase = zh;
        Ob.some = Jf;
        Ob.sortedIndex = Qe;
        Ob.sortedLastIndex = Re;
        Ob.startCase = Ah;
        Ob.startsWith = Bh;
        Ob.sum = ai;
        Ob.template = Ch;
        Ob.trim = Dh;
        Ob.trimLeft = Eh;
        Ob.trimRight = Fh;
        Ob.trunc = Gh;
        Ob.unescape = Hh;
        Ob.uniqueId = Yh;
        Ob.words = Ih;
        Ob.all = pf;
        Ob.any = Jf;
        Ob.contains = xf;
        Ob.eq = ug;
        Ob.detect = rf;
        Ob.foldl = Df;
        Ob.foldr = Ef;
        Ob.head = De;
        Ob.include = xf;
        Ob.inject = Df;
        Rh(Ob, function() {
            var a = {};
            Jc(Ob, function(b, c) {
                if (!Ob.prototype[c]) {
                    a[c] = b;
                }
            });
            return a;
        }(), false);
        Ob.sample = Gf;
        Ob.prototype.sample = function(a) {
            if (!this.__chain__ && a == null) {
                return Gf(this.value());
            }
            return this.thru(function(b) {
                return Gf(b, a);
            });
        };
        Ob.VERSION = b;
        dc([ "bind", "bindKey", "curry", "curryRight", "partial", "partialRight" ], function(a) {
            Ob[a].placeholder = Ob;
        });
        dc([ "dropWhile", "filter", "map", "takeWhile" ], function(a, b) {
            var c = b != r, d = b == p;
            Sb.prototype[a] = function(a, e) {
                var f = this.__filtered__, g = f && d ? new Sb(this) : this.clone(), h = g.__iteratees__ || (g.__iteratees__ = []);
                h.push({
                    done: false,
                    count: 0,
                    index: 0,
                    iteratee: Rd(a, e, 1),
                    limit: -1,
                    type: b
                });
                g.__filtered__ = f || c;
                return g;
            };
        });
        dc([ "drop", "take" ], function(a, b) {
            var c = a + "While";
            Sb.prototype[a] = function(c) {
                var d = this.__filtered__, e = d && !b ? this.dropWhile() : this.clone();
                c = c == null ? 1 : zb(lb(c) || 0, 0);
                if (d) {
                    if (b) {
                        e.__takeCount__ = Ab(e.__takeCount__, c);
                    } else {
                        Je(e.__iteratees__).limit = c;
                    }
                } else {
                    var f = e.__views__ || (e.__views__ = []);
                    f.push({
                        size: c,
                        type: a + (e.__dir__ < 0 ? "Right" : "")
                    });
                }
                return e;
            };
            Sb.prototype[a + "Right"] = function(b) {
                return this.reverse()[a](b).reverse();
            };
            Sb.prototype[a + "RightWhile"] = function(a, b) {
                return this.reverse()[c](a, b).reverse();
            };
        });
        dc([ "first", "last" ], function(a, b) {
            var c = "take" + (b ? "Right" : "");
            Sb.prototype[a] = function() {
                return this[c](1).value()[0];
            };
        });
        dc([ "initial", "rest" ], function(a, b) {
            var c = "drop" + (b ? "" : "Right");
            Sb.prototype[a] = function() {
                return this[c](1);
            };
        });
        dc([ "pluck", "where" ], function(a, b) {
            var c = b ? "filter" : "map", d = b ? Rc : Uh;
            Sb.prototype[a] = function(a) {
                return this[c](d(a));
            };
        });
        Sb.prototype.compact = function() {
            return this.filter(Mh);
        };
        Sb.prototype.reject = function(a, b) {
            a = Rd(a, b, 1);
            return this.filter(function(b) {
                return !a(b);
            });
        };
        Sb.prototype.slice = function(b, c) {
            b = b == null ? 0 : +b || 0;
            var d = this;
            if (b < 0) {
                d = this.takeRight(-b);
            } else if (b) {
                d = this.drop(b);
            }
            if (c !== a) {
                c = +c || 0;
                d = c < 0 ? d.dropRight(-c) : d.take(c - b);
            }
            return d;
        };
        Sb.prototype.toArray = function() {
            return this.drop(0);
        };
        Jc(Sb.prototype, function(a, b) {
            var c = Ob[b];
            if (!c) {
                return;
            }
            var d = /^(?:filter|map|reject)|While$/.test(b), e = /^(?:first|last)$/.test(b);
            Ob.prototype[b] = function() {
                var b = arguments, f = this.__chain__, g = this.__wrapped__, h = !!this.__actions__.length, i = g instanceof Sb, j = b[0], k = i || pg(g);
                if (k && d && typeof j == "function" && j.length != 1) {
                    i = k = false;
                }
                var l = i && !h;
                if (e && !f) {
                    return l ? a.call(g) : c.call(Ob, this.value());
                }
                var m = function(a) {
                    var d = [ a ];
                    ob.apply(d, b);
                    return c.apply(Ob, d);
                };
                if (k) {
                    var n = l ? g : new Sb(this), o = a.apply(n, b);
                    if (!e && (h || o.__actions__)) {
                        var p = o.__actions__ || (o.__actions__ = []);
                        p.push({
                            func: ff,
                            args: [ m ],
                            thisArg: Ob
                        });
                    }
                    return new Qb(o, f);
                }
                return this.thru(m);
            };
        });
        dc([ "concat", "join", "pop", "push", "replace", "shift", "sort", "splice", "split", "unshift" ], function(a) {
            var b = (/^(?:replace|split)$/.test(a) ? Fa : Da)[a], c = /^(?:push|sort|unshift)$/.test(a) ? "tap" : "thru", d = /^(?:join|pop|replace|shift)$/.test(a);
            Ob.prototype[a] = function() {
                var a = arguments;
                if (d && !this.__chain__) {
                    return b.apply(this.value(), a);
                }
                return this[c](function(c) {
                    return b.apply(c, a);
                });
            };
        });
        Jc(Sb.prototype, function(a, b) {
            var c = Ob[b];
            if (c) {
                var d = c.name, e = Nb[d] || (Nb[d] = []);
                e.push({
                    name: b,
                    func: c
                });
            }
        });
        Nb[Jd(null, d).name] = [ {
            name: "wrapper",
            func: null
        } ];
        Sb.prototype.clone = Tb;
        Sb.prototype.reverse = Ub;
        Sb.prototype.value = Vb;
        Ob.prototype.chain = gf;
        Ob.prototype.commit = hf;
        Ob.prototype.plant = jf;
        Ob.prototype.reverse = kf;
        Ob.prototype.toString = lf;
        Ob.prototype.run = Ob.prototype.toJSON = Ob.prototype.valueOf = Ob.prototype.value = mf;
        Ob.prototype.collect = Ob.prototype.map;
        Ob.prototype.head = Ob.prototype.first;
        Ob.prototype.select = Ob.prototype.filter;
        Ob.prototype.tail = Ob.prototype.rest;
        return Ob;
    }
    var ab = _a();
    if (typeof define == "function" && typeof define.amd == "object" && define.amd) {
        Ga._ = ab;
        define(function() {
            return ab;
        });
    } else if (Aa && Ba) {
        if (Fa) {
            (Ba.exports = ab)._ = ab;
        } else {
            Aa._ = ab;
        }
    } else {
        Ga._ = ab;
    }
}).call(this);

(function(a, b, c) {
    "use strict";
    function d(a, b) {
        b = b || Error;
        return function() {
            var c = 2;
            var d = arguments, e = d[0], f = "[" + (a ? a + ":" : "") + e + "] ", g = d[1], h, i;
            f += g.replace(/\{\d+\}/g, function(a) {
                var b = +a.slice(1, -1), e = b + c;
                if (e < d.length) {
                    return bb(d[e]);
                }
                return a;
            });
            f += "\nhttp://errors.angularjs.org/1.4.7/" + (a ? a + "/" : "") + e;
            for (i = c, h = "?"; i < d.length; i++, h = "&") {
                f += h + "p" + (i - c) + "=" + encodeURIComponent(bb(d[i]));
            }
            return new b(f);
        };
    }
    var e = /^\/(.+)\/([a-z]*)$/;
    var f = "validity";
    var g = function(a) {
        return Q(a) ? a.toLowerCase() : a;
    };
    var h = Object.prototype.hasOwnProperty;
    var i = function(a) {
        return Q(a) ? a.toUpperCase() : a;
    };
    var j = function(a) {
        return Q(a) ? a.replace(/[A-Z]/g, function(a) {
            return String.fromCharCode(a.charCodeAt(0) | 32);
        }) : a;
    };
    var k = function(a) {
        return Q(a) ? a.replace(/[a-z]/g, function(a) {
            return String.fromCharCode(a.charCodeAt(0) & ~32);
        }) : a;
    };
    if ("i" !== "I".toLowerCase()) {
        g = j;
        i = k;
    }
    var l, m, n, o = [].slice, p = [].splice, q = [].push, r = Object.prototype.toString, s = Object.getPrototypeOf, t = d("ng"), u = a.angular || (a.angular = {}), v, w = 0;
    l = b.documentMode;
    function x(a) {
        if (a == null || W(a)) {
            return false;
        }
        var b = "length" in Object(a) && a.length;
        if (a.nodeType === Va && b) {
            return true;
        }
        return Q(a) || T(a) || b === 0 || typeof b === "number" && b > 0 && b - 1 in a;
    }
    function y(a, b, c) {
        var d, e;
        if (a) {
            if (U(a)) {
                for (d in a) {
                    if (d != "prototype" && d != "length" && d != "name" && (!a.hasOwnProperty || a.hasOwnProperty(d))) {
                        b.call(c, a[d], d, a);
                    }
                }
            } else if (T(a) || x(a)) {
                var f = typeof a !== "object";
                for (d = 0, e = a.length; d < e; d++) {
                    if (f || d in a) {
                        b.call(c, a[d], d, a);
                    }
                }
            } else if (a.forEach && a.forEach !== y) {
                a.forEach(b, c, a);
            } else if (P(a)) {
                for (d in a) {
                    b.call(c, a[d], d, a);
                }
            } else if (typeof a.hasOwnProperty === "function") {
                for (d in a) {
                    if (a.hasOwnProperty(d)) {
                        b.call(c, a[d], d, a);
                    }
                }
            } else {
                for (d in a) {
                    if (h.call(a, d)) {
                        b.call(c, a[d], d, a);
                    }
                }
            }
        }
        return a;
    }
    function z(a, b, c) {
        var d = Object.keys(a).sort();
        for (var e = 0; e < d.length; e++) {
            b.call(c, a[d[e]], d[e]);
        }
        return d;
    }
    function A(a) {
        return function(b, c) {
            a(c, b);
        };
    }
    function B() {
        return ++w;
    }
    function C(a, b) {
        if (b) {
            a.$$hashKey = b;
        } else {
            delete a.$$hashKey;
        }
    }
    function D(a, b, c) {
        var d = a.$$hashKey;
        for (var e = 0, f = b.length; e < f; ++e) {
            var g = b[e];
            if (!O(g) && !U(g)) continue;
            var h = Object.keys(g);
            for (var i = 0, j = h.length; i < j; i++) {
                var k = h[i];
                var l = g[k];
                if (c && O(l)) {
                    if (S(l)) {
                        a[k] = new Date(l.valueOf());
                    } else if (V(l)) {
                        a[k] = new RegExp(l);
                    } else {
                        if (!O(a[k])) a[k] = T(l) ? [] : {};
                        D(a[k], [ l ], true);
                    }
                } else {
                    a[k] = l;
                }
            }
        }
        C(a, d);
        return a;
    }
    function E(a) {
        return D(a, o.call(arguments, 1), false);
    }
    function F(a) {
        return D(a, o.call(arguments, 1), true);
    }
    function G(a) {
        return parseInt(a, 10);
    }
    function H(a, b) {
        return E(Object.create(a), b);
    }
    function I() {}
    I.$inject = [];
    function J(a) {
        return a;
    }
    J.$inject = [];
    function K(a) {
        return function() {
            return a;
        };
    }
    function L(a) {
        return U(a.toString) && a.toString !== Object.prototype.toString;
    }
    function M(a) {
        return typeof a === "undefined";
    }
    function N(a) {
        return typeof a !== "undefined";
    }
    function O(a) {
        return a !== null && typeof a === "object";
    }
    function P(a) {
        return a !== null && typeof a === "object" && !s(a);
    }
    function Q(a) {
        return typeof a === "string";
    }
    function R(a) {
        return typeof a === "number";
    }
    function S(a) {
        return r.call(a) === "[object Date]";
    }
    var T = Array.isArray;
    function U(a) {
        return typeof a === "function";
    }
    function V(a) {
        return r.call(a) === "[object RegExp]";
    }
    function W(a) {
        return a && a.window === a;
    }
    function X(a) {
        return a && a.$evalAsync && a.$watch;
    }
    function Y(a) {
        return r.call(a) === "[object File]";
    }
    function Z(a) {
        return r.call(a) === "[object FormData]";
    }
    function $(a) {
        return r.call(a) === "[object Blob]";
    }
    function _(a) {
        return typeof a === "boolean";
    }
    function aa(a) {
        return a && U(a.then);
    }
    var ba = /^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/;
    function ca(a) {
        return ba.test(r.call(a));
    }
    var da = function(a) {
        return Q(a) ? a.trim() : a;
    };
    var ea = function(a) {
        return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08");
    };
    function fa(a) {
        return !!(a && (a.nodeName || a.prop && a.attr && a.find));
    }
    function ga(a) {
        var b = {}, c = a.split(","), d;
        for (d = 0; d < c.length; d++) {
            b[c[d]] = true;
        }
        return b;
    }
    function ha(a) {
        return g(a.nodeName || a[0] && a[0].nodeName);
    }
    function ia(a, b) {
        return Array.prototype.indexOf.call(a, b) != -1;
    }
    function ja(a, b) {
        var c = a.indexOf(b);
        if (c >= 0) {
            a.splice(c, 1);
        }
        return c;
    }
    function ka(a, b, c, d) {
        if (W(a) || X(a)) {
            throw t("cpws", "Can't copy! Making copies of Window or Scope instances is not supported.");
        }
        if (ca(b)) {
            throw t("cpta", "Can't copy! TypedArray destination cannot be mutated.");
        }
        if (!b) {
            b = a;
            if (O(a)) {
                var e;
                if (c && (e = c.indexOf(a)) !== -1) {
                    return d[e];
                }
                if (T(a)) {
                    return ka(a, [], c, d);
                } else if (ca(a)) {
                    b = new a.constructor(a);
                } else if (S(a)) {
                    b = new Date(a.getTime());
                } else if (V(a)) {
                    b = new RegExp(a.source, a.toString().match(/[^\/]*$/)[0]);
                    b.lastIndex = a.lastIndex;
                } else if (U(a.cloneNode)) {
                    b = a.cloneNode(true);
                } else {
                    var f = Object.create(s(a));
                    return ka(a, f, c, d);
                }
                if (d) {
                    c.push(a);
                    d.push(b);
                }
            }
        } else {
            if (a === b) throw t("cpi", "Can't copy! Source and destination are identical.");
            c = c || [];
            d = d || [];
            if (O(a)) {
                c.push(a);
                d.push(b);
            }
            var g, i;
            if (T(a)) {
                b.length = 0;
                for (var j = 0; j < a.length; j++) {
                    b.push(ka(a[j], null, c, d));
                }
            } else {
                var k = b.$$hashKey;
                if (T(b)) {
                    b.length = 0;
                } else {
                    y(b, function(a, c) {
                        delete b[c];
                    });
                }
                if (P(a)) {
                    for (i in a) {
                        b[i] = ka(a[i], null, c, d);
                    }
                } else if (a && typeof a.hasOwnProperty === "function") {
                    for (i in a) {
                        if (a.hasOwnProperty(i)) {
                            b[i] = ka(a[i], null, c, d);
                        }
                    }
                } else {
                    for (i in a) {
                        if (h.call(a, i)) {
                            b[i] = ka(a[i], null, c, d);
                        }
                    }
                }
                C(b, k);
            }
        }
        return b;
    }
    function la(a, b) {
        if (T(a)) {
            b = b || [];
            for (var c = 0, d = a.length; c < d; c++) {
                b[c] = a[c];
            }
        } else if (O(a)) {
            b = b || {};
            for (var e in a) {
                if (!(e.charAt(0) === "$" && e.charAt(1) === "$")) {
                    b[e] = a[e];
                }
            }
        }
        return b || a;
    }
    function ma(a, b) {
        if (a === b) return true;
        if (a === null || b === null) return false;
        if (a !== a && b !== b) return true;
        var c = typeof a, d = typeof b, e, f, g;
        if (c == d) {
            if (c == "object") {
                if (T(a)) {
                    if (!T(b)) return false;
                    if ((e = a.length) == b.length) {
                        for (f = 0; f < e; f++) {
                            if (!ma(a[f], b[f])) return false;
                        }
                        return true;
                    }
                } else if (S(a)) {
                    if (!S(b)) return false;
                    return ma(a.getTime(), b.getTime());
                } else if (V(a)) {
                    return V(b) ? a.toString() == b.toString() : false;
                } else {
                    if (X(a) || X(b) || W(a) || W(b) || T(b) || S(b) || V(b)) return false;
                    g = Ua();
                    for (f in a) {
                        if (f.charAt(0) === "$" || U(a[f])) continue;
                        if (!ma(a[f], b[f])) return false;
                        g[f] = true;
                    }
                    for (f in b) {
                        if (!(f in g) && f.charAt(0) !== "$" && N(b[f]) && !U(b[f])) return false;
                    }
                    return true;
                }
            }
        }
        return false;
    }
    var na = function() {
        if (!N(na.rules)) {
            var a = b.querySelector("[ng-csp]") || b.querySelector("[data-ng-csp]");
            if (a) {
                var c = a.getAttribute("ng-csp") || a.getAttribute("data-ng-csp");
                na.rules = {
                    noUnsafeEval: !c || c.indexOf("no-unsafe-eval") !== -1,
                    noInlineStyle: !c || c.indexOf("no-inline-style") !== -1
                };
            } else {
                na.rules = {
                    noUnsafeEval: d(),
                    noInlineStyle: false
                };
            }
        }
        return na.rules;
        function d() {
            try {
                new Function("");
                return false;
            } catch (a) {
                return true;
            }
        }
    };
    var oa = function() {
        if (N(oa.name_)) return oa.name_;
        var a;
        var c, d = Ea.length, e, f;
        for (c = 0; c < d; ++c) {
            e = Ea[c];
            if (a = b.querySelector("[" + e.replace(":", "\\:") + "jq]")) {
                f = a.getAttribute(e + "jq");
                break;
            }
        }
        return oa.name_ = f;
    };
    function pa(a, b, c) {
        return a.concat(o.call(b, c));
    }
    function qa(a, b) {
        return o.call(a, b || 0);
    }
    function ra(a, b) {
        var c = arguments.length > 2 ? qa(arguments, 2) : [];
        if (U(b) && !(b instanceof RegExp)) {
            return c.length ? function() {
                return arguments.length ? b.apply(a, pa(c, arguments, 0)) : b.apply(a, c);
            } : function() {
                return arguments.length ? b.apply(a, arguments) : b.call(a);
            };
        } else {
            return b;
        }
    }
    function sa(a, d) {
        var e = d;
        if (typeof a === "string" && a.charAt(0) === "$" && a.charAt(1) === "$") {
            e = c;
        } else if (W(d)) {
            e = "$WINDOW";
        } else if (d && b === d) {
            e = "$DOCUMENT";
        } else if (X(d)) {
            e = "$SCOPE";
        }
        return e;
    }
    function ta(a, b) {
        if (typeof a === "undefined") return c;
        if (!R(b)) {
            b = b ? 2 : null;
        }
        return JSON.stringify(a, sa, b);
    }
    function ua(a) {
        return Q(a) ? JSON.parse(a) : a;
    }
    function va(a, b) {
        var c = Date.parse("Jan 01, 1970 00:00:00 " + a) / 6e4;
        return isNaN(c) ? b : c;
    }
    function wa(a, b) {
        a = new Date(a.getTime());
        a.setMinutes(a.getMinutes() + b);
        return a;
    }
    function xa(a, b, c) {
        c = c ? -1 : 1;
        var d = va(b, a.getTimezoneOffset());
        return wa(a, c * (d - a.getTimezoneOffset()));
    }
    function ya(a) {
        a = m(a).clone();
        try {
            a.empty();
        } catch (b) {}
        var c = m("<div>").append(a).html();
        try {
            return a[0].nodeType === Xa ? g(c) : c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/, function(a, b) {
                return "<" + g(b);
            });
        } catch (b) {
            return g(c);
        }
    }
    function za(a) {
        try {
            return decodeURIComponent(a);
        } catch (b) {}
    }
    function Aa(a) {
        var b = {};
        y((a || "").split("&"), function(a) {
            var c, d, e;
            if (a) {
                d = a = a.replace(/\+/g, "%20");
                c = a.indexOf("=");
                if (c !== -1) {
                    d = a.substring(0, c);
                    e = a.substring(c + 1);
                }
                d = za(d);
                if (N(d)) {
                    e = N(e) ? za(e) : true;
                    if (!h.call(b, d)) {
                        b[d] = e;
                    } else if (T(b[d])) {
                        b[d].push(e);
                    } else {
                        b[d] = [ b[d], e ];
                    }
                }
            }
        });
        return b;
    }
    function Ba(a) {
        var b = [];
        y(a, function(a, c) {
            if (T(a)) {
                y(a, function(a) {
                    b.push(Da(c, true) + (a === true ? "" : "=" + Da(a, true)));
                });
            } else {
                b.push(Da(c, true) + (a === true ? "" : "=" + Da(a, true)));
            }
        });
        return b.length ? b.join("&") : "";
    }
    function Ca(a) {
        return Da(a, true).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+");
    }
    function Da(a, b) {
        return encodeURIComponent(a).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%3B/gi, ";").replace(/%20/g, b ? "%20" : "+");
    }
    var Ea = [ "ng-", "data-ng-", "ng:", "x-ng-" ];
    function Fa(a, b) {
        var c, d, e = Ea.length;
        for (d = 0; d < e; ++d) {
            c = Ea[d] + b;
            if (Q(c = a.getAttribute(c))) {
                return c;
            }
        }
        return null;
    }
    function Ga(a, b) {
        var c, d, e = {};
        y(Ea, function(b) {
            var e = b + "app";
            if (!c && a.hasAttribute && a.hasAttribute(e)) {
                c = a;
                d = a.getAttribute(e);
            }
        });
        y(Ea, function(b) {
            var e = b + "app";
            var f;
            if (!c && (f = a.querySelector("[" + e.replace(":", "\\:") + "]"))) {
                c = f;
                d = f.getAttribute(e);
            }
        });
        if (c) {
            e.strictDi = Fa(c, "strict-di") !== null;
            b(c, d ? [ d ] : [], e);
        }
    }
    function Ha(c, d, e) {
        if (!O(e)) e = {};
        var f = {
            strictDi: false
        };
        e = E(f, e);
        var g = function() {
            c = m(c);
            if (c.injector()) {
                var a = c[0] === b ? "document" : ya(c);
                throw t("btstrpd", "App Already Bootstrapped with this Element '{0}'", a.replace(/</, "&lt;").replace(/>/, "&gt;"));
            }
            d = d || [];
            d.unshift([ "$provide", function(a) {
                a.value("$rootElement", c);
            } ]);
            if (e.debugInfoEnabled) {
                d.push([ "$compileProvider", function(a) {
                    a.debugInfoEnabled(true);
                } ]);
            }
            d.unshift("ng");
            var f = ec(d, e.strictDi);
            f.invoke([ "$rootScope", "$rootElement", "$compile", "$injector", function g(a, b, c, d) {
                a.$apply(function() {
                    b.data("$injector", d);
                    c(b)(a);
                });
            } ]);
            return f;
        };
        var h = /^NG_ENABLE_DEBUG_INFO!/;
        var i = /^NG_DEFER_BOOTSTRAP!/;
        if (a && h.test(a.name)) {
            e.debugInfoEnabled = true;
            a.name = a.name.replace(h, "");
        }
        if (a && !i.test(a.name)) {
            return g();
        }
        a.name = a.name.replace(i, "");
        u.resumeBootstrap = function(a) {
            y(a, function(a) {
                d.push(a);
            });
            return g();
        };
        if (U(u.resumeDeferredBootstrap)) {
            u.resumeDeferredBootstrap();
        }
    }
    function Ia() {
        a.name = "NG_ENABLE_DEBUG_INFO!" + a.name;
        a.location.reload();
    }
    function Ja(a) {
        var b = u.element(a).injector();
        if (!b) {
            throw t("test", "no injector found for element argument to getTestability");
        }
        return b.get("$$testability");
    }
    var Ka = /[A-Z]/g;
    function La(a, b) {
        b = b || "_";
        return a.replace(Ka, function(a, c) {
            return (c ? b : "") + a.toLowerCase();
        });
    }
    var Ma = false;
    var Na;
    function Oa() {
        var b;
        if (Ma) {
            return;
        }
        var d = oa();
        n = M(d) ? a.jQuery : !d ? c : a[d];
        if (n && n.fn.on) {
            m = n;
            E(n.fn, {
                scope: Ob.scope,
                isolateScope: Ob.isolateScope,
                controller: Ob.controller,
                injector: Ob.injector,
                inheritedData: Ob.inheritedData
            });
            b = n.cleanData;
            n.cleanData = function(a) {
                var c;
                if (!Na) {
                    for (var d = 0, e; (e = a[d]) != null; d++) {
                        c = n._data(e, "events");
                        if (c && c.$destroy) {
                            n(e).triggerHandler("$destroy");
                        }
                    }
                } else {
                    Na = false;
                }
                b(a);
            };
        } else {
            m = yb;
        }
        u.element = m;
        Ma = true;
    }
    function Pa(a, b, c) {
        if (!a) {
            throw t("areq", "Argument '{0}' is {1}", b || "?", c || "required");
        }
        return a;
    }
    function Qa(a, b, c) {
        if (c && T(a)) {
            a = a[a.length - 1];
        }
        Pa(U(a), b, "not a function, got " + (a && typeof a === "object" ? a.constructor.name || "Object" : typeof a));
        return a;
    }
    function Ra(a, b) {
        if (a === "hasOwnProperty") {
            throw t("badname", "hasOwnProperty is not a valid {0} name", b);
        }
    }
    function Sa(a, b, c) {
        if (!b) return a;
        var d = b.split(".");
        var e;
        var f = a;
        var g = d.length;
        for (var h = 0; h < g; h++) {
            e = d[h];
            if (a) {
                a = (f = a)[e];
            }
        }
        if (!c && U(a)) {
            return ra(f, a);
        }
        return a;
    }
    function Ta(a) {
        var b = a[0];
        var c = a[a.length - 1];
        var d;
        for (var e = 1; b !== c && (b = b.nextSibling); e++) {
            if (d || a[e] !== b) {
                if (!d) {
                    d = m(o.call(a, 0, e));
                }
                d.push(b);
            }
        }
        return d || a;
    }
    function Ua() {
        return Object.create(null);
    }
    var Va = 1;
    var Wa = 2;
    var Xa = 3;
    var Ya = 8;
    var Za = 9;
    var $a = 11;
    function _a(a) {
        var b = d("$injector");
        var c = d("ng");
        function e(a, b, c) {
            return a[b] || (a[b] = c());
        }
        var f = e(a, "angular", Object);
        f.$$minErr = f.$$minErr || d;
        return e(f, "module", function() {
            var a = {};
            return function d(f, g, h) {
                var i = function(a, b) {
                    if (a === "hasOwnProperty") {
                        throw c("badname", "hasOwnProperty is not a valid {0} name", b);
                    }
                };
                i(f, "module");
                if (g && a.hasOwnProperty(f)) {
                    a[f] = null;
                }
                return e(a, f, function() {
                    if (!g) {
                        throw b("nomod", "Module '{0}' is not available! You either misspelled " + "the module name or forgot to load it. If registering a module ensure that you " + "specify the dependencies as the second argument.", f);
                    }
                    var a = [];
                    var c = [];
                    var d = [];
                    var e = j("$injector", "invoke", "push", c);
                    var i = {
                        _invokeQueue: a,
                        _configBlocks: c,
                        _runBlocks: d,
                        requires: g,
                        name: f,
                        provider: k("$provide", "provider"),
                        factory: k("$provide", "factory"),
                        service: k("$provide", "service"),
                        value: j("$provide", "value"),
                        constant: j("$provide", "constant", "unshift"),
                        decorator: k("$provide", "decorator"),
                        animation: k("$animateProvider", "register"),
                        filter: k("$filterProvider", "register"),
                        controller: k("$controllerProvider", "register"),
                        directive: k("$compileProvider", "directive"),
                        config: e,
                        run: function(a) {
                            d.push(a);
                            return this;
                        }
                    };
                    if (h) {
                        e(h);
                    }
                    return i;
                    function j(b, c, d, e) {
                        if (!e) e = a;
                        return function() {
                            e[d || "push"]([ b, c, arguments ]);
                            return i;
                        };
                    }
                    function k(b, c) {
                        return function(d, e) {
                            if (e && U(e)) e.$$moduleName = f;
                            a.push([ b, c, arguments ]);
                            return i;
                        };
                    }
                });
            };
        });
    }
    function ab(a) {
        var b = [];
        return JSON.stringify(a, function(a, c) {
            c = sa(a, c);
            if (O(c)) {
                if (b.indexOf(c) >= 0) return "...";
                b.push(c);
            }
            return c;
        });
    }
    function bb(a) {
        if (typeof a === "function") {
            return a.toString().replace(/ \{[\s\S]*$/, "");
        } else if (M(a)) {
            return "undefined";
        } else if (typeof a !== "string") {
            return ab(a);
        }
        return a;
    }
    var cb = {
        full: "1.4.7",
        major: 1,
        minor: 4,
        dot: 7,
        codeName: "dark-luminescence"
    };
    function db(b) {
        E(b, {
            bootstrap: Ha,
            copy: ka,
            extend: E,
            merge: F,
            equals: ma,
            element: m,
            forEach: y,
            injector: ec,
            noop: I,
            bind: ra,
            toJson: ta,
            fromJson: ua,
            identity: J,
            isUndefined: M,
            isDefined: N,
            isString: Q,
            isFunction: U,
            isObject: O,
            isNumber: R,
            isElement: fa,
            isArray: T,
            version: cb,
            isDate: S,
            lowercase: g,
            uppercase: i,
            callbacks: {
                counter: 0
            },
            getTestability: Ja,
            $$minErr: d,
            $$csp: na,
            reloadWithDebugInfo: Ia
        });
        v = _a(a);
        v("ng", [ "ngLocale" ], [ "$provide", function c(a) {
            a.provider({
                $$sanitizeUri: ge
            });
            a.provider("$compile", wc).directive({
                a: _e,
                input: Gf,
                textarea: Gf,
                form: gf,
                script: Bg,
                select: Eg,
                style: Gg,
                option: Fg,
                ngBind: Jf,
                ngBindHtml: Lf,
                ngBindTemplate: Kf,
                ngClass: Of,
                ngClassEven: Qf,
                ngClassOdd: Pf,
                ngCloak: Rf,
                ngController: Sf,
                ngForm: hf,
                ngHide: vg,
                ngIf: Vf,
                ngInclude: Wf,
                ngInit: Yf,
                ngNonBindable: mg,
                ngPluralize: qg,
                ngRepeat: rg,
                ngShow: ug,
                ngStyle: wg,
                ngSwitch: xg,
                ngSwitchWhen: yg,
                ngSwitchDefault: zg,
                ngOptions: pg,
                ngTransclude: Ag,
                ngModel: hg,
                ngList: Zf,
                ngChange: Mf,
                pattern: Ig,
                ngPattern: Ig,
                required: Hg,
                ngRequired: Hg,
                minlength: Kg,
                ngMinlength: Kg,
                maxlength: Jg,
                ngMaxlength: Jg,
                ngValue: If,
                ngModelOptions: jg
            }).directive({
                ngInclude: Xf
            }).directive(af).directive(Tf);
            a.provider({
                $anchorScroll: fc,
                $animate: pc,
                $animateCss: qc,
                $$animateQueue: oc,
                $$AnimateRunner: nc,
                $browser: sc,
                $cacheFactory: tc,
                $controller: Gc,
                $document: Hc,
                $exceptionHandler: Ic,
                $filter: ye,
                $$forceReflow: Jc,
                $interpolate: dd,
                $interval: ed,
                $http: $c,
                $httpParamSerializer: Sc,
                $httpParamSerializerJQLike: Tc,
                $httpBackend: ad,
                $xhrFactory: _c,
                $location: wd,
                $log: xd,
                $parse: ae,
                $rootScope: fe,
                $q: be,
                $$q: ce,
                $sce: me,
                $sceDelegate: le,
                $sniffer: ne,
                $templateCache: uc,
                $templateRequest: oe,
                $$testability: pe,
                $timeout: qe,
                $window: ve,
                $$rAF: ee,
                $$jqLite: Vb,
                $$HashMap: Yb,
                $$cookieReader: xe
            });
        } ]);
    }
    yb.expando = "ng339";
    var eb = yb.cache = {}, fb = 1, gb = function(a, b, c) {
        a.addEventListener(b, c, false);
    }, hb = function(a, b, c) {
        a.removeEventListener(b, c, false);
    };
    yb._data = function(a) {
        return this.cache[a[this.expando]] || {};
    };
    function ib() {
        return ++fb;
    }
    var jb = /([\:\-\_]+(.))/g;
    var kb = /^moz([A-Z])/;
    var lb = {
        mouseleave: "mouseout",
        mouseenter: "mouseover"
    };
    var mb = d("jqLite");
    function nb(a) {
        return a.replace(jb, function(a, b, c, d) {
            return d ? c.toUpperCase() : c;
        }).replace(kb, "Moz$1");
    }
    var ob = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;
    var pb = /<|&#?\w+;/;
    var qb = /<([\w:-]+)/;
    var rb = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi;
    var sb = {
        option: [ 1, '<select multiple="multiple">', "</select>" ],
        thead: [ 1, "<table>", "</table>" ],
        col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
        tr: [ 2, "<table><tbody>", "</tbody></table>" ],
        td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],
        _default: [ 0, "", "" ]
    };
    sb.optgroup = sb.option;
    sb.tbody = sb.tfoot = sb.colgroup = sb.caption = sb.thead;
    sb.th = sb.td;
    function tb(a) {
        return !pb.test(a);
    }
    function ub(a) {
        var b = a.nodeType;
        return b === Va || !b || b === Za;
    }
    function vb(a) {
        for (var b in eb[a.ng339]) {
            return true;
        }
        return false;
    }
    function wb(a, b) {
        var c, d, e, f = b.createDocumentFragment(), g = [], h;
        if (tb(a)) {
            g.push(b.createTextNode(a));
        } else {
            c = c || f.appendChild(b.createElement("div"));
            d = (qb.exec(a) || [ "", "" ])[1].toLowerCase();
            e = sb[d] || sb._default;
            c.innerHTML = e[1] + a.replace(rb, "<$1></$2>") + e[2];
            h = e[0];
            while (h--) {
                c = c.lastChild;
            }
            g = pa(g, c.childNodes);
            c = f.firstChild;
            c.textContent = "";
        }
        f.textContent = "";
        f.innerHTML = "";
        y(g, function(a) {
            f.appendChild(a);
        });
        return f;
    }
    function xb(a, c) {
        c = c || b;
        var d;
        if (d = ob.exec(a)) {
            return [ c.createElement(d[1]) ];
        }
        if (d = wb(a, c)) {
            return d.childNodes;
        }
        return [];
    }
    function yb(a) {
        if (a instanceof yb) {
            return a;
        }
        var b;
        if (Q(a)) {
            a = da(a);
            b = true;
        }
        if (!(this instanceof yb)) {
            if (b && a.charAt(0) != "<") {
                throw mb("nosel", "Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");
            }
            return new yb(a);
        }
        if (b) {
            Ib(this, xb(a));
        } else {
            Ib(this, a);
        }
    }
    function zb(a) {
        return a.cloneNode(true);
    }
    function Ab(a, b) {
        if (!b) Cb(a);
        if (a.querySelectorAll) {
            var c = a.querySelectorAll("*");
            for (var d = 0, e = c.length; d < e; d++) {
                Cb(c[d]);
            }
        }
    }
    function Bb(a, b, c, d) {
        if (N(d)) throw mb("offargs", "jqLite#off() does not support the `selector` argument");
        var e = Db(a);
        var f = e && e.events;
        var g = e && e.handle;
        if (!g) return;
        if (!b) {
            for (b in f) {
                if (b !== "$destroy") {
                    hb(a, b, g);
                }
                delete f[b];
            }
        } else {
            y(b.split(" "), function(b) {
                if (N(c)) {
                    var d = f[b];
                    ja(d || [], c);
                    if (d && d.length > 0) {
                        return;
                    }
                }
                hb(a, b, g);
                delete f[b];
            });
        }
    }
    function Cb(a, b) {
        var d = a.ng339;
        var e = d && eb[d];
        if (e) {
            if (b) {
                delete e.data[b];
                return;
            }
            if (e.handle) {
                if (e.events.$destroy) {
                    e.handle({}, "$destroy");
                }
                Bb(a);
            }
            delete eb[d];
            a.ng339 = c;
        }
    }
    function Db(a, b) {
        var d = a.ng339, e = d && eb[d];
        if (b && !e) {
            a.ng339 = d = ib();
            e = eb[d] = {
                events: {},
                data: {},
                handle: c
            };
        }
        return e;
    }
    function Eb(a, b, c) {
        if (ub(a)) {
            var d = N(c);
            var e = !d && b && !O(b);
            var f = !b;
            var g = Db(a, !e);
            var h = g && g.data;
            if (d) {
                h[b] = c;
            } else {
                if (f) {
                    return h;
                } else {
                    if (e) {
                        return h && h[b];
                    } else {
                        E(h, b);
                    }
                }
            }
        }
    }
    function Fb(a, b) {
        if (!a.getAttribute) return false;
        return (" " + (a.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").indexOf(" " + b + " ") > -1;
    }
    function Gb(a, b) {
        if (b && a.setAttribute) {
            y(b.split(" "), function(b) {
                a.setAttribute("class", da((" " + (a.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").replace(" " + da(b) + " ", " ")));
            });
        }
    }
    function Hb(a, b) {
        if (b && a.setAttribute) {
            var c = (" " + (a.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ");
            y(b.split(" "), function(a) {
                a = da(a);
                if (c.indexOf(" " + a + " ") === -1) {
                    c += a + " ";
                }
            });
            a.setAttribute("class", da(c));
        }
    }
    function Ib(a, b) {
        if (b) {
            if (b.nodeType) {
                a[a.length++] = b;
            } else {
                var c = b.length;
                if (typeof c === "number" && b.window !== b) {
                    if (c) {
                        for (var d = 0; d < c; d++) {
                            a[a.length++] = b[d];
                        }
                    }
                } else {
                    a[a.length++] = b;
                }
            }
        }
    }
    function Jb(a, b) {
        return Kb(a, "$" + (b || "ngController") + "Controller");
    }
    function Kb(a, b, c) {
        if (a.nodeType == Za) {
            a = a.documentElement;
        }
        var d = T(b) ? b : [ b ];
        while (a) {
            for (var e = 0, f = d.length; e < f; e++) {
                if (N(c = m.data(a, d[e]))) return c;
            }
            a = a.parentNode || a.nodeType === $a && a.host;
        }
    }
    function Lb(a) {
        Ab(a, true);
        while (a.firstChild) {
            a.removeChild(a.firstChild);
        }
    }
    function Mb(a, b) {
        if (!b) Ab(a);
        var c = a.parentNode;
        if (c) c.removeChild(a);
    }
    function Nb(b, c) {
        c = c || a;
        if (c.document.readyState === "complete") {
            c.setTimeout(b);
        } else {
            m(c).on("load", b);
        }
    }
    var Ob = yb.prototype = {
        ready: function(c) {
            var d = false;
            function e() {
                if (d) return;
                d = true;
                c();
            }
            if (b.readyState === "complete") {
                setTimeout(e);
            } else {
                this.on("DOMContentLoaded", e);
                yb(a).on("load", e);
            }
        },
        toString: function() {
            var a = [];
            y(this, function(b) {
                a.push("" + b);
            });
            return "[" + a.join(", ") + "]";
        },
        eq: function(a) {
            return a >= 0 ? m(this[a]) : m(this[this.length + a]);
        },
        length: 0,
        push: q,
        sort: [].sort,
        splice: [].splice
    };
    var Pb = {};
    y("multiple,selected,checked,disabled,readOnly,required,open".split(","), function(a) {
        Pb[g(a)] = a;
    });
    var Qb = {};
    y("input,select,option,textarea,button,form,details".split(","), function(a) {
        Qb[a] = true;
    });
    var Rb = {
        ngMinlength: "minlength",
        ngMaxlength: "maxlength",
        ngMin: "min",
        ngMax: "max",
        ngPattern: "pattern"
    };
    function Sb(a, b) {
        var c = Pb[b.toLowerCase()];
        return c && Qb[ha(a)] && c;
    }
    function Tb(a) {
        return Rb[a];
    }
    y({
        data: Eb,
        removeData: Cb,
        hasData: vb
    }, function(a, b) {
        yb[b] = a;
    });
    y({
        data: Eb,
        inheritedData: Kb,
        scope: function(a) {
            return m.data(a, "$scope") || Kb(a.parentNode || a, [ "$isolateScope", "$scope" ]);
        },
        isolateScope: function(a) {
            return m.data(a, "$isolateScope") || m.data(a, "$isolateScopeNoTemplate");
        },
        controller: Jb,
        injector: function(a) {
            return Kb(a, "$injector");
        },
        removeAttr: function(a, b) {
            a.removeAttribute(b);
        },
        hasClass: Fb,
        css: function(a, b, c) {
            b = nb(b);
            if (N(c)) {
                a.style[b] = c;
            } else {
                return a.style[b];
            }
        },
        attr: function(a, b, d) {
            var e = a.nodeType;
            if (e === Xa || e === Wa || e === Ya) {
                return;
            }
            var f = g(b);
            if (Pb[f]) {
                if (N(d)) {
                    if (!!d) {
                        a[b] = true;
                        a.setAttribute(b, f);
                    } else {
                        a[b] = false;
                        a.removeAttribute(f);
                    }
                } else {
                    return a[b] || (a.attributes.getNamedItem(b) || I).specified ? f : c;
                }
            } else if (N(d)) {
                a.setAttribute(b, d);
            } else if (a.getAttribute) {
                var h = a.getAttribute(b, 2);
                return h === null ? c : h;
            }
        },
        prop: function(a, b, c) {
            if (N(c)) {
                a[b] = c;
            } else {
                return a[b];
            }
        },
        text: function() {
            a.$dv = "";
            return a;
            function a(a, b) {
                if (M(b)) {
                    var c = a.nodeType;
                    return c === Va || c === Xa ? a.textContent : "";
                }
                a.textContent = b;
            }
        }(),
        val: function(a, b) {
            if (M(b)) {
                if (a.multiple && ha(a) === "select") {
                    var c = [];
                    y(a.options, function(a) {
                        if (a.selected) {
                            c.push(a.value || a.text);
                        }
                    });
                    return c.length === 0 ? null : c;
                }
                return a.value;
            }
            a.value = b;
        },
        html: function(a, b) {
            if (M(b)) {
                return a.innerHTML;
            }
            Ab(a, true);
            a.innerHTML = b;
        },
        empty: Lb
    }, function(a, b) {
        yb.prototype[b] = function(b, c) {
            var d, e;
            var f = this.length;
            if (a !== Lb && M(a.length == 2 && (a !== Fb && a !== Jb) ? b : c)) {
                if (O(b)) {
                    for (d = 0; d < f; d++) {
                        if (a === Eb) {
                            a(this[d], b);
                        } else {
                            for (e in b) {
                                a(this[d], e, b[e]);
                            }
                        }
                    }
                    return this;
                } else {
                    var g = a.$dv;
                    var h = M(g) ? Math.min(f, 1) : f;
                    for (var i = 0; i < h; i++) {
                        var j = a(this[i], b, c);
                        g = g ? g + j : j;
                    }
                    return g;
                }
            } else {
                for (d = 0; d < f; d++) {
                    a(this[d], b, c);
                }
                return this;
            }
        };
    });
    function Ub(a, b) {
        var c = function(c, d) {
            c.isDefaultPrevented = function() {
                return c.defaultPrevented;
            };
            var e = b[d || c.type];
            var f = e ? e.length : 0;
            if (!f) return;
            if (M(c.immediatePropagationStopped)) {
                var g = c.stopImmediatePropagation;
                c.stopImmediatePropagation = function() {
                    c.immediatePropagationStopped = true;
                    if (c.stopPropagation) {
                        c.stopPropagation();
                    }
                    if (g) {
                        g.call(c);
                    }
                };
            }
            c.isImmediatePropagationStopped = function() {
                return c.immediatePropagationStopped === true;
            };
            if (f > 1) {
                e = la(e);
            }
            for (var h = 0; h < f; h++) {
                if (!c.isImmediatePropagationStopped()) {
                    e[h].call(a, c);
                }
            }
        };
        c.elem = a;
        return c;
    }
    y({
        removeData: Cb,
        on: function Lg(a, b, c, d) {
            if (N(d)) throw mb("onargs", "jqLite#on() does not support the `selector` or `eventData` parameters");
            if (!ub(a)) {
                return;
            }
            var e = Db(a, true);
            var f = e.events;
            var g = e.handle;
            if (!g) {
                g = e.handle = Ub(a, f);
            }
            var h = b.indexOf(" ") >= 0 ? b.split(" ") : [ b ];
            var i = h.length;
            while (i--) {
                b = h[i];
                var j = f[b];
                if (!j) {
                    f[b] = [];
                    if (b === "mouseenter" || b === "mouseleave") {
                        Lg(a, lb[b], function(a) {
                            var c = this, d = a.relatedTarget;
                            if (!d || d !== c && !c.contains(d)) {
                                g(a, b);
                            }
                        });
                    } else {
                        if (b !== "$destroy") {
                            gb(a, b, g);
                        }
                    }
                    j = f[b];
                }
                j.push(c);
            }
        },
        off: Bb,
        one: function(a, b, c) {
            a = m(a);
            a.on(b, function d() {
                a.off(b, c);
                a.off(b, d);
            });
            a.on(b, c);
        },
        replaceWith: function(a, b) {
            var c, d = a.parentNode;
            Ab(a);
            y(new yb(b), function(b) {
                if (c) {
                    d.insertBefore(b, c.nextSibling);
                } else {
                    d.replaceChild(b, a);
                }
                c = b;
            });
        },
        children: function(a) {
            var b = [];
            y(a.childNodes, function(a) {
                if (a.nodeType === Va) {
                    b.push(a);
                }
            });
            return b;
        },
        contents: function(a) {
            return a.contentDocument || a.childNodes || [];
        },
        append: function(a, b) {
            var c = a.nodeType;
            if (c !== Va && c !== $a) return;
            b = new yb(b);
            for (var d = 0, e = b.length; d < e; d++) {
                var f = b[d];
                a.appendChild(f);
            }
        },
        prepend: function(a, b) {
            if (a.nodeType === Va) {
                var c = a.firstChild;
                y(new yb(b), function(b) {
                    a.insertBefore(b, c);
                });
            }
        },
        wrap: function(a, b) {
            b = m(b).eq(0).clone()[0];
            var c = a.parentNode;
            if (c) {
                c.replaceChild(b, a);
            }
            b.appendChild(a);
        },
        remove: Mb,
        detach: function(a) {
            Mb(a, true);
        },
        after: function(a, b) {
            var c = a, d = a.parentNode;
            b = new yb(b);
            for (var e = 0, f = b.length; e < f; e++) {
                var g = b[e];
                d.insertBefore(g, c.nextSibling);
                c = g;
            }
        },
        addClass: Hb,
        removeClass: Gb,
        toggleClass: function(a, b, c) {
            if (b) {
                y(b.split(" "), function(b) {
                    var d = c;
                    if (M(d)) {
                        d = !Fb(a, b);
                    }
                    (d ? Hb : Gb)(a, b);
                });
            }
        },
        parent: function(a) {
            var b = a.parentNode;
            return b && b.nodeType !== $a ? b : null;
        },
        next: function(a) {
            return a.nextElementSibling;
        },
        find: function(a, b) {
            if (a.getElementsByTagName) {
                return a.getElementsByTagName(b);
            } else {
                return [];
            }
        },
        clone: zb,
        triggerHandler: function(a, b, c) {
            var d, e, f;
            var g = b.type || b;
            var h = Db(a);
            var i = h && h.events;
            var j = i && i[g];
            if (j) {
                d = {
                    preventDefault: function() {
                        this.defaultPrevented = true;
                    },
                    isDefaultPrevented: function() {
                        return this.defaultPrevented === true;
                    },
                    stopImmediatePropagation: function() {
                        this.immediatePropagationStopped = true;
                    },
                    isImmediatePropagationStopped: function() {
                        return this.immediatePropagationStopped === true;
                    },
                    stopPropagation: I,
                    type: g,
                    target: a
                };
                if (b.type) {
                    d = E(d, b);
                }
                e = la(j);
                f = c ? [ d ].concat(c) : [ d ];
                y(e, function(b) {
                    if (!d.isImmediatePropagationStopped()) {
                        b.apply(a, f);
                    }
                });
            }
        }
    }, function(a, b) {
        yb.prototype[b] = function(b, c, d) {
            var e;
            for (var f = 0, g = this.length; f < g; f++) {
                if (M(e)) {
                    e = a(this[f], b, c, d);
                    if (N(e)) {
                        e = m(e);
                    }
                } else {
                    Ib(e, a(this[f], b, c, d));
                }
            }
            return N(e) ? e : this;
        };
        yb.prototype.bind = yb.prototype.on;
        yb.prototype.unbind = yb.prototype.off;
    });
    function Vb() {
        this.$get = function a() {
            return E(yb, {
                hasClass: function(a, b) {
                    if (a.attr) a = a[0];
                    return Fb(a, b);
                },
                addClass: function(a, b) {
                    if (a.attr) a = a[0];
                    return Hb(a, b);
                },
                removeClass: function(a, b) {
                    if (a.attr) a = a[0];
                    return Gb(a, b);
                }
            });
        };
    }
    function Wb(a, b) {
        var c = a && a.$$hashKey;
        if (c) {
            if (typeof c === "function") {
                c = a.$$hashKey();
            }
            return c;
        }
        var d = typeof a;
        if (d == "function" || d == "object" && a !== null) {
            c = a.$$hashKey = d + ":" + (b || B)();
        } else {
            c = d + ":" + a;
        }
        return c;
    }
    function Xb(a, b) {
        if (b) {
            var c = 0;
            this.nextUid = function() {
                return ++c;
            };
        }
        y(a, this.put, this);
    }
    Xb.prototype = {
        put: function(a, b) {
            this[Wb(a, this.nextUid)] = b;
        },
        get: function(a) {
            return this[Wb(a, this.nextUid)];
        },
        remove: function(a) {
            var b = this[a = Wb(a, this.nextUid)];
            delete this[a];
            return b;
        }
    };
    var Yb = [ function() {
        this.$get = [ function() {
            return Xb;
        } ];
    } ];
    var Zb = /^[^\(]*\(\s*([^\)]*)\)/m;
    var $b = /,/;
    var _b = /^\s*(_?)(\S+?)\1\s*$/;
    var ac = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;
    var bc = d("$injector");
    function cc(a) {
        var b = a.toString().replace(ac, ""), c = b.match(Zb);
        if (c) {
            return "function(" + (c[1] || "").replace(/[\s\r\n]+/, " ") + ")";
        }
        return "fn";
    }
    function dc(a, b, c) {
        var d, e, f, g;
        if (typeof a === "function") {
            if (!(d = a.$inject)) {
                d = [];
                if (a.length) {
                    if (b) {
                        if (!Q(c) || !c) {
                            c = a.name || cc(a);
                        }
                        throw bc("strictdi", "{0} is not using explicit annotation and cannot be invoked in strict mode", c);
                    }
                    e = a.toString().replace(ac, "");
                    f = e.match(Zb);
                    y(f[1].split($b), function(a) {
                        a.replace(_b, function(a, b, c) {
                            d.push(c);
                        });
                    });
                }
                a.$inject = d;
            }
        } else if (T(a)) {
            g = a.length - 1;
            Qa(a[g], "fn");
            d = a.slice(0, g);
        } else {
            Qa(a, "fn", true);
        }
        return d;
    }
    function ec(a, b) {
        b = b === true;
        var d = {}, e = "Provider", f = [], g = new Xb([], true), h = {
            $provide: {
                provider: l(m),
                factory: l(o),
                service: l(p),
                value: l(q),
                constant: l(r),
                decorator: s
            }
        }, i = h.$injector = w(h, function(a, b) {
            if (u.isString(b)) {
                f.push(b);
            }
            throw bc("unpr", "Unknown provider: {0}", f.join(" <- "));
        }), j = {}, k = j.$injector = w(j, function(a, b) {
            var d = i.get(a + e, b);
            return k.invoke(d.$get, d, c, a);
        });
        y(t(a), function(a) {
            if (a) k.invoke(a);
        });
        return k;
        function l(a) {
            return function(b, c) {
                if (O(b)) {
                    y(b, A(a));
                } else {
                    return a(b, c);
                }
            };
        }
        function m(a, b) {
            Ra(a, "service");
            if (U(b) || T(b)) {
                b = i.instantiate(b);
            }
            if (!b.$get) {
                throw bc("pget", "Provider '{0}' must define $get factory method.", a);
            }
            return h[a + e] = b;
        }
        function n(a, b) {
            return function c() {
                var c = k.invoke(b, this);
                if (M(c)) {
                    throw bc("undef", "Provider '{0}' must return a value from $get factory method.", a);
                }
                return c;
            };
        }
        function o(a, b, c) {
            return m(a, {
                $get: c !== false ? n(a, b) : b
            });
        }
        function p(a, b) {
            return o(a, [ "$injector", function(a) {
                return a.instantiate(b);
            } ]);
        }
        function q(a, b) {
            return o(a, K(b), false);
        }
        function r(a, b) {
            Ra(a, "constant");
            h[a] = b;
            j[a] = b;
        }
        function s(a, b) {
            var c = i.get(a + e), d = c.$get;
            c.$get = function() {
                var a = k.invoke(d, c);
                return k.invoke(b, null, {
                    $delegate: a
                });
            };
        }
        function t(a) {
            Pa(M(a) || T(a), "modulesToLoad", "not an array");
            var b = [], c;
            y(a, function(a) {
                if (g.get(a)) return;
                g.put(a, true);
                function d(a) {
                    var b, c;
                    for (b = 0, c = a.length; b < c; b++) {
                        var d = a[b], e = i.get(d[0]);
                        e[d[1]].apply(e, d[2]);
                    }
                }
                try {
                    if (Q(a)) {
                        c = v(a);
                        b = b.concat(t(c.requires)).concat(c._runBlocks);
                        d(c._invokeQueue);
                        d(c._configBlocks);
                    } else if (U(a)) {
                        b.push(i.invoke(a));
                    } else if (T(a)) {
                        b.push(i.invoke(a));
                    } else {
                        Qa(a, "module");
                    }
                } catch (e) {
                    if (T(a)) {
                        a = a[a.length - 1];
                    }
                    if (e.message && e.stack && e.stack.indexOf(e.message) == -1) {
                        e = e.message + "\n" + e.stack;
                    }
                    throw bc("modulerr", "Failed to instantiate module {0} due to:\n{1}", a, e.stack || e.message || e);
                }
            });
            return b;
        }
        function w(a, c) {
            function g(b, e) {
                if (a.hasOwnProperty(b)) {
                    if (a[b] === d) {
                        throw bc("cdep", "Circular dependency found: {0}", b + " <- " + f.join(" <- "));
                    }
                    return a[b];
                } else {
                    try {
                        f.unshift(b);
                        a[b] = d;
                        return a[b] = c(b, e);
                    } catch (g) {
                        if (a[b] === d) {
                            delete a[b];
                        }
                        throw g;
                    } finally {
                        f.shift();
                    }
                }
            }
            function i(a, c, d, e) {
                if (typeof d === "string") {
                    e = d;
                    d = null;
                }
                var f = [], h = ec.$$annotate(a, b, e), i, j, k;
                for (j = 0, i = h.length; j < i; j++) {
                    k = h[j];
                    if (typeof k !== "string") {
                        throw bc("itkn", "Incorrect injection token! Expected service name as string, got {0}", k);
                    }
                    f.push(d && d.hasOwnProperty(k) ? d[k] : g(k, e));
                }
                if (T(a)) {
                    a = a[i];
                }
                return a.apply(c, f);
            }
            function j(a, b, c) {
                var d = Object.create((T(a) ? a[a.length - 1] : a).prototype || null);
                var e = i(a, d, b, c);
                return O(e) || U(e) ? e : d;
            }
            return {
                invoke: i,
                instantiate: j,
                get: g,
                annotate: ec.$$annotate,
                has: function(b) {
                    return h.hasOwnProperty(b + e) || a.hasOwnProperty(b);
                }
            };
        }
    }
    ec.$$annotate = dc;
    function fc() {
        var a = true;
        this.disableAutoScrolling = function() {
            a = false;
        };
        this.$get = [ "$window", "$location", "$rootScope", function(b, c, d) {
            var e = b.document;
            function f(a) {
                var b = null;
                Array.prototype.some.call(a, function(a) {
                    if (ha(a) === "a") {
                        b = a;
                        return true;
                    }
                });
                return b;
            }
            function g() {
                var a = i.yOffset;
                if (U(a)) {
                    a = a();
                } else if (fa(a)) {
                    var c = a[0];
                    var d = b.getComputedStyle(c);
                    if (d.position !== "fixed") {
                        a = 0;
                    } else {
                        a = c.getBoundingClientRect().bottom;
                    }
                } else if (!R(a)) {
                    a = 0;
                }
                return a;
            }
            function h(a) {
                if (a) {
                    a.scrollIntoView();
                    var c = g();
                    if (c) {
                        var d = a.getBoundingClientRect().top;
                        b.scrollBy(0, d - c);
                    }
                } else {
                    b.scrollTo(0, 0);
                }
            }
            function i(a) {
                a = Q(a) ? a : c.hash();
                var b;
                if (!a) h(null); else if (b = e.getElementById(a)) h(b); else if (b = f(e.getElementsByName(a))) h(b); else if (a === "top") h(null);
            }
            if (a) {
                d.$watch(function j() {
                    return c.hash();
                }, function k(a, b) {
                    if (a === b && a === "") return;
                    Nb(function() {
                        d.$evalAsync(i);
                    });
                });
            }
            return i;
        } ];
    }
    var gc = d("$animate");
    var hc = 1;
    var ic = "ng-animate";
    function jc(a, b) {
        if (!a && !b) return "";
        if (!a) return b;
        if (!b) return a;
        if (T(a)) a = a.join(" ");
        if (T(b)) b = b.join(" ");
        return a + " " + b;
    }
    function kc(a) {
        for (var b = 0; b < a.length; b++) {
            var c = a[b];
            if (c.nodeType === hc) {
                return c;
            }
        }
    }
    function lc(a) {
        if (Q(a)) {
            a = a.split(" ");
        }
        var b = Ua();
        y(a, function(a) {
            if (a.length) {
                b[a] = true;
            }
        });
        return b;
    }
    function mc(a) {
        return O(a) ? a : {};
    }
    var nc = function() {
        this.$get = [ "$q", "$$rAF", function(a, b) {
            function c() {}
            c.all = I;
            c.chain = I;
            c.prototype = {
                end: I,
                cancel: I,
                resume: I,
                pause: I,
                complete: I,
                then: function(c, d) {
                    return a(function(a) {
                        b(function() {
                            a();
                        });
                    }).then(c, d);
                }
            };
            return c;
        } ];
    };
    var oc = function() {
        var a = new Xb();
        var b = [];
        this.$get = [ "$$AnimateRunner", "$rootScope", function(c, d) {
            return {
                enabled: I,
                on: I,
                off: I,
                pin: I,
                push: function(a, b, d, e) {
                    e && e();
                    d = d || {};
                    d.from && a.css(d.from);
                    d.to && a.css(d.to);
                    if (d.addClass || d.removeClass) {
                        g(a, d.addClass, d.removeClass);
                    }
                    return new c();
                }
            };
            function e(a, b, c) {
                var d = false;
                if (b) {
                    b = Q(b) ? b.split(" ") : T(b) ? b : [];
                    y(b, function(b) {
                        if (b) {
                            d = true;
                            a[b] = c;
                        }
                    });
                }
                return d;
            }
            function f() {
                y(b, function(b) {
                    var c = a.get(b);
                    if (c) {
                        var d = lc(b.attr("class"));
                        var e = "";
                        var f = "";
                        y(c, function(a, b) {
                            var c = !!d[b];
                            if (a !== c) {
                                if (a) {
                                    e += (e.length ? " " : "") + b;
                                } else {
                                    f += (f.length ? " " : "") + b;
                                }
                            }
                        });
                        y(b, function(a) {
                            e && Hb(a, e);
                            f && Gb(a, f);
                        });
                        a.remove(b);
                    }
                });
                b.length = 0;
            }
            function g(c, g, h) {
                var i = a.get(c) || {};
                var j = e(i, g, true);
                var k = e(i, h, false);
                if (j || k) {
                    a.put(c, i);
                    b.push(c);
                    if (b.length === 1) {
                        d.$$postDigest(f);
                    }
                }
            }
        } ];
    };
    var pc = [ "$provide", function(a) {
        var b = this;
        this.$$registeredAnimations = Object.create(null);
        this.register = function(c, d) {
            if (c && c.charAt(0) !== ".") {
                throw gc("notcsel", "Expecting class selector starting with '.' got '{0}'.", c);
            }
            var e = c + "-animation";
            b.$$registeredAnimations[c.substr(1)] = e;
            a.factory(e, d);
        };
        this.classNameFilter = function(a) {
            if (arguments.length === 1) {
                this.$$classNameFilter = a instanceof RegExp ? a : null;
                if (this.$$classNameFilter) {
                    var b = new RegExp("(\\s+|\\/)" + ic + "(\\s+|\\/)");
                    if (b.test(this.$$classNameFilter.toString())) {
                        throw gc("nongcls", '$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.', ic);
                    }
                }
            }
            return this.$$classNameFilter;
        };
        this.$get = [ "$$animateQueue", function(a) {
            function b(a, b, c) {
                if (c) {
                    var d = kc(c);
                    if (d && !d.parentNode && !d.previousElementSibling) {
                        c = null;
                    }
                }
                c ? c.after(a) : b.prepend(a);
            }
            return {
                on: a.on,
                off: a.off,
                pin: a.pin,
                enabled: a.enabled,
                cancel: function(a) {
                    a.end && a.end();
                },
                enter: function(c, d, e, f) {
                    d = d && m(d);
                    e = e && m(e);
                    d = d || e.parent();
                    b(c, d, e);
                    return a.push(c, "enter", mc(f));
                },
                move: function(c, d, e, f) {
                    d = d && m(d);
                    e = e && m(e);
                    d = d || e.parent();
                    b(c, d, e);
                    return a.push(c, "move", mc(f));
                },
                leave: function(b, c) {
                    return a.push(b, "leave", mc(c), function() {
                        b.remove();
                    });
                },
                addClass: function(b, c, d) {
                    d = mc(d);
                    d.addClass = jc(d.addclass, c);
                    return a.push(b, "addClass", d);
                },
                removeClass: function(b, c, d) {
                    d = mc(d);
                    d.removeClass = jc(d.removeClass, c);
                    return a.push(b, "removeClass", d);
                },
                setClass: function(b, c, d, e) {
                    e = mc(e);
                    e.addClass = jc(e.addClass, c);
                    e.removeClass = jc(e.removeClass, d);
                    return a.push(b, "setClass", e);
                },
                animate: function(b, c, d, e, f) {
                    f = mc(f);
                    f.from = f.from ? E(f.from, c) : c;
                    f.to = f.to ? E(f.to, d) : d;
                    e = e || "ng-inline-animate";
                    f.tempClasses = jc(f.tempClasses, e);
                    return a.push(b, "animate", f);
                }
            };
        } ];
    } ];
    var qc = function() {
        this.$get = [ "$$rAF", "$q", function(a, b) {
            var c = function() {};
            c.prototype = {
                done: function(a) {
                    this.defer && this.defer[a === true ? "reject" : "resolve"]();
                },
                end: function() {
                    this.done();
                },
                cancel: function() {
                    this.done(true);
                },
                getPromise: function() {
                    if (!this.defer) {
                        this.defer = b.defer();
                    }
                    return this.defer.promise;
                },
                then: function(a, b) {
                    return this.getPromise().then(a, b);
                },
                "catch": function(a) {
                    return this.getPromise()["catch"](a);
                },
                "finally": function(a) {
                    return this.getPromise()["finally"](a);
                }
            };
            return function(b, d) {
                if (d.cleanupStyles) {
                    d.from = d.to = null;
                }
                if (d.from) {
                    b.css(d.from);
                    d.from = null;
                }
                var e, f = new c();
                return {
                    start: g,
                    end: g
                };
                function g() {
                    a(function() {
                        h();
                        if (!e) {
                            f.done();
                        }
                        e = true;
                    });
                    return f;
                }
                function h() {
                    if (d.addClass) {
                        b.addClass(d.addClass);
                        d.addClass = null;
                    }
                    if (d.removeClass) {
                        b.removeClass(d.removeClass);
                        d.removeClass = null;
                    }
                    if (d.to) {
                        b.css(d.to);
                        d.to = null;
                    }
                }
            };
        } ];
    };
    function rc(a, b, c, d) {
        var e = this, f = b[0], g = a.location, h = a.history, i = a.setTimeout, j = a.clearTimeout, k = {};
        e.isMock = false;
        var l = 0;
        var n = [];
        e.$$completeOutstandingRequest = o;
        e.$$incOutstandingRequestCount = function() {
            l++;
        };
        function o(a) {
            try {
                a.apply(null, qa(arguments, 1));
            } finally {
                l--;
                if (l === 0) {
                    while (n.length) {
                        try {
                            n.pop()();
                        } catch (b) {
                            c.error(b);
                        }
                    }
                }
            }
        }
        function p(a) {
            var b = a.indexOf("#");
            return b === -1 ? "" : a.substr(b);
        }
        e.notifyWhenNoOutstandingRequests = function(a) {
            if (l === 0) {
                a();
            } else {
                n.push(a);
            }
        };
        var q, r, s = g.href, t = b.find("base"), u = null;
        B();
        r = q;
        e.url = function(b, c, f) {
            if (M(f)) {
                f = null;
            }
            if (g !== a.location) g = a.location;
            if (h !== a.history) h = a.history;
            if (b) {
                var i = r === f;
                if (s === b && (!d.history || i)) {
                    return e;
                }
                var j = s && md(s) === md(b);
                s = b;
                r = f;
                if (d.history && (!j || !i)) {
                    h[c ? "replaceState" : "pushState"](f, "", b);
                    B();
                    r = q;
                } else {
                    if (!j || u) {
                        u = b;
                    }
                    if (c) {
                        g.replace(b);
                    } else if (!j) {
                        g.href = b;
                    } else {
                        g.hash = p(b);
                    }
                    if (g.href !== b) {
                        u = b;
                    }
                }
                return e;
            } else {
                return u || g.href.replace(/%27/g, "'");
            }
        };
        e.state = function() {
            return q;
        };
        var v = [], w = false;
        function x() {
            u = null;
            B();
            C();
        }
        function z() {
            try {
                return h.state;
            } catch (a) {}
        }
        var A = null;
        function B() {
            q = z();
            q = M(q) ? null : q;
            if (ma(q, A)) {
                q = A;
            }
            A = q;
        }
        function C() {
            if (s === e.url() && r === q) {
                return;
            }
            s = e.url();
            r = q;
            y(v, function(a) {
                a(e.url(), q);
            });
        }
        e.onUrlChange = function(b) {
            if (!w) {
                if (d.history) m(a).on("popstate", x);
                m(a).on("hashchange", x);
                w = true;
            }
            v.push(b);
            return b;
        };
        e.$$applicationDestroyed = function() {
            m(a).off("hashchange popstate", x);
        };
        e.$$checkUrlChange = C;
        e.baseHref = function() {
            var a = t.attr("href");
            return a ? a.replace(/^(https?\:)?\/\/[^\/]*/, "") : "";
        };
        e.defer = function(a, b) {
            var c;
            l++;
            c = i(function() {
                delete k[c];
                o(a);
            }, b || 0);
            k[c] = true;
            return c;
        };
        e.defer.cancel = function(a) {
            if (k[a]) {
                delete k[a];
                j(a);
                o(I);
                return true;
            }
            return false;
        };
    }
    function sc() {
        this.$get = [ "$window", "$log", "$sniffer", "$document", function(a, b, c, d) {
            return new rc(a, d, b, c);
        } ];
    }
    function tc() {
        this.$get = function() {
            var a = {};
            function b(b, c) {
                if (b in a) {
                    throw d("$cacheFactory")("iid", "CacheId '{0}' is already taken!", b);
                }
                var e = 0, f = E({}, c, {
                    id: b
                }), g = {}, h = c && c.capacity || Number.MAX_VALUE, i = {}, j = null, k = null;
                return a[b] = {
                    put: function(a, b) {
                        if (M(b)) return;
                        if (h < Number.MAX_VALUE) {
                            var c = i[a] || (i[a] = {
                                key: a
                            });
                            l(c);
                        }
                        if (!(a in g)) e++;
                        g[a] = b;
                        if (e > h) {
                            this.remove(k.key);
                        }
                        return b;
                    },
                    get: function(a) {
                        if (h < Number.MAX_VALUE) {
                            var b = i[a];
                            if (!b) return;
                            l(b);
                        }
                        return g[a];
                    },
                    remove: function(a) {
                        if (h < Number.MAX_VALUE) {
                            var b = i[a];
                            if (!b) return;
                            if (b == j) j = b.p;
                            if (b == k) k = b.n;
                            m(b.n, b.p);
                            delete i[a];
                        }
                        delete g[a];
                        e--;
                    },
                    removeAll: function() {
                        g = {};
                        e = 0;
                        i = {};
                        j = k = null;
                    },
                    destroy: function() {
                        g = null;
                        f = null;
                        i = null;
                        delete a[b];
                    },
                    info: function() {
                        return E({}, f, {
                            size: e
                        });
                    }
                };
                function l(a) {
                    if (a != j) {
                        if (!k) {
                            k = a;
                        } else if (k == a) {
                            k = a.n;
                        }
                        m(a.n, a.p);
                        m(a, j);
                        j = a;
                        j.n = null;
                    }
                }
                function m(a, b) {
                    if (a != b) {
                        if (a) a.p = b;
                        if (b) b.n = a;
                    }
                }
            }
            b.info = function() {
                var b = {};
                y(a, function(a, c) {
                    b[c] = a.info();
                });
                return b;
            };
            b.get = function(b) {
                return a[b];
            };
            return b;
        };
    }
    function uc() {
        this.$get = [ "$cacheFactory", function(a) {
            return a("templates");
        } ];
    }
    var vc = d("$compile");
    wc.$inject = [ "$provide", "$$sanitizeUriProvider" ];
    function wc(a, d) {
        var e = {}, f = "Directive", i = /^\s*directive\:\s*([\w\-]+)\s+(.*)$/, j = /(([\w\-]+)(?:\:([^;]+))?;?)/, k = ga("ngSrc,ngSrcset,src,srcset"), o = /^(?:(\^\^?)?(\?)?(\^\^?)?)?/;
        var p = /^(on[a-z]+|formaction)$/;
        function q(a, b, c) {
            var d = /^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/;
            var e = {};
            y(a, function(a, f) {
                var g = a.match(d);
                if (!g) {
                    throw vc("iscp", "Invalid {3} for directive '{0}'." + " Definition: {... {1}: '{2}' ...}", b, f, a, c ? "controller bindings definition" : "isolate scope definition");
                }
                e[f] = {
                    mode: g[1][0],
                    collection: g[2] === "*",
                    optional: g[3] === "?",
                    attrName: g[4] || f
                };
            });
            return e;
        }
        function r(a, b) {
            var c = {
                isolateScope: null,
                bindToController: null
            };
            if (O(a.scope)) {
                if (a.bindToController === true) {
                    c.bindToController = q(a.scope, b, true);
                    c.isolateScope = {};
                } else {
                    c.isolateScope = q(a.scope, b, false);
                }
            }
            if (O(a.bindToController)) {
                c.bindToController = q(a.bindToController, b, true);
            }
            if (O(c.bindToController)) {
                var d = a.controller;
                var e = a.controllerAs;
                if (!d) {
                    throw vc("noctrl", "Cannot bind to controller without directive '{0}'s controller.", b);
                } else if (!Fc(d, e)) {
                    throw vc("noident", "Cannot bind to controller without identifier for directive '{0}'.", b);
                }
            }
            return c;
        }
        function s(a) {
            var b = a.charAt(0);
            if (!b || b !== g(b)) {
                throw vc("baddir", "Directive name '{0}' is invalid. The first character must be a lowercase letter", a);
            }
            if (a !== a.trim()) {
                throw vc("baddir", "Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces", a);
            }
        }
        this.directive = function u(b, c) {
            Ra(b, "directive");
            if (Q(b)) {
                s(b);
                Pa(c, "directiveFactory");
                if (!e.hasOwnProperty(b)) {
                    e[b] = [];
                    a.factory(b + f, [ "$injector", "$exceptionHandler", function(a, c) {
                        var d = [];
                        y(e[b], function(e, f) {
                            try {
                                var g = a.invoke(e);
                                if (U(g)) {
                                    g = {
                                        compile: K(g)
                                    };
                                } else if (!g.compile && g.link) {
                                    g.compile = K(g.link);
                                }
                                g.priority = g.priority || 0;
                                g.index = f;
                                g.name = g.name || b;
                                g.require = g.require || g.controller && g.name;
                                g.restrict = g.restrict || "EA";
                                var h = g.$$bindings = r(g, g.name);
                                if (O(h.isolateScope)) {
                                    g.$$isolateBindings = h.isolateScope;
                                }
                                g.$$moduleName = e.$$moduleName;
                                d.push(g);
                            } catch (i) {
                                c(i);
                            }
                        });
                        return d;
                    } ]);
                }
                e[b].push(c);
            } else {
                y(b, A(u));
            }
            return this;
        };
        this.aHrefSanitizationWhitelist = function(a) {
            if (N(a)) {
                d.aHrefSanitizationWhitelist(a);
                return this;
            } else {
                return d.aHrefSanitizationWhitelist();
            }
        };
        this.imgSrcSanitizationWhitelist = function(a) {
            if (N(a)) {
                d.imgSrcSanitizationWhitelist(a);
                return this;
            } else {
                return d.imgSrcSanitizationWhitelist();
            }
        };
        var t = true;
        this.debugInfoEnabled = function(a) {
            if (N(a)) {
                t = a;
                return this;
            }
            return t;
        };
        this.$get = [ "$injector", "$interpolate", "$exceptionHandler", "$templateRequest", "$parse", "$controller", "$rootScope", "$document", "$sce", "$animate", "$$sanitizeUri", function(a, d, q, r, s, u, v, w, x, z, A) {
            var B = function(a, b) {
                if (b) {
                    var c = Object.keys(b);
                    var d, e, f;
                    for (d = 0, e = c.length; d < e; d++) {
                        f = c[d];
                        this[f] = b[f];
                    }
                } else {
                    this.$attr = {};
                }
                this.$$element = a;
            };
            B.prototype = {
                $normalize: yc,
                $addClass: function(a) {
                    if (a && a.length > 0) {
                        z.addClass(this.$$element, a);
                    }
                },
                $removeClass: function(a) {
                    if (a && a.length > 0) {
                        z.removeClass(this.$$element, a);
                    }
                },
                $updateClass: function(a, b) {
                    var c = Bc(a, b);
                    if (c && c.length) {
                        z.addClass(this.$$element, c);
                    }
                    var d = Bc(b, a);
                    if (d && d.length) {
                        z.removeClass(this.$$element, d);
                    }
                },
                $set: function(a, b, c, d) {
                    var e = this.$$element[0], f = Sb(e, a), g = Tb(a), h = a, i;
                    if (f) {
                        this.$$element.prop(a, b);
                        d = f;
                    } else if (g) {
                        this[g] = b;
                        h = g;
                    }
                    this[a] = b;
                    if (d) {
                        this.$attr[a] = d;
                    } else {
                        d = this.$attr[a];
                        if (!d) {
                            this.$attr[a] = d = La(a, "-");
                        }
                    }
                    i = ha(this.$$element);
                    if (i === "a" && a === "href" || i === "img" && a === "src") {
                        this[a] = b = A(b, a === "src");
                    } else if (i === "img" && a === "srcset") {
                        var j = "";
                        var k = da(b);
                        var l = /(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;
                        var m = /\s/.test(k) ? l : /(,)/;
                        var n = k.split(m);
                        var o = Math.floor(n.length / 2);
                        for (var p = 0; p < o; p++) {
                            var r = p * 2;
                            j += A(da(n[r]), true);
                            j += " " + da(n[r + 1]);
                        }
                        var s = da(n[p * 2]).split(/\s/);
                        j += A(da(s[0]), true);
                        if (s.length === 2) {
                            j += " " + da(s[1]);
                        }
                        this[a] = b = j;
                    }
                    if (c !== false) {
                        if (b === null || M(b)) {
                            this.$$element.removeAttr(d);
                        } else {
                            this.$$element.attr(d, b);
                        }
                    }
                    var t = this.$$observers;
                    t && y(t[h], function(a) {
                        try {
                            a(b);
                        } catch (c) {
                            q(c);
                        }
                    });
                },
                $observe: function(a, b) {
                    var c = this, d = c.$$observers || (c.$$observers = Ua()), e = d[a] || (d[a] = []);
                    e.push(b);
                    v.$evalAsync(function() {
                        if (!e.$$inter && c.hasOwnProperty(a) && !M(c[a])) {
                            b(c[a]);
                        }
                    });
                    return function() {
                        ja(e, b);
                    };
                }
            };
            function C(a, b) {
                try {
                    a.addClass(b);
                } catch (c) {}
            }
            var D = d.startSymbol(), F = d.endSymbol(), G = D == "{{" || F == "}}" ? J : function ra(a) {
                return a.replace(/\{\{/g, D).replace(/}}/g, F);
            }, K = /^ngAttr[A-Z]/;
            L.$$addBindingInfo = t ? function sa(a, b) {
                var c = a.data("$binding") || [];
                if (T(b)) {
                    c = c.concat(b);
                } else {
                    c.push(b);
                }
                a.data("$binding", c);
            } : I;
            L.$$addBindingClass = t ? function ta(a) {
                C(a, "ng-binding");
            } : I;
            L.$$addScopeInfo = t ? function ua(a, b, c, d) {
                var e = c ? d ? "$isolateScopeNoTemplate" : "$isolateScope" : "$scope";
                a.data(e, b);
            } : I;
            L.$$addScopeClass = t ? function va(a, b) {
                C(a, b ? "ng-isolate-scope" : "ng-scope");
            } : I;
            return L;
            function L(a, b, c, d, e) {
                if (!(a instanceof m)) {
                    a = m(a);
                }
                y(a, function(b, c) {
                    if (b.nodeType == Xa && b.nodeValue.match(/\S+/)) {
                        a[c] = m(b).wrap("<span></span>").parent()[0];
                    }
                });
                var f = P(a, b, a, c, d, e);
                L.$$addScopeClass(a);
                var g = null;
                return function h(b, c, d) {
                    Pa(b, "scope");
                    d = d || {};
                    var e = d.parentBoundTranscludeFn, h = d.transcludeControllers, i = d.futureParentElement;
                    if (e && e.$$boundTransclude) {
                        e = e.$$boundTransclude;
                    }
                    if (!g) {
                        g = N(i);
                    }
                    var j;
                    if (g !== "html") {
                        j = m(ga(g, m("<div>").append(a).html()));
                    } else if (c) {
                        j = Ob.clone.call(a);
                    } else {
                        j = a;
                    }
                    if (h) {
                        for (var k in h) {
                            j.data("$" + k + "Controller", h[k].instance);
                        }
                    }
                    L.$$addScopeInfo(j, b);
                    if (c) c(j, b);
                    if (f) f(b, j, j, e);
                    return j;
                };
            }
            function N(a) {
                var b = a && a[0];
                if (!b) {
                    return "html";
                } else {
                    return ha(b) !== "foreignobject" && b.toString().match(/SVG/) ? "svg" : "html";
                }
            }
            function P(a, b, d, e, f, g) {
                var h = [], i, j, k, l, n, o, p;
                for (var q = 0; q < a.length; q++) {
                    i = new B();
                    j = S(a[q], [], i, q === 0 ? e : c, f);
                    k = j.length ? Y(j, a[q], i, b, d, null, [], [], g) : null;
                    if (k && k.scope) {
                        L.$$addScopeClass(i.$$element);
                    }
                    n = k && k.terminal || !(l = a[q].childNodes) || !l.length ? null : P(l, k ? (k.transcludeOnThisElement || !k.templateOnThisElement) && k.transclude : b);
                    if (k || n) {
                        h.push(q, k, n);
                        o = true;
                        p = p || k;
                    }
                    g = null;
                }
                return o ? r : null;
                function r(a, d, e, f) {
                    var g, i, j, k, l, n, o, q;
                    var r;
                    if (p) {
                        var s = d.length;
                        r = new Array(s);
                        for (l = 0; l < h.length; l += 3) {
                            o = h[l];
                            r[o] = d[o];
                        }
                    } else {
                        r = d;
                    }
                    for (l = 0, n = h.length; l < n; ) {
                        j = r[h[l++]];
                        g = h[l++];
                        i = h[l++];
                        if (g) {
                            if (g.scope) {
                                k = a.$new();
                                L.$$addScopeInfo(m(j), k);
                                var t = g.$$destroyBindings;
                                if (t) {
                                    g.$$destroyBindings = null;
                                    k.$on("$destroyed", t);
                                }
                            } else {
                                k = a;
                            }
                            if (g.transcludeOnThisElement) {
                                q = R(a, g.transclude, f);
                            } else if (!g.templateOnThisElement && f) {
                                q = f;
                            } else if (!f && b) {
                                q = R(a, b);
                            } else {
                                q = null;
                            }
                            g(i, k, j, e, q, g);
                        } else if (i) {
                            i(a, j.childNodes, c, f);
                        }
                    }
                }
            }
            function R(a, b, c) {
                var d = function(d, e, f, g, h) {
                    if (!d) {
                        d = a.$new(false, h);
                        d.$$transcluded = true;
                    }
                    return b(d, e, {
                        parentBoundTranscludeFn: c,
                        transcludeControllers: f,
                        futureParentElement: g
                    });
                };
                return d;
            }
            function S(a, b, c, d, e) {
                var f = a.nodeType, g = c.$attr, h, k;
                switch (f) {
                  case Va:
                    $(b, yc(ha(a)), "E", d, e);
                    for (var m, n, o, p, q, r, s = a.attributes, t = 0, u = s && s.length; t < u; t++) {
                        var v = false;
                        var w = false;
                        m = s[t];
                        n = m.name;
                        q = da(m.value);
                        p = yc(n);
                        if (r = K.test(p)) {
                            n = n.replace(xc, "").substr(8).replace(/_(.)/g, function(a, b) {
                                return b.toUpperCase();
                            });
                        }
                        var x = p.replace(/(Start|End)$/, "");
                        if (_(x)) {
                            if (p === x + "Start") {
                                v = n;
                                w = n.substr(0, n.length - 5) + "end";
                                n = n.substr(0, n.length - 6);
                            }
                        }
                        o = yc(n.toLowerCase());
                        g[o] = n;
                        if (r || !c.hasOwnProperty(o)) {
                            c[o] = q;
                            if (Sb(a, o)) {
                                c[o] = true;
                            }
                        }
                        ka(a, b, q, o, r);
                        $(b, o, "A", d, e, v, w);
                    }
                    k = a.className;
                    if (O(k)) {
                        k = k.animVal;
                    }
                    if (Q(k) && k !== "") {
                        while (h = j.exec(k)) {
                            o = yc(h[2]);
                            if ($(b, o, "C", d, e)) {
                                c[o] = da(h[3]);
                            }
                            k = k.substr(h.index + h[0].length);
                        }
                    }
                    break;

                  case Xa:
                    if (l === 11) {
                        while (a.parentNode && a.nextSibling && a.nextSibling.nodeType === Xa) {
                            a.nodeValue = a.nodeValue + a.nextSibling.nodeValue;
                            a.parentNode.removeChild(a.nextSibling);
                        }
                    }
                    fa(b, a.nodeValue);
                    break;

                  case Ya:
                    try {
                        h = i.exec(a.nodeValue);
                        if (h) {
                            o = yc(h[1]);
                            if ($(b, o, "M", d, e)) {
                                c[o] = da(h[2]);
                            }
                        }
                    } catch (y) {}
                    break;
                }
                b.sort(ca);
                return b;
            }
            function V(a, b, c) {
                var d = [];
                var e = 0;
                if (b && a.hasAttribute && a.hasAttribute(b)) {
                    do {
                        if (!a) {
                            throw vc("uterdir", "Unterminated attribute, found '{0}' but no matching '{1}' found.", b, c);
                        }
                        if (a.nodeType == Va) {
                            if (a.hasAttribute(b)) e++;
                            if (a.hasAttribute(c)) e--;
                        }
                        d.push(a);
                        a = a.nextSibling;
                    } while (e > 0);
                } else {
                    d.push(a);
                }
                return m(d);
            }
            function W(a, b, c) {
                return function(d, e, f, g, h) {
                    e = V(e[0], b, c);
                    return a(d, e, f, g, h);
                };
            }
            function Y(a, d, e, f, g, h, i, j, k) {
                k = k || {};
                var l = -Number.MAX_VALUE, n = k.newScopeDirective, p = k.controllerDirectives, r = k.newIsolateScopeDirective, s = k.templateDirective, t = k.nonTlbTranscludeDirective, v = false, w = false, x = k.hasElementTranscludeDirective, y = e.$$element = m(d), z, A, C, D = h, E = f, F, H;
                for (var I = 0, J = a.length; I < J; I++) {
                    z = a[I];
                    var K = z.$$start;
                    var M = z.$$end;
                    if (K) {
                        y = V(d, K, M);
                    }
                    C = c;
                    if (l > z.priority) {
                        break;
                    }
                    if (H = z.scope) {
                        if (!z.templateUrl) {
                            if (O(H)) {
                                ea("new/isolated scope", r || n, z, y);
                                r = z;
                            } else {
                                ea("new/isolated scope", r, z, y);
                            }
                        }
                        n = n || z;
                    }
                    A = z.name;
                    if (!z.templateUrl && z.controller) {
                        H = z.controller;
                        p = p || Ua();
                        ea("'" + A + "' controller", p[A], z, y);
                        p[A] = z;
                    }
                    if (H = z.transclude) {
                        v = true;
                        if (!z.$$tlb) {
                            ea("transclusion", t, z, y);
                            t = z;
                        }
                        if (H == "element") {
                            x = true;
                            l = z.priority;
                            C = y;
                            y = e.$$element = m(b.createComment(" " + A + ": " + e[A] + " "));
                            d = y[0];
                            la(g, qa(C), d);
                            E = L(C, f, l, D && D.name, {
                                nonTlbTranscludeDirective: t
                            });
                        } else {
                            C = m(zb(d)).contents();
                            y.empty();
                            E = L(C, f);
                        }
                    }
                    if (z.template) {
                        w = true;
                        ea("template", s, z, y);
                        s = z;
                        H = U(z.template) ? z.template(y, e) : z.template;
                        H = G(H);
                        if (z.replace) {
                            D = z;
                            if (tb(H)) {
                                C = [];
                            } else {
                                C = Cc(ga(z.templateNamespace, da(H)));
                            }
                            d = C[0];
                            if (C.length != 1 || d.nodeType !== Va) {
                                throw vc("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", A, "");
                            }
                            la(g, y, d);
                            var N = {
                                $attr: {}
                            };
                            var P = S(d, [], N);
                            var R = a.splice(I + 1, a.length - (I + 1));
                            if (r) {
                                Z(P);
                            }
                            a = a.concat(P).concat(R);
                            aa(e, N);
                            J = a.length;
                        } else {
                            y.html(H);
                        }
                    }
                    if (z.templateUrl) {
                        w = true;
                        ea("template", s, z, y);
                        s = z;
                        if (z.replace) {
                            D = z;
                        }
                        fa = ba(a.splice(I, a.length - I), y, e, g, v && E, i, j, {
                            controllerDirectives: p,
                            newScopeDirective: n !== z && n,
                            newIsolateScopeDirective: r,
                            templateDirective: s,
                            nonTlbTranscludeDirective: t
                        });
                        J = a.length;
                    } else if (z.compile) {
                        try {
                            F = z.compile(y, e, E);
                            if (U(F)) {
                                $(null, F, K, M);
                            } else if (F) {
                                $(F.pre, F.post, K, M);
                            }
                        } catch (Y) {
                            q(Y, ya(y));
                        }
                    }
                    if (z.terminal) {
                        fa.terminal = true;
                        l = Math.max(l, z.priority);
                    }
                }
                fa.scope = n && n.scope === true;
                fa.transcludeOnThisElement = v;
                fa.templateOnThisElement = w;
                fa.transclude = E;
                k.hasElementTranscludeDirective = x;
                return fa;
                function $(a, b, c, d) {
                    if (a) {
                        if (c) a = W(a, c, d);
                        a.require = z.require;
                        a.directiveName = A;
                        if (r === z || z.$$isolateScope) {
                            a = na(a, {
                                isolateScope: true
                            });
                        }
                        i.push(a);
                    }
                    if (b) {
                        if (c) b = W(b, c, d);
                        b.require = z.require;
                        b.directiveName = A;
                        if (r === z || z.$$isolateScope) {
                            b = na(b, {
                                isolateScope: true
                            });
                        }
                        j.push(b);
                    }
                }
                function _(a, b, c, d) {
                    var e;
                    if (Q(b)) {
                        var f = b.match(o);
                        var g = b.substring(f[0].length);
                        var h = f[1] || f[3];
                        var i = f[2] === "?";
                        if (h === "^^") {
                            c = c.parent();
                        } else {
                            e = d && d[g];
                            e = e && e.instance;
                        }
                        if (!e) {
                            var j = "$" + g + "Controller";
                            e = h ? c.inheritedData(j) : c.data(j);
                        }
                        if (!e && !i) {
                            throw vc("ctreq", "Controller '{0}', required by directive '{1}', can't be found!", g, a);
                        }
                    } else if (T(b)) {
                        e = [];
                        for (var k = 0, l = b.length; k < l; k++) {
                            e[k] = _(a, b[k], c, d);
                        }
                    }
                    return e || null;
                }
                function ca(a, b, c, d, e, f) {
                    var g = Ua();
                    for (var h in d) {
                        var i = d[h];
                        var j = {
                            $scope: i === r || i.$$isolateScope ? e : f,
                            $element: a,
                            $attrs: b,
                            $transclude: c
                        };
                        var k = i.controller;
                        if (k == "@") {
                            k = b[i.name];
                        }
                        var l = u(k, j, true, i.controllerAs);
                        g[i.name] = l;
                        if (!x) {
                            a.data("$" + i.name + "Controller", l.instance);
                        }
                    }
                    return g;
                }
                function fa(a, b, f, g, h, k) {
                    var l, o, q, t, u, v, w, y, z;
                    if (d === f) {
                        z = e;
                        y = e.$$element;
                    } else {
                        y = m(f);
                        z = new B(y, e);
                    }
                    if (r) {
                        u = b.$new(true);
                    }
                    if (h) {
                        w = G;
                        w.$$boundTransclude = h;
                    }
                    if (p) {
                        v = ca(y, z, w, p, u, b);
                    }
                    if (r) {
                        L.$$addScopeInfo(y, u, true, !(s && (s === r || s === r.$$originalDirective)));
                        L.$$addScopeClass(y, true);
                        u.$$isolateBindings = r.$$isolateBindings;
                        pa(b, z, u, u.$$isolateBindings, r, u);
                    }
                    if (v) {
                        var A = r || n;
                        var C;
                        var D;
                        if (A && v[A.name]) {
                            C = A.$$bindings.bindToController;
                            t = v[A.name];
                            if (t && t.identifier && C) {
                                D = t;
                                k.$$destroyBindings = pa(b, z, t.instance, C, A);
                            }
                        }
                        for (l in v) {
                            t = v[l];
                            var E = t();
                            if (E !== t.instance) {
                                t.instance = E;
                                y.data("$" + l + "Controller", E);
                                if (t === D) {
                                    k.$$destroyBindings();
                                    k.$$destroyBindings = pa(b, z, E, C, A);
                                }
                            }
                        }
                    }
                    for (l = 0, o = i.length; l < o; l++) {
                        q = i[l];
                        oa(q, q.isolateScope ? u : b, y, z, q.require && _(q.directiveName, q.require, y, v), w);
                    }
                    var F = b;
                    if (r && (r.template || r.templateUrl === null)) {
                        F = u;
                    }
                    a && a(F, f.childNodes, c, h);
                    for (l = j.length - 1; l >= 0; l--) {
                        q = j[l];
                        oa(q, q.isolateScope ? u : b, y, z, q.require && _(q.directiveName, q.require, y, v), w);
                    }
                    function G(a, b, d) {
                        var e;
                        if (!X(a)) {
                            d = b;
                            b = a;
                            a = c;
                        }
                        if (x) {
                            e = v;
                        }
                        if (!d) {
                            d = x ? y.parent() : y;
                        }
                        return h(a, b, e, d, F);
                    }
                }
            }
            function Z(a) {
                for (var b = 0, c = a.length; b < c; b++) {
                    a[b] = H(a[b], {
                        $$isolateScope: true
                    });
                }
            }
            function $(b, c, d, g, h, i, j) {
                if (c === h) return null;
                var k = null;
                if (e.hasOwnProperty(c)) {
                    for (var l, m = a.get(c + f), n = 0, o = m.length; n < o; n++) {
                        try {
                            l = m[n];
                            if ((M(g) || g > l.priority) && l.restrict.indexOf(d) != -1) {
                                if (i) {
                                    l = H(l, {
                                        $$start: i,
                                        $$end: j
                                    });
                                }
                                b.push(l);
                                k = l;
                            }
                        } catch (p) {
                            q(p);
                        }
                    }
                }
                return k;
            }
            function _(b) {
                if (e.hasOwnProperty(b)) {
                    for (var c, d = a.get(b + f), g = 0, h = d.length; g < h; g++) {
                        c = d[g];
                        if (c.multiElement) {
                            return true;
                        }
                    }
                }
                return false;
            }
            function aa(a, b) {
                var c = b.$attr, d = a.$attr, e = a.$$element;
                y(a, function(d, e) {
                    if (e.charAt(0) != "$") {
                        if (b[e] && b[e] !== d) {
                            d += (e === "style" ? ";" : " ") + b[e];
                        }
                        a.$set(e, d, true, c[e]);
                    }
                });
                y(b, function(b, f) {
                    if (f == "class") {
                        C(e, b);
                        a["class"] = (a["class"] ? a["class"] + " " : "") + b;
                    } else if (f == "style") {
                        e.attr("style", e.attr("style") + ";" + b);
                        a["style"] = (a["style"] ? a["style"] + ";" : "") + b;
                    } else if (f.charAt(0) != "$" && !a.hasOwnProperty(f)) {
                        a[f] = b;
                        d[f] = c[f];
                    }
                });
            }
            function ba(a, b, c, d, e, f, g, h) {
                var i = [], j, k, l = b[0], n = a.shift(), o = H(n, {
                    templateUrl: null,
                    transclude: null,
                    replace: null,
                    $$originalDirective: n
                }), p = U(n.templateUrl) ? n.templateUrl(b, c) : n.templateUrl, q = n.templateNamespace;
                b.empty();
                r(p).then(function(r) {
                    var s, t, u, v;
                    r = G(r);
                    if (n.replace) {
                        if (tb(r)) {
                            u = [];
                        } else {
                            u = Cc(ga(q, da(r)));
                        }
                        s = u[0];
                        if (u.length != 1 || s.nodeType !== Va) {
                            throw vc("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", n.name, p);
                        }
                        t = {
                            $attr: {}
                        };
                        la(d, b, s);
                        var w = S(s, [], t);
                        if (O(n.scope)) {
                            Z(w);
                        }
                        a = w.concat(a);
                        aa(c, t);
                    } else {
                        s = l;
                        b.html(r);
                    }
                    a.unshift(o);
                    j = Y(a, s, c, e, b, n, f, g, h);
                    y(d, function(a, c) {
                        if (a == s) {
                            d[c] = b[0];
                        }
                    });
                    k = P(b[0].childNodes, e);
                    while (i.length) {
                        var x = i.shift(), z = i.shift(), A = i.shift(), B = i.shift(), D = b[0];
                        if (x.$$destroyed) continue;
                        if (z !== l) {
                            var E = z.className;
                            if (!(h.hasElementTranscludeDirective && n.replace)) {
                                D = zb(s);
                            }
                            la(A, m(z), D);
                            C(m(D), E);
                        }
                        if (j.transcludeOnThisElement) {
                            v = R(x, j.transclude, B);
                        } else {
                            v = B;
                        }
                        j(k, x, D, d, v, j);
                    }
                    i = null;
                });
                return function s(a, b, c, d, e) {
                    var f = e;
                    if (b.$$destroyed) return;
                    if (i) {
                        i.push(b, c, d, f);
                    } else {
                        if (j.transcludeOnThisElement) {
                            f = R(b, j.transclude, e);
                        }
                        j(k, b, c, d, f, j);
                    }
                };
            }
            function ca(a, b) {
                var c = b.priority - a.priority;
                if (c !== 0) return c;
                if (a.name !== b.name) return a.name < b.name ? -1 : 1;
                return a.index - b.index;
            }
            function ea(a, b, c, d) {
                function e(a) {
                    return a ? " (module: " + a + ")" : "";
                }
                if (b) {
                    throw vc("multidir", "Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}", b.name, e(b.$$moduleName), c.name, e(c.$$moduleName), a, ya(d));
                }
            }
            function fa(a, b) {
                var c = d(b, true);
                if (c) {
                    a.push({
                        priority: 0,
                        compile: function e(a) {
                            var b = a.parent(), d = !!b.length;
                            if (d) L.$$addBindingClass(b);
                            return function e(a, b) {
                                var e = b.parent();
                                if (!d) L.$$addBindingClass(e);
                                L.$$addBindingInfo(e, c.expressions);
                                a.$watch(c, function f(a) {
                                    b[0].nodeValue = a;
                                });
                            };
                        }
                    });
                }
            }
            function ga(a, c) {
                a = g(a || "html");
                switch (a) {
                  case "svg":
                  case "math":
                    var d = b.createElement("div");
                    d.innerHTML = "<" + a + ">" + c + "</" + a + ">";
                    return d.childNodes[0].childNodes;

                  default:
                    return c;
                }
            }
            function ia(a, b) {
                if (b == "srcdoc") {
                    return x.HTML;
                }
                var c = ha(a);
                if (b == "xlinkHref" || c == "form" && b == "action" || c != "img" && (b == "src" || b == "ngSrc")) {
                    return x.RESOURCE_URL;
                }
            }
            function ka(a, b, c, e, f) {
                var g = ia(a, e);
                f = k[e] || f;
                var h = d(c, true, g, f);
                if (!h) return;
                if (e === "multiple" && ha(a) === "select") {
                    throw vc("selmulti", "Binding to the 'multiple' attribute is not supported. Element: {0}", ya(a));
                }
                b.push({
                    priority: 100,
                    compile: function() {
                        return {
                            pre: function a(b, i, j) {
                                var k = j.$$observers || (j.$$observers = Ua());
                                if (p.test(e)) {
                                    throw vc("nodomevents", "Interpolations for HTML DOM event attributes are disallowed.  Please use the " + "ng- versions (such as ng-click instead of onclick) instead.");
                                }
                                var l = j[e];
                                if (l !== c) {
                                    h = l && d(l, true, g, f);
                                    c = l;
                                }
                                if (!h) return;
                                j[e] = h(b);
                                (k[e] || (k[e] = [])).$$inter = true;
                                (j.$$observers && j.$$observers[e].$$scope || b).$watch(h, function m(a, b) {
                                    if (e === "class" && a != b) {
                                        j.$updateClass(a, b);
                                    } else {
                                        j.$set(e, a);
                                    }
                                });
                            }
                        };
                    }
                });
            }
            function la(a, c, d) {
                var e = c[0], f = c.length, g = e.parentNode, h, i;
                if (a) {
                    for (h = 0, i = a.length; h < i; h++) {
                        if (a[h] == e) {
                            a[h++] = d;
                            for (var j = h, k = j + f - 1, l = a.length; j < l; j++, k++) {
                                if (k < l) {
                                    a[j] = a[k];
                                } else {
                                    delete a[j];
                                }
                            }
                            a.length -= f - 1;
                            if (a.context === e) {
                                a.context = d;
                            }
                            break;
                        }
                    }
                }
                if (g) {
                    g.replaceChild(d, e);
                }
                var o = b.createDocumentFragment();
                o.appendChild(e);
                if (m.hasData(e)) {
                    m(d).data(m(e).data());
                    if (!n) {
                        delete m.cache[e[m.expando]];
                    } else {
                        Na = true;
                        n.cleanData([ e ]);
                    }
                }
                for (var p = 1, q = c.length; p < q; p++) {
                    var r = c[p];
                    m(r).remove();
                    o.appendChild(r);
                    delete c[p];
                }
                c[0] = d;
                c.length = 1;
            }
            function na(a, b) {
                return E(function() {
                    return a.apply(null, arguments);
                }, a, b);
            }
            function oa(a, b, c, d, e, f) {
                try {
                    a(b, c, d, e, f);
                } catch (g) {
                    q(g, ya(c));
                }
            }
            function pa(a, b, c, e, f, g) {
                var i;
                y(e, function(e, g) {
                    var j = e.attrName, k = e.optional, l = e.mode, m, n, o, p;
                    switch (l) {
                      case "@":
                        if (!k && !h.call(b, j)) {
                            c[g] = b[j] = void 0;
                        }
                        b.$observe(j, function(a) {
                            if (Q(a)) {
                                c[g] = a;
                            }
                        });
                        b.$$observers[j].$$scope = a;
                        if (Q(b[j])) {
                            c[g] = d(b[j])(a);
                        }
                        break;

                      case "=":
                        if (!h.call(b, j)) {
                            if (k) break;
                            b[j] = void 0;
                        }
                        if (k && !b[j]) break;
                        n = s(b[j]);
                        if (n.literal) {
                            p = ma;
                        } else {
                            p = function(a, b) {
                                return a === b || a !== a && b !== b;
                            };
                        }
                        o = n.assign || function() {
                            m = c[g] = n(a);
                            throw vc("nonassign", "Expression '{0}' used with directive '{1}' is non-assignable!", b[j], f.name);
                        };
                        m = c[g] = n(a);
                        var q = function t(b) {
                            if (!p(b, c[g])) {
                                if (!p(b, m)) {
                                    c[g] = b;
                                } else {
                                    o(a, b = c[g]);
                                }
                            }
                            return m = b;
                        };
                        q.$stateful = true;
                        var r;
                        if (e.collection) {
                            r = a.$watchCollection(b[j], q);
                        } else {
                            r = a.$watch(s(b[j], q), null, n.literal);
                        }
                        i = i || [];
                        i.push(r);
                        break;

                      case "&":
                        n = b.hasOwnProperty(j) ? s(b[j]) : I;
                        if (n === I && k) break;
                        c[g] = function(b) {
                            return n(a, b);
                        };
                        break;
                    }
                });
                var j = i ? function k() {
                    for (var a = 0, b = i.length; a < b; ++a) {
                        i[a]();
                    }
                } : I;
                if (g && j !== I) {
                    g.$on("$destroy", j);
                    return I;
                }
                return j;
            }
        } ];
    }
    var xc = /^((?:x|data)[\:\-_])/i;
    function yc(a) {
        return nb(a.replace(xc, ""));
    }
    function zc(a, b, c, d) {}
    function Ac(a, b, c, d, e) {}
    function Bc(a, b) {
        var c = "", d = a.split(/\s+/), e = b.split(/\s+/);
        a: for (var f = 0; f < d.length; f++) {
            var g = d[f];
            for (var h = 0; h < e.length; h++) {
                if (g == e[h]) continue a;
            }
            c += (c.length > 0 ? " " : "") + g;
        }
        return c;
    }
    function Cc(a) {
        a = m(a);
        var b = a.length;
        if (b <= 1) {
            return a;
        }
        while (b--) {
            var c = a[b];
            if (c.nodeType === Ya) {
                p.call(a, b, 1);
            }
        }
        return a;
    }
    var Dc = d("$controller");
    var Ec = /^(\S+)(\s+as\s+(\w+))?$/;
    function Fc(a, b) {
        if (b && Q(b)) return b;
        if (Q(a)) {
            var c = Ec.exec(a);
            if (c) return c[3];
        }
    }
    function Gc() {
        var a = {}, b = false;
        this.register = function(b, c) {
            Ra(b, "controller");
            if (O(b)) {
                E(a, b);
            } else {
                a[b] = c;
            }
        };
        this.allowGlobals = function() {
            b = true;
        };
        this.$get = [ "$injector", "$window", function(e, f) {
            return function(d, h, i, j) {
                var k, l, m, n;
                i = i === true;
                if (j && Q(j)) {
                    n = j;
                }
                if (Q(d)) {
                    l = d.match(Ec);
                    if (!l) {
                        throw Dc("ctrlfmt", "Badly formed controller string '{0}'. " + "Must match `__name__ as __id__` or `__name__`.", d);
                    }
                    m = l[1], n = n || l[3];
                    d = a.hasOwnProperty(m) ? a[m] : Sa(h.$scope, m, true) || (b ? Sa(f, m, true) : c);
                    Qa(d, m, true);
                }
                if (i) {
                    var o = (T(d) ? d[d.length - 1] : d).prototype;
                    k = Object.create(o || null);
                    if (n) {
                        g(h, n, k, m || d.name);
                    }
                    var p;
                    return p = E(function() {
                        var a = e.invoke(d, k, h, m);
                        if (a !== k && (O(a) || U(a))) {
                            k = a;
                            if (n) {
                                g(h, n, k, m || d.name);
                            }
                        }
                        return k;
                    }, {
                        instance: k,
                        identifier: n
                    });
                }
                k = e.instantiate(d, h, m);
                if (n) {
                    g(h, n, k, m || d.name);
                }
                return k;
            };
            function g(a, b, c, e) {
                if (!(a && O(a.$scope))) {
                    throw d("$controller")("noscp", "Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.", e, b);
                }
                a.$scope[b] = c;
            }
        } ];
    }
    function Hc() {
        this.$get = [ "$window", function(a) {
            return m(a.document);
        } ];
    }
    function Ic() {
        this.$get = [ "$log", function(a) {
            return function(b, c) {
                a.error.apply(a, arguments);
            };
        } ];
    }
    var Jc = function() {
        this.$get = [ "$document", function(a) {
            return function(b) {
                if (b) {
                    if (!b.nodeType && b instanceof m) {
                        b = b[0];
                    }
                } else {
                    b = a[0].body;
                }
                return b.offsetWidth + 1;
            };
        } ];
    };
    var Kc = "application/json";
    var Lc = {
        "Content-Type": Kc + ";charset=utf-8"
    };
    var Mc = /^\[|^\{(?!\{)/;
    var Nc = {
        "[": /]$/,
        "{": /}$/
    };
    var Oc = /^\)\]\}',?\n/;
    var Pc = d("$http");
    var Qc = function(a) {
        return function() {
            throw Pc("legacy", "The method `{0}` on the promise returned from `$http` has been disabled.", a);
        };
    };
    function Rc(a) {
        if (O(a)) {
            return S(a) ? a.toISOString() : ta(a);
        }
        return a;
    }
    function Sc() {
        this.$get = function() {
            return function a(b) {
                if (!b) return "";
                var c = [];
                z(b, function(a, b) {
                    if (a === null || M(a)) return;
                    if (T(a)) {
                        y(a, function(a, d) {
                            c.push(Da(b) + "=" + Da(Rc(a)));
                        });
                    } else {
                        c.push(Da(b) + "=" + Da(Rc(a)));
                    }
                });
                return c.join("&");
            };
        };
    }
    function Tc() {
        this.$get = function() {
            return function a(b) {
                if (!b) return "";
                var c = [];
                d(b, "", true);
                return c.join("&");
                function d(a, b, e) {
                    if (a === null || M(a)) return;
                    if (T(a)) {
                        y(a, function(a, c) {
                            d(a, b + "[" + (O(a) ? c : "") + "]");
                        });
                    } else if (O(a) && !S(a)) {
                        z(a, function(a, c) {
                            d(a, b + (e ? "" : "[") + c + (e ? "" : "]"));
                        });
                    } else {
                        c.push(Da(b) + "=" + Da(Rc(a)));
                    }
                }
            };
        };
    }
    function Uc(a, b) {
        if (Q(a)) {
            var c = a.replace(Oc, "").trim();
            if (c) {
                var d = b("Content-Type");
                if (d && d.indexOf(Kc) === 0 || Vc(c)) {
                    a = ua(c);
                }
            }
        }
        return a;
    }
    function Vc(a) {
        var b = a.match(Mc);
        return b && Nc[b[0]].test(a);
    }
    function Wc(a) {
        var b = Ua(), c;
        function d(a, c) {
            if (a) {
                b[a] = b[a] ? b[a] + ", " + c : c;
            }
        }
        if (Q(a)) {
            y(a.split("\n"), function(a) {
                c = a.indexOf(":");
                d(g(da(a.substr(0, c))), da(a.substr(c + 1)));
            });
        } else if (O(a)) {
            y(a, function(a, b) {
                d(g(b), da(a));
            });
        }
        return b;
    }
    function Xc(a) {
        var b;
        return function(c) {
            if (!b) b = Wc(a);
            if (c) {
                var d = b[g(c)];
                if (d === void 0) {
                    d = null;
                }
                return d;
            }
            return b;
        };
    }
    function Yc(a, b, c, d) {
        if (U(d)) {
            return d(a, b, c);
        }
        y(d, function(d) {
            a = d(a, b, c);
        });
        return a;
    }
    function Zc(a) {
        return 200 <= a && a < 300;
    }
    function $c() {
        var a = this.defaults = {
            transformResponse: [ Uc ],
            transformRequest: [ function(a) {
                return O(a) && !Y(a) && !$(a) && !Z(a) ? ta(a) : a;
            } ],
            headers: {
                common: {
                    Accept: "application/json, text/plain, */*"
                },
                post: la(Lc),
                put: la(Lc),
                patch: la(Lc)
            },
            xsrfCookieName: "XSRF-TOKEN",
            xsrfHeaderName: "X-XSRF-TOKEN",
            paramSerializer: "$httpParamSerializer"
        };
        var b = false;
        this.useApplyAsync = function(a) {
            if (N(a)) {
                b = !!a;
                return this;
            }
            return b;
        };
        var e = true;
        this.useLegacyPromiseExtensions = function(a) {
            if (N(a)) {
                e = !!a;
                return this;
            }
            return e;
        };
        var f = this.interceptors = [];
        this.$get = [ "$httpBackend", "$$cookieReader", "$cacheFactory", "$rootScope", "$q", "$injector", function(h, j, k, l, m, n) {
            var o = k("$http");
            a.paramSerializer = Q(a.paramSerializer) ? n.get(a.paramSerializer) : a.paramSerializer;
            var p = [];
            y(f, function(a) {
                p.unshift(Q(a) ? n.get(a) : n.invoke(a));
            });
            function q(b) {
                if (!u.isObject(b)) {
                    throw d("$http")("badreq", "Http request configuration must be an object.  Received: {0}", b);
                }
                var f = E({
                    method: "get",
                    transformRequest: a.transformRequest,
                    transformResponse: a.transformResponse,
                    paramSerializer: a.paramSerializer
                }, b);
                f.headers = s(b);
                f.method = i(f.method);
                f.paramSerializer = Q(f.paramSerializer) ? n.get(f.paramSerializer) : f.paramSerializer;
                var h = function(b) {
                    var d = b.headers;
                    var e = Yc(b.data, Xc(d), c, b.transformRequest);
                    if (M(e)) {
                        y(d, function(a, b) {
                            if (g(b) === "content-type") {
                                delete d[b];
                            }
                        });
                    }
                    if (M(b.withCredentials) && !M(a.withCredentials)) {
                        b.withCredentials = a.withCredentials;
                    }
                    return t(b, e).then(q, q);
                };
                var j = [ h, c ];
                var k = m.when(f);
                y(p, function(a) {
                    if (a.request || a.requestError) {
                        j.unshift(a.request, a.requestError);
                    }
                    if (a.response || a.responseError) {
                        j.push(a.response, a.responseError);
                    }
                });
                while (j.length) {
                    var l = j.shift();
                    var o = j.shift();
                    k = k.then(l, o);
                }
                if (e) {
                    k.success = function(a) {
                        Qa(a, "fn");
                        k.then(function(b) {
                            a(b.data, b.status, b.headers, f);
                        });
                        return k;
                    };
                    k.error = function(a) {
                        Qa(a, "fn");
                        k.then(null, function(b) {
                            a(b.data, b.status, b.headers, f);
                        });
                        return k;
                    };
                } else {
                    k.success = Qc("success");
                    k.error = Qc("error");
                }
                return k;
                function q(a) {
                    var b = E({}, a);
                    if (!a.data) {
                        b.data = a.data;
                    } else {
                        b.data = Yc(a.data, a.headers, a.status, f.transformResponse);
                    }
                    return Zc(a.status) ? b : m.reject(b);
                }
                function r(a, b) {
                    var c, d = {};
                    y(a, function(a, e) {
                        if (U(a)) {
                            c = a(b);
                            if (c != null) {
                                d[e] = c;
                            }
                        } else {
                            d[e] = a;
                        }
                    });
                    return d;
                }
                function s(b) {
                    var c = a.headers, d = E({}, b.headers), e, f, h;
                    c = E({}, c.common, c[g(b.method)]);
                    a: for (e in c) {
                        f = g(e);
                        for (h in d) {
                            if (g(h) === f) {
                                continue a;
                            }
                        }
                        d[e] = c[e];
                    }
                    return r(d, la(b));
                }
            }
            q.pendingRequests = [];
            r("get", "delete", "head", "jsonp");
            s("post", "put", "patch");
            q.defaults = a;
            return q;
            function r(a) {
                y(arguments, function(a) {
                    q[a] = function(b, c) {
                        return q(E({}, c || {}, {
                            method: a,
                            url: b
                        }));
                    };
                });
            }
            function s(a) {
                y(arguments, function(a) {
                    q[a] = function(b, c, d) {
                        return q(E({}, d || {}, {
                            method: a,
                            url: b,
                            data: c
                        }));
                    };
                });
            }
            function t(d, e) {
                var f = m.defer(), g = f.promise, i, k, n = d.headers, p = v(d.url, d.paramSerializer(d.params));
                q.pendingRequests.push(d);
                g.then(w, w);
                if ((d.cache || a.cache) && d.cache !== false && (d.method === "GET" || d.method === "JSONP")) {
                    i = O(d.cache) ? d.cache : O(a.cache) ? a.cache : o;
                }
                if (i) {
                    k = i.get(p);
                    if (N(k)) {
                        if (aa(k)) {
                            k.then(u, u);
                        } else {
                            if (T(k)) {
                                t(k[1], k[0], la(k[2]), k[3]);
                            } else {
                                t(k, 200, {}, "OK");
                            }
                        }
                    } else {
                        i.put(p, g);
                    }
                }
                if (M(k)) {
                    var r = ue(d.url) ? j()[d.xsrfCookieName || a.xsrfCookieName] : c;
                    if (r) {
                        n[d.xsrfHeaderName || a.xsrfHeaderName] = r;
                    }
                    h(d.method, p, e, s, n, d.timeout, d.withCredentials, d.responseType);
                }
                return g;
                function s(a, c, d, e) {
                    if (i) {
                        if (Zc(a)) {
                            i.put(p, [ a, c, Wc(d), e ]);
                        } else {
                            i.remove(p);
                        }
                    }
                    function f() {
                        t(c, a, d, e);
                    }
                    if (b) {
                        l.$applyAsync(f);
                    } else {
                        f();
                        if (!l.$$phase) l.$apply();
                    }
                }
                function t(a, b, c, e) {
                    b = b >= -1 ? b : 0;
                    (Zc(b) ? f.resolve : f.reject)({
                        data: a,
                        status: b,
                        headers: Xc(c),
                        config: d,
                        statusText: e
                    });
                }
                function u(a) {
                    t(a.data, a.status, la(a.headers()), a.statusText);
                }
                function w() {
                    var a = q.pendingRequests.indexOf(d);
                    if (a !== -1) q.pendingRequests.splice(a, 1);
                }
            }
            function v(a, b) {
                if (b.length > 0) {
                    a += (a.indexOf("?") == -1 ? "?" : "&") + b;
                }
                return a;
            }
        } ];
    }
    function _c() {
        this.$get = function() {
            return function b() {
                return new a.XMLHttpRequest();
            };
        };
    }
    function ad() {
        this.$get = [ "$browser", "$window", "$document", "$xhrFactory", function(a, b, c, d) {
            return bd(a, d, a.defer, b.angular.callbacks, c[0]);
        } ];
    }
    function bd(a, b, c, d, e) {
        return function(e, h, i, j, k, l, m, n) {
            a.$$incOutstandingRequestCount();
            h = h || a.url();
            if (g(e) == "jsonp") {
                var o = "_" + (d.counter++).toString(36);
                d[o] = function(a) {
                    d[o].data = a;
                    d[o].called = true;
                };
                var p = f(h.replace("JSON_CALLBACK", "angular.callbacks." + o), o, function(a, b) {
                    v(j, a, d[o].data, "", b);
                    d[o] = I;
                });
            } else {
                var q = b(e, h);
                q.open(e, h, true);
                y(k, function(a, b) {
                    if (N(a)) {
                        q.setRequestHeader(b, a);
                    }
                });
                q.onload = function w() {
                    var a = q.statusText || "";
                    var b = "response" in q ? q.response : q.responseText;
                    var c = q.status === 1223 ? 204 : q.status;
                    if (c === 0) {
                        c = b ? 200 : te(h).protocol == "file" ? 404 : 0;
                    }
                    v(j, c, b, q.getAllResponseHeaders(), a);
                };
                var r = function() {
                    v(j, -1, null, null, "");
                };
                q.onerror = r;
                q.onabort = r;
                if (m) {
                    q.withCredentials = true;
                }
                if (n) {
                    try {
                        q.responseType = n;
                    } catch (s) {
                        if (n !== "json") {
                            throw s;
                        }
                    }
                }
                q.send(M(i) ? null : i);
            }
            if (l > 0) {
                var t = c(u, l);
            } else if (aa(l)) {
                l.then(u);
            }
            function u() {
                p && p();
                q && q.abort();
            }
            function v(b, d, e, f, g) {
                if (N(t)) {
                    c.cancel(t);
                }
                p = q = null;
                b(d, e, f, g);
                a.$$completeOutstandingRequest(I);
            }
        };
        function f(a, b, c) {
            var f = e.createElement("script"), g = null;
            f.type = "text/javascript";
            f.src = a;
            f.async = true;
            g = function(a) {
                hb(f, "load", g);
                hb(f, "error", g);
                e.body.removeChild(f);
                f = null;
                var h = -1;
                var i = "unknown";
                if (a) {
                    if (a.type === "load" && !d[b].called) {
                        a = {
                            type: "error"
                        };
                    }
                    i = a.type;
                    h = a.type === "error" ? 404 : 200;
                }
                if (c) {
                    c(h, i);
                }
            };
            gb(f, "load", g);
            gb(f, "error", g);
            e.body.appendChild(f);
            return g;
        }
    }
    var cd = u.$interpolateMinErr = d("$interpolate");
    cd.throwNoconcat = function(a) {
        throw cd("noconcat", "Error while interpolating: {0}\nStrict Contextual Escaping disallows " + "interpolations that concatenate multiple expressions when a trusted value is " + "required.  See http://docs.angularjs.org/api/ng.$sce", a);
    };
    cd.interr = function(a, b) {
        return cd("interr", "Can't interpolate: {0}\n{1}", a, b.toString());
    };
    function dd() {
        var a = "{{";
        var b = "}}";
        this.startSymbol = function(b) {
            if (b) {
                a = b;
                return this;
            } else {
                return a;
            }
        };
        this.endSymbol = function(a) {
            if (a) {
                b = a;
                return this;
            } else {
                return b;
            }
        };
        this.$get = [ "$parse", "$exceptionHandler", "$sce", function(c, d, e) {
            var f = a.length, g = b.length, h = new RegExp(a.replace(/./g, j), "g"), i = new RegExp(b.replace(/./g, j), "g");
            function j(a) {
                return "\\\\\\" + a;
            }
            function k(c) {
                return c.replace(h, a).replace(i, b);
            }
            function l(a) {
                if (a == null) {
                    return "";
                }
                switch (typeof a) {
                  case "string":
                    break;

                  case "number":
                    a = "" + a;
                    break;

                  default:
                    a = ta(a);
                }
                return a;
            }
            function m(h, i, j, m) {
                m = !!m;
                var n, o, p = 0, q = [], r = [], s = h.length, t, u = [], v = [];
                while (p < s) {
                    if ((n = h.indexOf(a, p)) != -1 && (o = h.indexOf(b, n + f)) != -1) {
                        if (p !== n) {
                            u.push(k(h.substring(p, n)));
                        }
                        t = h.substring(n + f, o);
                        q.push(t);
                        r.push(c(t, y));
                        p = o + g;
                        v.push(u.length);
                        u.push("");
                    } else {
                        if (p !== s) {
                            u.push(k(h.substring(p)));
                        }
                        break;
                    }
                }
                if (j && u.length > 1) {
                    cd.throwNoconcat(h);
                }
                if (!i || q.length) {
                    var w = function(a) {
                        for (var b = 0, c = q.length; b < c; b++) {
                            if (m && M(a[b])) return;
                            u[v[b]] = a[b];
                        }
                        return u.join("");
                    };
                    var x = function(a) {
                        return j ? e.getTrusted(j, a) : e.valueOf(a);
                    };
                    return E(function z(a) {
                        var b = 0;
                        var c = q.length;
                        var e = new Array(c);
                        try {
                            for (;b < c; b++) {
                                e[b] = r[b](a);
                            }
                            return w(e);
                        } catch (f) {
                            d(cd.interr(h, f));
                        }
                    }, {
                        exp: h,
                        expressions: q,
                        $$watchDelegate: function(a, b) {
                            var c;
                            return a.$watchGroup(r, function d(e, f) {
                                var g = w(e);
                                if (U(b)) {
                                    b.call(this, g, e !== f ? c : g, a);
                                }
                                c = g;
                            });
                        }
                    });
                }
                function y(a) {
                    try {
                        a = x(a);
                        return m && !N(a) ? a : l(a);
                    } catch (b) {
                        d(cd.interr(h, b));
                    }
                }
            }
            m.startSymbol = function() {
                return a;
            };
            m.endSymbol = function() {
                return b;
            };
            return m;
        } ];
    }
    function ed() {
        this.$get = [ "$rootScope", "$window", "$q", "$$q", function(a, b, c, d) {
            var e = {};
            function f(f, g, h, i) {
                var j = arguments.length > 4, k = j ? qa(arguments, 4) : [], l = b.setInterval, m = b.clearInterval, n = 0, o = N(i) && !i, p = (o ? d : c).defer(), q = p.promise;
                h = N(h) ? h : 0;
                q.then(null, null, !j ? f : function() {
                    f.apply(null, k);
                });
                q.$$intervalId = l(function r() {
                    p.notify(n++);
                    if (h > 0 && n >= h) {
                        p.resolve(n);
                        m(q.$$intervalId);
                        delete e[q.$$intervalId];
                    }
                    if (!o) a.$apply();
                }, g);
                e[q.$$intervalId] = p;
                return q;
            }
            f.cancel = function(a) {
                if (a && a.$$intervalId in e) {
                    e[a.$$intervalId].reject("canceled");
                    b.clearInterval(a.$$intervalId);
                    delete e[a.$$intervalId];
                    return true;
                }
                return false;
            };
            return f;
        } ];
    }
    var fd = /^([^\?#]*)(\?([^#]*))?(#(.*))?$/, gd = {
        http: 80,
        https: 443,
        ftp: 21
    };
    var hd = d("$location");
    function id(a) {
        var b = a.split("/"), c = b.length;
        while (c--) {
            b[c] = Ca(b[c]);
        }
        return b.join("/");
    }
    function jd(a, b) {
        var c = te(a);
        b.$$protocol = c.protocol;
        b.$$host = c.hostname;
        b.$$port = G(c.port) || gd[c.protocol] || null;
    }
    function kd(a, b) {
        var c = a.charAt(0) !== "/";
        if (c) {
            a = "/" + a;
        }
        var d = te(a);
        b.$$path = decodeURIComponent(c && d.pathname.charAt(0) === "/" ? d.pathname.substring(1) : d.pathname);
        b.$$search = Aa(d.search);
        b.$$hash = decodeURIComponent(d.hash);
        if (b.$$path && b.$$path.charAt(0) != "/") {
            b.$$path = "/" + b.$$path;
        }
    }
    function ld(a, b) {
        if (b.indexOf(a) === 0) {
            return b.substr(a.length);
        }
    }
    function md(a) {
        var b = a.indexOf("#");
        return b == -1 ? a : a.substr(0, b);
    }
    function nd(a) {
        return a.replace(/(#.+)|#$/, "$1");
    }
    function od(a) {
        return a.substr(0, md(a).lastIndexOf("/") + 1);
    }
    function pd(a) {
        return a.substring(0, a.indexOf("/", a.indexOf("//") + 2));
    }
    function qd(a, b, c) {
        this.$$html5 = true;
        c = c || "";
        jd(a, this);
        this.$$parse = function(a) {
            var c = ld(b, a);
            if (!Q(c)) {
                throw hd("ipthprfx", 'Invalid url "{0}", missing path prefix "{1}".', a, b);
            }
            kd(c, this);
            if (!this.$$path) {
                this.$$path = "/";
            }
            this.$$compose();
        };
        this.$$compose = function() {
            var a = Ba(this.$$search), c = this.$$hash ? "#" + Ca(this.$$hash) : "";
            this.$$url = id(this.$$path) + (a ? "?" + a : "") + c;
            this.$$absUrl = b + this.$$url.substr(1);
        };
        this.$$parseLinkUrl = function(d, e) {
            if (e && e[0] === "#") {
                this.hash(e.slice(1));
                return true;
            }
            var f, g;
            var h;
            if (N(f = ld(a, d))) {
                g = f;
                if (N(f = ld(c, f))) {
                    h = b + (ld("/", f) || f);
                } else {
                    h = a + g;
                }
            } else if (N(f = ld(b, d))) {
                h = b + f;
            } else if (b == d + "/") {
                h = b;
            }
            if (h) {
                this.$$parse(h);
            }
            return !!h;
        };
    }
    function rd(a, b, c) {
        jd(a, this);
        this.$$parse = function(d) {
            var e = ld(a, d) || ld(b, d);
            var f;
            if (!M(e) && e.charAt(0) === "#") {
                f = ld(c, e);
                if (M(f)) {
                    f = e;
                }
            } else {
                if (this.$$html5) {
                    f = e;
                } else {
                    f = "";
                    if (M(e)) {
                        a = d;
                        this.replace();
                    }
                }
            }
            kd(f, this);
            this.$$path = g(this.$$path, f, a);
            this.$$compose();
            function g(a, b, c) {
                var d = /^\/[A-Z]:(\/.*)/;
                var e;
                if (b.indexOf(c) === 0) {
                    b = b.replace(c, "");
                }
                if (d.exec(b)) {
                    return a;
                }
                e = d.exec(a);
                return e ? e[1] : a;
            }
        };
        this.$$compose = function() {
            var b = Ba(this.$$search), d = this.$$hash ? "#" + Ca(this.$$hash) : "";
            this.$$url = id(this.$$path) + (b ? "?" + b : "") + d;
            this.$$absUrl = a + (this.$$url ? c + this.$$url : "");
        };
        this.$$parseLinkUrl = function(b, c) {
            if (md(a) == md(b)) {
                this.$$parse(b);
                return true;
            }
            return false;
        };
    }
    function sd(a, b, c) {
        this.$$html5 = true;
        rd.apply(this, arguments);
        this.$$parseLinkUrl = function(d, e) {
            if (e && e[0] === "#") {
                this.hash(e.slice(1));
                return true;
            }
            var f;
            var g;
            if (a == md(d)) {
                f = d;
            } else if (g = ld(b, d)) {
                f = a + c + g;
            } else if (b === d + "/") {
                f = b;
            }
            if (f) {
                this.$$parse(f);
            }
            return !!f;
        };
        this.$$compose = function() {
            var b = Ba(this.$$search), d = this.$$hash ? "#" + Ca(this.$$hash) : "";
            this.$$url = id(this.$$path) + (b ? "?" + b : "") + d;
            this.$$absUrl = a + c + this.$$url;
        };
    }
    var td = {
        $$html5: false,
        $$replace: false,
        absUrl: ud("$$absUrl"),
        url: function(a) {
            if (M(a)) {
                return this.$$url;
            }
            var b = fd.exec(a);
            if (b[1] || a === "") this.path(decodeURIComponent(b[1]));
            if (b[2] || b[1] || a === "") this.search(b[3] || "");
            this.hash(b[5] || "");
            return this;
        },
        protocol: ud("$$protocol"),
        host: ud("$$host"),
        port: ud("$$port"),
        path: vd("$$path", function(a) {
            a = a !== null ? a.toString() : "";
            return a.charAt(0) == "/" ? a : "/" + a;
        }),
        search: function(a, b) {
            switch (arguments.length) {
              case 0:
                return this.$$search;

              case 1:
                if (Q(a) || R(a)) {
                    a = a.toString();
                    this.$$search = Aa(a);
                } else if (O(a)) {
                    a = ka(a, {});
                    y(a, function(b, c) {
                        if (b == null) delete a[c];
                    });
                    this.$$search = a;
                } else {
                    throw hd("isrcharg", "The first argument of the `$location#search()` call must be a string or an object.");
                }
                break;

              default:
                if (M(b) || b === null) {
                    delete this.$$search[a];
                } else {
                    this.$$search[a] = b;
                }
            }
            this.$$compose();
            return this;
        },
        hash: vd("$$hash", function(a) {
            return a !== null ? a.toString() : "";
        }),
        replace: function() {
            this.$$replace = true;
            return this;
        }
    };
    y([ sd, rd, qd ], function(a) {
        a.prototype = Object.create(td);
        a.prototype.state = function(b) {
            if (!arguments.length) {
                return this.$$state;
            }
            if (a !== qd || !this.$$html5) {
                throw hd("nostate", "History API state support is available only " + "in HTML5 mode and only in browsers supporting HTML5 History API");
            }
            this.$$state = M(b) ? null : b;
            return this;
        };
    });
    function ud(a) {
        return function() {
            return this[a];
        };
    }
    function vd(a, b) {
        return function(c) {
            if (M(c)) {
                return this[a];
            }
            this[a] = b(c);
            this.$$compose();
            return this;
        };
    }
    function wd() {
        var a = "", b = {
            enabled: false,
            requireBase: true,
            rewriteLinks: true
        };
        this.hashPrefix = function(b) {
            if (N(b)) {
                a = b;
                return this;
            } else {
                return a;
            }
        };
        this.html5Mode = function(a) {
            if (_(a)) {
                b.enabled = a;
                return this;
            } else if (O(a)) {
                if (_(a.enabled)) {
                    b.enabled = a.enabled;
                }
                if (_(a.requireBase)) {
                    b.requireBase = a.requireBase;
                }
                if (_(a.rewriteLinks)) {
                    b.rewriteLinks = a.rewriteLinks;
                }
                return this;
            } else {
                return b;
            }
        };
        this.$get = [ "$rootScope", "$browser", "$sniffer", "$rootElement", "$window", function(c, d, e, f, g) {
            var h, i, j = d.baseHref(), k = d.url(), l;
            if (b.enabled) {
                if (!j && b.requireBase) {
                    throw hd("nobase", "$location in HTML5 mode requires a <base> tag to be present!");
                }
                l = pd(k) + (j || "/");
                i = e.history ? qd : sd;
            } else {
                l = md(k);
                i = rd;
            }
            var n = od(l);
            h = new i(l, n, "#" + a);
            h.$$parseLinkUrl(k, k);
            h.$$state = d.state();
            var o = /^\s*(javascript|mailto):/i;
            function p(a, b, c) {
                var e = h.url();
                var f = h.$$state;
                try {
                    d.url(a, b, c);
                    h.$$state = d.state();
                } catch (g) {
                    h.url(e);
                    h.$$state = f;
                    throw g;
                }
            }
            f.on("click", function(a) {
                if (!b.rewriteLinks || a.ctrlKey || a.metaKey || a.shiftKey || a.which == 2 || a.button == 2) return;
                var e = m(a.target);
                while (ha(e[0]) !== "a") {
                    if (e[0] === f[0] || !(e = e.parent())[0]) return;
                }
                var i = e.prop("href");
                var j = e.attr("href") || e.attr("xlink:href");
                if (O(i) && i.toString() === "[object SVGAnimatedString]") {
                    i = te(i.animVal).href;
                }
                if (o.test(i)) return;
                if (i && !e.attr("target") && !a.isDefaultPrevented()) {
                    if (h.$$parseLinkUrl(i, j)) {
                        a.preventDefault();
                        if (h.absUrl() != d.url()) {
                            c.$apply();
                            g.angular["ff-684208-preventDefault"] = true;
                        }
                    }
                }
            });
            if (nd(h.absUrl()) != nd(k)) {
                d.url(h.absUrl(), true);
            }
            var q = true;
            d.onUrlChange(function(a, b) {
                if (M(ld(n, a))) {
                    g.location.href = a;
                    return;
                }
                c.$evalAsync(function() {
                    var d = h.absUrl();
                    var e = h.$$state;
                    var f;
                    h.$$parse(a);
                    h.$$state = b;
                    f = c.$broadcast("$locationChangeStart", a, d, b, e).defaultPrevented;
                    if (h.absUrl() !== a) return;
                    if (f) {
                        h.$$parse(d);
                        h.$$state = e;
                        p(d, false, e);
                    } else {
                        q = false;
                        r(d, e);
                    }
                });
                if (!c.$$phase) c.$digest();
            });
            c.$watch(function s() {
                var a = nd(d.url());
                var b = nd(h.absUrl());
                var f = d.state();
                var g = h.$$replace;
                var i = a !== b || h.$$html5 && e.history && f !== h.$$state;
                if (q || i) {
                    q = false;
                    c.$evalAsync(function() {
                        var b = h.absUrl();
                        var d = c.$broadcast("$locationChangeStart", b, a, h.$$state, f).defaultPrevented;
                        if (h.absUrl() !== b) return;
                        if (d) {
                            h.$$parse(a);
                            h.$$state = f;
                        } else {
                            if (i) {
                                p(b, g, f === h.$$state ? null : h.$$state);
                            }
                            r(a, f);
                        }
                    });
                }
                h.$$replace = false;
            });
            return h;
            function r(a, b) {
                c.$broadcast("$locationChangeSuccess", h.absUrl(), a, h.$$state, b);
            }
        } ];
    }
    function xd() {
        var a = true, b = this;
        this.debugEnabled = function(b) {
            if (N(b)) {
                a = b;
                return this;
            } else {
                return a;
            }
        };
        this.$get = [ "$window", function(c) {
            return {
                log: e("log"),
                info: e("info"),
                warn: e("warn"),
                error: e("error"),
                debug: function() {
                    var c = e("debug");
                    return function() {
                        if (a) {
                            c.apply(b, arguments);
                        }
                    };
                }()
            };
            function d(a) {
                if (a instanceof Error) {
                    if (a.stack) {
                        a = a.message && a.stack.indexOf(a.message) === -1 ? "Error: " + a.message + "\n" + a.stack : a.stack;
                    } else if (a.sourceURL) {
                        a = a.message + "\n" + a.sourceURL + ":" + a.line;
                    }
                }
                return a;
            }
            function e(a) {
                var b = c.console || {}, e = b[a] || b.log || I, f = false;
                try {
                    f = !!e.apply;
                } catch (g) {}
                if (f) {
                    return function() {
                        var a = [];
                        y(arguments, function(b) {
                            a.push(d(b));
                        });
                        return e.apply(b, a);
                    };
                }
                return function(a, b) {
                    e(a, b == null ? "" : b);
                };
            }
        } ];
    }
    var yd = d("$parse");
    function zd(a, b) {
        if (a === "__defineGetter__" || a === "__defineSetter__" || a === "__lookupGetter__" || a === "__lookupSetter__" || a === "__proto__") {
            throw yd("isecfld", "Attempting to access a disallowed field in Angular expressions! " + "Expression: {0}", b);
        }
        return a;
    }
    function Ad(a, b) {
        a = a + "";
        if (!Q(a)) {
            throw yd("iseccst", "Cannot convert object to primitive value! " + "Expression: {0}", b);
        }
        return a;
    }
    function Bd(a, b) {
        if (a) {
            if (a.constructor === a) {
                throw yd("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", b);
            } else if (a.window === a) {
                throw yd("isecwindow", "Referencing the Window in Angular expressions is disallowed! Expression: {0}", b);
            } else if (a.children && (a.nodeName || a.prop && a.attr && a.find)) {
                throw yd("isecdom", "Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}", b);
            } else if (a === Object) {
                throw yd("isecobj", "Referencing Object in Angular expressions is disallowed! Expression: {0}", b);
            }
        }
        return a;
    }
    var Cd = Function.prototype.call;
    var Dd = Function.prototype.apply;
    var Ed = Function.prototype.bind;
    function Fd(a, b) {
        if (a) {
            if (a.constructor === a) {
                throw yd("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", b);
            } else if (a === Cd || a === Dd || a === Ed) {
                throw yd("isecff", "Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}", b);
            }
        }
    }
    function Gd(a, b) {
        if (a) {
            if (a === 0..constructor || a === false.constructor || a === "".constructor || a === {}.constructor || a === [].constructor || a === Function.constructor) {
                throw yd("isecaf", "Assigning to a constructor is disallowed! Expression: {0}", b);
            }
        }
    }
    var Hd = Ua();
    y("+ - * / % === !== == != < > <= >= && || ! = |".split(" "), function(a) {
        Hd[a] = true;
    });
    var Id = {
        n: "\n",
        f: "\f",
        r: "\r",
        t: "	",
        v: "",
        "'": "'",
        '"': '"'
    };
    var Jd = function(a) {
        this.options = a;
    };
    Jd.prototype = {
        constructor: Jd,
        lex: function(a) {
            this.text = a;
            this.index = 0;
            this.tokens = [];
            while (this.index < this.text.length) {
                var b = this.text.charAt(this.index);
                if (b === '"' || b === "'") {
                    this.readString(b);
                } else if (this.isNumber(b) || b === "." && this.isNumber(this.peek())) {
                    this.readNumber();
                } else if (this.isIdent(b)) {
                    this.readIdent();
                } else if (this.is(b, "(){}[].,;:?")) {
                    this.tokens.push({
                        index: this.index,
                        text: b
                    });
                    this.index++;
                } else if (this.isWhitespace(b)) {
                    this.index++;
                } else {
                    var c = b + this.peek();
                    var d = c + this.peek(2);
                    var e = Hd[b];
                    var f = Hd[c];
                    var g = Hd[d];
                    if (e || f || g) {
                        var h = g ? d : f ? c : b;
                        this.tokens.push({
                            index: this.index,
                            text: h,
                            operator: true
                        });
                        this.index += h.length;
                    } else {
                        this.throwError("Unexpected next character ", this.index, this.index + 1);
                    }
                }
            }
            return this.tokens;
        },
        is: function(a, b) {
            return b.indexOf(a) !== -1;
        },
        peek: function(a) {
            var b = a || 1;
            return this.index + b < this.text.length ? this.text.charAt(this.index + b) : false;
        },
        isNumber: function(a) {
            return "0" <= a && a <= "9" && typeof a === "string";
        },
        isWhitespace: function(a) {
            return a === " " || a === "\r" || a === "	" || a === "\n" || a === "" || a === " ";
        },
        isIdent: function(a) {
            return "a" <= a && a <= "z" || "A" <= a && a <= "Z" || "_" === a || a === "$";
        },
        isExpOperator: function(a) {
            return a === "-" || a === "+" || this.isNumber(a);
        },
        throwError: function(a, b, c) {
            c = c || this.index;
            var d = N(b) ? "s " + b + "-" + this.index + " [" + this.text.substring(b, c) + "]" : " " + c;
            throw yd("lexerr", "Lexer Error: {0} at column{1} in expression [{2}].", a, d, this.text);
        },
        readNumber: function() {
            var a = "";
            var b = this.index;
            while (this.index < this.text.length) {
                var c = g(this.text.charAt(this.index));
                if (c == "." || this.isNumber(c)) {
                    a += c;
                } else {
                    var d = this.peek();
                    if (c == "e" && this.isExpOperator(d)) {
                        a += c;
                    } else if (this.isExpOperator(c) && d && this.isNumber(d) && a.charAt(a.length - 1) == "e") {
                        a += c;
                    } else if (this.isExpOperator(c) && (!d || !this.isNumber(d)) && a.charAt(a.length - 1) == "e") {
                        this.throwError("Invalid exponent");
                    } else {
                        break;
                    }
                }
                this.index++;
            }
            this.tokens.push({
                index: b,
                text: a,
                constant: true,
                value: Number(a)
            });
        },
        readIdent: function() {
            var a = this.index;
            while (this.index < this.text.length) {
                var b = this.text.charAt(this.index);
                if (!(this.isIdent(b) || this.isNumber(b))) {
                    break;
                }
                this.index++;
            }
            this.tokens.push({
                index: a,
                text: this.text.slice(a, this.index),
                identifier: true
            });
        },
        readString: function(a) {
            var b = this.index;
            this.index++;
            var c = "";
            var d = a;
            var e = false;
            while (this.index < this.text.length) {
                var f = this.text.charAt(this.index);
                d += f;
                if (e) {
                    if (f === "u") {
                        var g = this.text.substring(this.index + 1, this.index + 5);
                        if (!g.match(/[\da-f]{4}/i)) {
                            this.throwError("Invalid unicode escape [\\u" + g + "]");
                        }
                        this.index += 4;
                        c += String.fromCharCode(parseInt(g, 16));
                    } else {
                        var h = Id[f];
                        c = c + (h || f);
                    }
                    e = false;
                } else if (f === "\\") {
                    e = true;
                } else if (f === a) {
                    this.index++;
                    this.tokens.push({
                        index: b,
                        text: d,
                        constant: true,
                        value: c
                    });
                    return;
                } else {
                    c += f;
                }
                this.index++;
            }
            this.throwError("Unterminated quote", b);
        }
    };
    var Kd = function(a, b) {
        this.lexer = a;
        this.options = b;
    };
    Kd.Program = "Program";
    Kd.ExpressionStatement = "ExpressionStatement";
    Kd.AssignmentExpression = "AssignmentExpression";
    Kd.ConditionalExpression = "ConditionalExpression";
    Kd.LogicalExpression = "LogicalExpression";
    Kd.BinaryExpression = "BinaryExpression";
    Kd.UnaryExpression = "UnaryExpression";
    Kd.CallExpression = "CallExpression";
    Kd.MemberExpression = "MemberExpression";
    Kd.Identifier = "Identifier";
    Kd.Literal = "Literal";
    Kd.ArrayExpression = "ArrayExpression";
    Kd.Property = "Property";
    Kd.ObjectExpression = "ObjectExpression";
    Kd.ThisExpression = "ThisExpression";
    Kd.NGValueParameter = "NGValueParameter";
    Kd.prototype = {
        ast: function(a) {
            this.text = a;
            this.tokens = this.lexer.lex(a);
            var b = this.program();
            if (this.tokens.length !== 0) {
                this.throwError("is an unexpected token", this.tokens[0]);
            }
            return b;
        },
        program: function() {
            var a = [];
            while (true) {
                if (this.tokens.length > 0 && !this.peek("}", ")", ";", "]")) a.push(this.expressionStatement());
                if (!this.expect(";")) {
                    return {
                        type: Kd.Program,
                        body: a
                    };
                }
            }
        },
        expressionStatement: function() {
            return {
                type: Kd.ExpressionStatement,
                expression: this.filterChain()
            };
        },
        filterChain: function() {
            var a = this.expression();
            var b;
            while (b = this.expect("|")) {
                a = this.filter(a);
            }
            return a;
        },
        expression: function() {
            return this.assignment();
        },
        assignment: function() {
            var a = this.ternary();
            if (this.expect("=")) {
                a = {
                    type: Kd.AssignmentExpression,
                    left: a,
                    right: this.assignment(),
                    operator: "="
                };
            }
            return a;
        },
        ternary: function() {
            var a = this.logicalOR();
            var b;
            var c;
            if (this.expect("?")) {
                b = this.expression();
                if (this.consume(":")) {
                    c = this.expression();
                    return {
                        type: Kd.ConditionalExpression,
                        test: a,
                        alternate: b,
                        consequent: c
                    };
                }
            }
            return a;
        },
        logicalOR: function() {
            var a = this.logicalAND();
            while (this.expect("||")) {
                a = {
                    type: Kd.LogicalExpression,
                    operator: "||",
                    left: a,
                    right: this.logicalAND()
                };
            }
            return a;
        },
        logicalAND: function() {
            var a = this.equality();
            while (this.expect("&&")) {
                a = {
                    type: Kd.LogicalExpression,
                    operator: "&&",
                    left: a,
                    right: this.equality()
                };
            }
            return a;
        },
        equality: function() {
            var a = this.relational();
            var b;
            while (b = this.expect("==", "!=", "===", "!==")) {
                a = {
                    type: Kd.BinaryExpression,
                    operator: b.text,
                    left: a,
                    right: this.relational()
                };
            }
            return a;
        },
        relational: function() {
            var a = this.additive();
            var b;
            while (b = this.expect("<", ">", "<=", ">=")) {
                a = {
                    type: Kd.BinaryExpression,
                    operator: b.text,
                    left: a,
                    right: this.additive()
                };
            }
            return a;
        },
        additive: function() {
            var a = this.multiplicative();
            var b;
            while (b = this.expect("+", "-")) {
                a = {
                    type: Kd.BinaryExpression,
                    operator: b.text,
                    left: a,
                    right: this.multiplicative()
                };
            }
            return a;
        },
        multiplicative: function() {
            var a = this.unary();
            var b;
            while (b = this.expect("*", "/", "%")) {
                a = {
                    type: Kd.BinaryExpression,
                    operator: b.text,
                    left: a,
                    right: this.unary()
                };
            }
            return a;
        },
        unary: function() {
            var a;
            if (a = this.expect("+", "-", "!")) {
                return {
                    type: Kd.UnaryExpression,
                    operator: a.text,
                    prefix: true,
                    argument: this.unary()
                };
            } else {
                return this.primary();
            }
        },
        primary: function() {
            var a;
            if (this.expect("(")) {
                a = this.filterChain();
                this.consume(")");
            } else if (this.expect("[")) {
                a = this.arrayDeclaration();
            } else if (this.expect("{")) {
                a = this.object();
            } else if (this.constants.hasOwnProperty(this.peek().text)) {
                a = ka(this.constants[this.consume().text]);
            } else if (this.peek().identifier) {
                a = this.identifier();
            } else if (this.peek().constant) {
                a = this.constant();
            } else {
                this.throwError("not a primary expression", this.peek());
            }
            var b;
            while (b = this.expect("(", "[", ".")) {
                if (b.text === "(") {
                    a = {
                        type: Kd.CallExpression,
                        callee: a,
                        arguments: this.parseArguments()
                    };
                    this.consume(")");
                } else if (b.text === "[") {
                    a = {
                        type: Kd.MemberExpression,
                        object: a,
                        property: this.expression(),
                        computed: true
                    };
                    this.consume("]");
                } else if (b.text === ".") {
                    a = {
                        type: Kd.MemberExpression,
                        object: a,
                        property: this.identifier(),
                        computed: false
                    };
                } else {
                    this.throwError("IMPOSSIBLE");
                }
            }
            return a;
        },
        filter: function(a) {
            var b = [ a ];
            var c = {
                type: Kd.CallExpression,
                callee: this.identifier(),
                arguments: b,
                filter: true
            };
            while (this.expect(":")) {
                b.push(this.expression());
            }
            return c;
        },
        parseArguments: function() {
            var a = [];
            if (this.peekToken().text !== ")") {
                do {
                    a.push(this.expression());
                } while (this.expect(","));
            }
            return a;
        },
        identifier: function() {
            var a = this.consume();
            if (!a.identifier) {
                this.throwError("is not a valid identifier", a);
            }
            return {
                type: Kd.Identifier,
                name: a.text
            };
        },
        constant: function() {
            return {
                type: Kd.Literal,
                value: this.consume().value
            };
        },
        arrayDeclaration: function() {
            var a = [];
            if (this.peekToken().text !== "]") {
                do {
                    if (this.peek("]")) {
                        break;
                    }
                    a.push(this.expression());
                } while (this.expect(","));
            }
            this.consume("]");
            return {
                type: Kd.ArrayExpression,
                elements: a
            };
        },
        object: function() {
            var a = [], b;
            if (this.peekToken().text !== "}") {
                do {
                    if (this.peek("}")) {
                        break;
                    }
                    b = {
                        type: Kd.Property,
                        kind: "init"
                    };
                    if (this.peek().constant) {
                        b.key = this.constant();
                    } else if (this.peek().identifier) {
                        b.key = this.identifier();
                    } else {
                        this.throwError("invalid key", this.peek());
                    }
                    this.consume(":");
                    b.value = this.expression();
                    a.push(b);
                } while (this.expect(","));
            }
            this.consume("}");
            return {
                type: Kd.ObjectExpression,
                properties: a
            };
        },
        throwError: function(a, b) {
            throw yd("syntax", "Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].", b.text, a, b.index + 1, this.text, this.text.substring(b.index));
        },
        consume: function(a) {
            if (this.tokens.length === 0) {
                throw yd("ueoe", "Unexpected end of expression: {0}", this.text);
            }
            var b = this.expect(a);
            if (!b) {
                this.throwError("is unexpected, expecting [" + a + "]", this.peek());
            }
            return b;
        },
        peekToken: function() {
            if (this.tokens.length === 0) {
                throw yd("ueoe", "Unexpected end of expression: {0}", this.text);
            }
            return this.tokens[0];
        },
        peek: function(a, b, c, d) {
            return this.peekAhead(0, a, b, c, d);
        },
        peekAhead: function(a, b, c, d, e) {
            if (this.tokens.length > a) {
                var f = this.tokens[a];
                var g = f.text;
                if (g === b || g === c || g === d || g === e || !b && !c && !d && !e) {
                    return f;
                }
            }
            return false;
        },
        expect: function(a, b, c, d) {
            var e = this.peek(a, b, c, d);
            if (e) {
                this.tokens.shift();
                return e;
            }
            return false;
        },
        constants: {
            "true": {
                type: Kd.Literal,
                value: true
            },
            "false": {
                type: Kd.Literal,
                value: false
            },
            "null": {
                type: Kd.Literal,
                value: null
            },
            undefined: {
                type: Kd.Literal,
                value: c
            },
            "this": {
                type: Kd.ThisExpression
            }
        }
    };
    function Ld(a, b) {
        return typeof a !== "undefined" ? a : b;
    }
    function Md(a, b) {
        if (typeof a === "undefined") return b;
        if (typeof b === "undefined") return a;
        return a + b;
    }
    function Nd(a, b) {
        var c = a(b);
        return !c.$stateful;
    }
    function Od(a, b) {
        var c;
        var d;
        switch (a.type) {
          case Kd.Program:
            c = true;
            y(a.body, function(a) {
                Od(a.expression, b);
                c = c && a.expression.constant;
            });
            a.constant = c;
            break;

          case Kd.Literal:
            a.constant = true;
            a.toWatch = [];
            break;

          case Kd.UnaryExpression:
            Od(a.argument, b);
            a.constant = a.argument.constant;
            a.toWatch = a.argument.toWatch;
            break;

          case Kd.BinaryExpression:
            Od(a.left, b);
            Od(a.right, b);
            a.constant = a.left.constant && a.right.constant;
            a.toWatch = a.left.toWatch.concat(a.right.toWatch);
            break;

          case Kd.LogicalExpression:
            Od(a.left, b);
            Od(a.right, b);
            a.constant = a.left.constant && a.right.constant;
            a.toWatch = a.constant ? [] : [ a ];
            break;

          case Kd.ConditionalExpression:
            Od(a.test, b);
            Od(a.alternate, b);
            Od(a.consequent, b);
            a.constant = a.test.constant && a.alternate.constant && a.consequent.constant;
            a.toWatch = a.constant ? [] : [ a ];
            break;

          case Kd.Identifier:
            a.constant = false;
            a.toWatch = [ a ];
            break;

          case Kd.MemberExpression:
            Od(a.object, b);
            if (a.computed) {
                Od(a.property, b);
            }
            a.constant = a.object.constant && (!a.computed || a.property.constant);
            a.toWatch = [ a ];
            break;

          case Kd.CallExpression:
            c = a.filter ? Nd(b, a.callee.name) : false;
            d = [];
            y(a.arguments, function(a) {
                Od(a, b);
                c = c && a.constant;
                if (!a.constant) {
                    d.push.apply(d, a.toWatch);
                }
            });
            a.constant = c;
            a.toWatch = a.filter && Nd(b, a.callee.name) ? d : [ a ];
            break;

          case Kd.AssignmentExpression:
            Od(a.left, b);
            Od(a.right, b);
            a.constant = a.left.constant && a.right.constant;
            a.toWatch = [ a ];
            break;

          case Kd.ArrayExpression:
            c = true;
            d = [];
            y(a.elements, function(a) {
                Od(a, b);
                c = c && a.constant;
                if (!a.constant) {
                    d.push.apply(d, a.toWatch);
                }
            });
            a.constant = c;
            a.toWatch = d;
            break;

          case Kd.ObjectExpression:
            c = true;
            d = [];
            y(a.properties, function(a) {
                Od(a.value, b);
                c = c && a.value.constant;
                if (!a.value.constant) {
                    d.push.apply(d, a.value.toWatch);
                }
            });
            a.constant = c;
            a.toWatch = d;
            break;

          case Kd.ThisExpression:
            a.constant = false;
            a.toWatch = [];
            break;
        }
    }
    function Pd(a) {
        if (a.length != 1) return;
        var b = a[0].expression;
        var d = b.toWatch;
        if (d.length !== 1) return d;
        return d[0] !== b ? d : c;
    }
    function Qd(a) {
        return a.type === Kd.Identifier || a.type === Kd.MemberExpression;
    }
    function Rd(a) {
        if (a.body.length === 1 && Qd(a.body[0].expression)) {
            return {
                type: Kd.AssignmentExpression,
                left: a.body[0].expression,
                right: {
                    type: Kd.NGValueParameter
                },
                operator: "="
            };
        }
    }
    function Sd(a) {
        return a.body.length === 0 || a.body.length === 1 && (a.body[0].expression.type === Kd.Literal || a.body[0].expression.type === Kd.ArrayExpression || a.body[0].expression.type === Kd.ObjectExpression);
    }
    function Td(a) {
        return a.constant;
    }
    function Ud(a, b) {
        this.astBuilder = a;
        this.$filter = b;
    }
    Ud.prototype = {
        compile: function(a, b) {
            var d = this;
            var e = this.astBuilder.ast(a);
            this.state = {
                nextId: 0,
                filters: {},
                expensiveChecks: b,
                fn: {
                    vars: [],
                    body: [],
                    own: {}
                },
                assign: {
                    vars: [],
                    body: [],
                    own: {}
                },
                inputs: []
            };
            Od(e, d.$filter);
            var f = "";
            var g;
            this.stage = "assign";
            if (g = Rd(e)) {
                this.state.computing = "assign";
                var h = this.nextId();
                this.recurse(g, h);
                this.return_(h);
                f = "fn.assign=" + this.generateFunction("assign", "s,v,l");
            }
            var i = Pd(e.body);
            d.stage = "inputs";
            y(i, function(a, b) {
                var c = "fn" + b;
                d.state[c] = {
                    vars: [],
                    body: [],
                    own: {}
                };
                d.state.computing = c;
                var e = d.nextId();
                d.recurse(a, e);
                d.return_(e);
                d.state.inputs.push(c);
                a.watchId = b;
            });
            this.state.computing = "fn";
            this.stage = "main";
            this.recurse(e);
            var j = '"' + this.USE + " " + this.STRICT + '";\n' + this.filterPrefix() + "var fn=" + this.generateFunction("fn", "s,l,a,i") + f + this.watchFns() + "return fn;";
            var k = new Function("$filter", "ensureSafeMemberName", "ensureSafeObject", "ensureSafeFunction", "getStringValue", "ensureSafeAssignContext", "ifDefined", "plus", "text", j)(this.$filter, zd, Bd, Fd, Ad, Gd, Ld, Md, a);
            this.state = this.stage = c;
            k.literal = Sd(e);
            k.constant = Td(e);
            return k;
        },
        USE: "use",
        STRICT: "strict",
        watchFns: function() {
            var a = [];
            var b = this.state.inputs;
            var c = this;
            y(b, function(b) {
                a.push("var " + b + "=" + c.generateFunction(b, "s"));
            });
            if (b.length) {
                a.push("fn.inputs=[" + b.join(",") + "];");
            }
            return a.join("");
        },
        generateFunction: function(a, b) {
            return "function(" + b + "){" + this.varsPrefix(a) + this.body(a) + "};";
        },
        filterPrefix: function() {
            var a = [];
            var b = this;
            y(this.state.filters, function(c, d) {
                a.push(c + "=$filter(" + b.escape(d) + ")");
            });
            if (a.length) return "var " + a.join(",") + ";";
            return "";
        },
        varsPrefix: function(a) {
            return this.state[a].vars.length ? "var " + this.state[a].vars.join(",") + ";" : "";
        },
        body: function(a) {
            return this.state[a].body.join("");
        },
        recurse: function(a, b, d, e, f, g) {
            var h, i, j = this, k, l;
            e = e || I;
            if (!g && N(a.watchId)) {
                b = b || this.nextId();
                this.if_("i", this.lazyAssign(b, this.computedMember("i", a.watchId)), this.lazyRecurse(a, b, d, e, f, true));
                return;
            }
            switch (a.type) {
              case Kd.Program:
                y(a.body, function(b, d) {
                    j.recurse(b.expression, c, c, function(a) {
                        i = a;
                    });
                    if (d !== a.body.length - 1) {
                        j.current().body.push(i, ";");
                    } else {
                        j.return_(i);
                    }
                });
                break;

              case Kd.Literal:
                l = this.escape(a.value);
                this.assign(b, l);
                e(l);
                break;

              case Kd.UnaryExpression:
                this.recurse(a.argument, c, c, function(a) {
                    i = a;
                });
                l = a.operator + "(" + this.ifDefined(i, 0) + ")";
                this.assign(b, l);
                e(l);
                break;

              case Kd.BinaryExpression:
                this.recurse(a.left, c, c, function(a) {
                    h = a;
                });
                this.recurse(a.right, c, c, function(a) {
                    i = a;
                });
                if (a.operator === "+") {
                    l = this.plus(h, i);
                } else if (a.operator === "-") {
                    l = this.ifDefined(h, 0) + a.operator + this.ifDefined(i, 0);
                } else {
                    l = "(" + h + ")" + a.operator + "(" + i + ")";
                }
                this.assign(b, l);
                e(l);
                break;

              case Kd.LogicalExpression:
                b = b || this.nextId();
                j.recurse(a.left, b);
                j.if_(a.operator === "&&" ? b : j.not(b), j.lazyRecurse(a.right, b));
                e(b);
                break;

              case Kd.ConditionalExpression:
                b = b || this.nextId();
                j.recurse(a.test, b);
                j.if_(b, j.lazyRecurse(a.alternate, b), j.lazyRecurse(a.consequent, b));
                e(b);
                break;

              case Kd.Identifier:
                b = b || this.nextId();
                if (d) {
                    d.context = j.stage === "inputs" ? "s" : this.assign(this.nextId(), this.getHasOwnProperty("l", a.name) + "?l:s");
                    d.computed = false;
                    d.name = a.name;
                }
                zd(a.name);
                j.if_(j.stage === "inputs" || j.not(j.getHasOwnProperty("l", a.name)), function() {
                    j.if_(j.stage === "inputs" || "s", function() {
                        if (f && f !== 1) {
                            j.if_(j.not(j.nonComputedMember("s", a.name)), j.lazyAssign(j.nonComputedMember("s", a.name), "{}"));
                        }
                        j.assign(b, j.nonComputedMember("s", a.name));
                    });
                }, b && j.lazyAssign(b, j.nonComputedMember("l", a.name)));
                if (j.state.expensiveChecks || Zd(a.name)) {
                    j.addEnsureSafeObject(b);
                }
                e(b);
                break;

              case Kd.MemberExpression:
                h = d && (d.context = this.nextId()) || this.nextId();
                b = b || this.nextId();
                j.recurse(a.object, h, c, function() {
                    j.if_(j.notNull(h), function() {
                        if (a.computed) {
                            i = j.nextId();
                            j.recurse(a.property, i);
                            j.getStringValue(i);
                            j.addEnsureSafeMemberName(i);
                            if (f && f !== 1) {
                                j.if_(j.not(j.computedMember(h, i)), j.lazyAssign(j.computedMember(h, i), "{}"));
                            }
                            l = j.ensureSafeObject(j.computedMember(h, i));
                            j.assign(b, l);
                            if (d) {
                                d.computed = true;
                                d.name = i;
                            }
                        } else {
                            zd(a.property.name);
                            if (f && f !== 1) {
                                j.if_(j.not(j.nonComputedMember(h, a.property.name)), j.lazyAssign(j.nonComputedMember(h, a.property.name), "{}"));
                            }
                            l = j.nonComputedMember(h, a.property.name);
                            if (j.state.expensiveChecks || Zd(a.property.name)) {
                                l = j.ensureSafeObject(l);
                            }
                            j.assign(b, l);
                            if (d) {
                                d.computed = false;
                                d.name = a.property.name;
                            }
                        }
                    }, function() {
                        j.assign(b, "undefined");
                    });
                    e(b);
                }, !!f);
                break;

              case Kd.CallExpression:
                b = b || this.nextId();
                if (a.filter) {
                    i = j.filter(a.callee.name);
                    k = [];
                    y(a.arguments, function(a) {
                        var b = j.nextId();
                        j.recurse(a, b);
                        k.push(b);
                    });
                    l = i + "(" + k.join(",") + ")";
                    j.assign(b, l);
                    e(b);
                } else {
                    i = j.nextId();
                    h = {};
                    k = [];
                    j.recurse(a.callee, i, h, function() {
                        j.if_(j.notNull(i), function() {
                            j.addEnsureSafeFunction(i);
                            y(a.arguments, function(a) {
                                j.recurse(a, j.nextId(), c, function(a) {
                                    k.push(j.ensureSafeObject(a));
                                });
                            });
                            if (h.name) {
                                if (!j.state.expensiveChecks) {
                                    j.addEnsureSafeObject(h.context);
                                }
                                l = j.member(h.context, h.name, h.computed) + "(" + k.join(",") + ")";
                            } else {
                                l = i + "(" + k.join(",") + ")";
                            }
                            l = j.ensureSafeObject(l);
                            j.assign(b, l);
                        }, function() {
                            j.assign(b, "undefined");
                        });
                        e(b);
                    });
                }
                break;

              case Kd.AssignmentExpression:
                i = this.nextId();
                h = {};
                if (!Qd(a.left)) {
                    throw yd("lval", "Trying to assing a value to a non l-value");
                }
                this.recurse(a.left, c, h, function() {
                    j.if_(j.notNull(h.context), function() {
                        j.recurse(a.right, i);
                        j.addEnsureSafeObject(j.member(h.context, h.name, h.computed));
                        j.addEnsureSafeAssignContext(h.context);
                        l = j.member(h.context, h.name, h.computed) + a.operator + i;
                        j.assign(b, l);
                        e(b || l);
                    });
                }, 1);
                break;

              case Kd.ArrayExpression:
                k = [];
                y(a.elements, function(a) {
                    j.recurse(a, j.nextId(), c, function(a) {
                        k.push(a);
                    });
                });
                l = "[" + k.join(",") + "]";
                this.assign(b, l);
                e(l);
                break;

              case Kd.ObjectExpression:
                k = [];
                y(a.properties, function(a) {
                    j.recurse(a.value, j.nextId(), c, function(b) {
                        k.push(j.escape(a.key.type === Kd.Identifier ? a.key.name : "" + a.key.value) + ":" + b);
                    });
                });
                l = "{" + k.join(",") + "}";
                this.assign(b, l);
                e(l);
                break;

              case Kd.ThisExpression:
                this.assign(b, "s");
                e("s");
                break;

              case Kd.NGValueParameter:
                this.assign(b, "v");
                e("v");
                break;
            }
        },
        getHasOwnProperty: function(a, b) {
            var c = a + "." + b;
            var d = this.current().own;
            if (!d.hasOwnProperty(c)) {
                d[c] = this.nextId(false, a + "&&(" + this.escape(b) + " in " + a + ")");
            }
            return d[c];
        },
        assign: function(a, b) {
            if (!a) return;
            this.current().body.push(a, "=", b, ";");
            return a;
        },
        filter: function(a) {
            if (!this.state.filters.hasOwnProperty(a)) {
                this.state.filters[a] = this.nextId(true);
            }
            return this.state.filters[a];
        },
        ifDefined: function(a, b) {
            return "ifDefined(" + a + "," + this.escape(b) + ")";
        },
        plus: function(a, b) {
            return "plus(" + a + "," + b + ")";
        },
        return_: function(a) {
            this.current().body.push("return ", a, ";");
        },
        if_: function(a, b, c) {
            if (a === true) {
                b();
            } else {
                var d = this.current().body;
                d.push("if(", a, "){");
                b();
                d.push("}");
                if (c) {
                    d.push("else{");
                    c();
                    d.push("}");
                }
            }
        },
        not: function(a) {
            return "!(" + a + ")";
        },
        notNull: function(a) {
            return a + "!=null";
        },
        nonComputedMember: function(a, b) {
            return a + "." + b;
        },
        computedMember: function(a, b) {
            return a + "[" + b + "]";
        },
        member: function(a, b, c) {
            if (c) return this.computedMember(a, b);
            return this.nonComputedMember(a, b);
        },
        addEnsureSafeObject: function(a) {
            this.current().body.push(this.ensureSafeObject(a), ";");
        },
        addEnsureSafeMemberName: function(a) {
            this.current().body.push(this.ensureSafeMemberName(a), ";");
        },
        addEnsureSafeFunction: function(a) {
            this.current().body.push(this.ensureSafeFunction(a), ";");
        },
        addEnsureSafeAssignContext: function(a) {
            this.current().body.push(this.ensureSafeAssignContext(a), ";");
        },
        ensureSafeObject: function(a) {
            return "ensureSafeObject(" + a + ",text)";
        },
        ensureSafeMemberName: function(a) {
            return "ensureSafeMemberName(" + a + ",text)";
        },
        ensureSafeFunction: function(a) {
            return "ensureSafeFunction(" + a + ",text)";
        },
        getStringValue: function(a) {
            this.assign(a, "getStringValue(" + a + ",text)");
        },
        ensureSafeAssignContext: function(a) {
            return "ensureSafeAssignContext(" + a + ",text)";
        },
        lazyRecurse: function(a, b, c, d, e, f) {
            var g = this;
            return function() {
                g.recurse(a, b, c, d, e, f);
            };
        },
        lazyAssign: function(a, b) {
            var c = this;
            return function() {
                c.assign(a, b);
            };
        },
        stringEscapeRegex: /[^ a-zA-Z0-9]/g,
        stringEscapeFn: function(a) {
            return "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4);
        },
        escape: function(a) {
            if (Q(a)) return "'" + a.replace(this.stringEscapeRegex, this.stringEscapeFn) + "'";
            if (R(a)) return a.toString();
            if (a === true) return "true";
            if (a === false) return "false";
            if (a === null) return "null";
            if (typeof a === "undefined") return "undefined";
            throw yd("esc", "IMPOSSIBLE");
        },
        nextId: function(a, b) {
            var c = "v" + this.state.nextId++;
            if (!a) {
                this.current().vars.push(c + (b ? "=" + b : ""));
            }
            return c;
        },
        current: function() {
            return this.state[this.state.computing];
        }
    };
    function Vd(a, b) {
        this.astBuilder = a;
        this.$filter = b;
    }
    Vd.prototype = {
        compile: function(a, b) {
            var c = this;
            var d = this.astBuilder.ast(a);
            this.expression = a;
            this.expensiveChecks = b;
            Od(d, c.$filter);
            var e;
            var f;
            if (e = Rd(d)) {
                f = this.recurse(e);
            }
            var g = Pd(d.body);
            var h;
            if (g) {
                h = [];
                y(g, function(a, b) {
                    var d = c.recurse(a);
                    a.input = d;
                    h.push(d);
                    a.watchId = b;
                });
            }
            var i = [];
            y(d.body, function(a) {
                i.push(c.recurse(a.expression));
            });
            var j = d.body.length === 0 ? function() {} : d.body.length === 1 ? i[0] : function(a, b) {
                var c;
                y(i, function(d) {
                    c = d(a, b);
                });
                return c;
            };
            if (f) {
                j.assign = function(a, b, c) {
                    return f(a, c, b);
                };
            }
            if (h) {
                j.inputs = h;
            }
            j.literal = Sd(d);
            j.constant = Td(d);
            return j;
        },
        recurse: function(a, b, d) {
            var e, f, g = this, h, i;
            if (a.input) {
                return this.inputs(a.input, a.watchId);
            }
            switch (a.type) {
              case Kd.Literal:
                return this.value(a.value, b);

              case Kd.UnaryExpression:
                f = this.recurse(a.argument);
                return this["unary" + a.operator](f, b);

              case Kd.BinaryExpression:
                e = this.recurse(a.left);
                f = this.recurse(a.right);
                return this["binary" + a.operator](e, f, b);

              case Kd.LogicalExpression:
                e = this.recurse(a.left);
                f = this.recurse(a.right);
                return this["binary" + a.operator](e, f, b);

              case Kd.ConditionalExpression:
                return this["ternary?:"](this.recurse(a.test), this.recurse(a.alternate), this.recurse(a.consequent), b);

              case Kd.Identifier:
                zd(a.name, g.expression);
                return g.identifier(a.name, g.expensiveChecks || Zd(a.name), b, d, g.expression);

              case Kd.MemberExpression:
                e = this.recurse(a.object, false, !!d);
                if (!a.computed) {
                    zd(a.property.name, g.expression);
                    f = a.property.name;
                }
                if (a.computed) f = this.recurse(a.property);
                return a.computed ? this.computedMember(e, f, b, d, g.expression) : this.nonComputedMember(e, f, g.expensiveChecks, b, d, g.expression);

              case Kd.CallExpression:
                h = [];
                y(a.arguments, function(a) {
                    h.push(g.recurse(a));
                });
                if (a.filter) f = this.$filter(a.callee.name);
                if (!a.filter) f = this.recurse(a.callee, true);
                return a.filter ? function(a, d, e, g) {
                    var i = [];
                    for (var j = 0; j < h.length; ++j) {
                        i.push(h[j](a, d, e, g));
                    }
                    var k = f.apply(c, i, g);
                    return b ? {
                        context: c,
                        name: c,
                        value: k
                    } : k;
                } : function(a, c, d, e) {
                    var i = f(a, c, d, e);
                    var j;
                    if (i.value != null) {
                        Bd(i.context, g.expression);
                        Fd(i.value, g.expression);
                        var k = [];
                        for (var l = 0; l < h.length; ++l) {
                            k.push(Bd(h[l](a, c, d, e), g.expression));
                        }
                        j = Bd(i.value.apply(i.context, k), g.expression);
                    }
                    return b ? {
                        value: j
                    } : j;
                };

              case Kd.AssignmentExpression:
                e = this.recurse(a.left, true, 1);
                f = this.recurse(a.right);
                return function(a, c, d, h) {
                    var i = e(a, c, d, h);
                    var j = f(a, c, d, h);
                    Bd(i.value, g.expression);
                    Gd(i.context);
                    i.context[i.name] = j;
                    return b ? {
                        value: j
                    } : j;
                };

              case Kd.ArrayExpression:
                h = [];
                y(a.elements, function(a) {
                    h.push(g.recurse(a));
                });
                return function(a, c, d, e) {
                    var f = [];
                    for (var g = 0; g < h.length; ++g) {
                        f.push(h[g](a, c, d, e));
                    }
                    return b ? {
                        value: f
                    } : f;
                };

              case Kd.ObjectExpression:
                h = [];
                y(a.properties, function(a) {
                    h.push({
                        key: a.key.type === Kd.Identifier ? a.key.name : "" + a.key.value,
                        value: g.recurse(a.value)
                    });
                });
                return function(a, c, d, e) {
                    var f = {};
                    for (var g = 0; g < h.length; ++g) {
                        f[h[g].key] = h[g].value(a, c, d, e);
                    }
                    return b ? {
                        value: f
                    } : f;
                };

              case Kd.ThisExpression:
                return function(a) {
                    return b ? {
                        value: a
                    } : a;
                };

              case Kd.NGValueParameter:
                return function(a, c, d, e) {
                    return b ? {
                        value: d
                    } : d;
                };
            }
        },
        "unary+": function(a, b) {
            return function(c, d, e, f) {
                var g = a(c, d, e, f);
                if (N(g)) {
                    g = +g;
                } else {
                    g = 0;
                }
                return b ? {
                    value: g
                } : g;
            };
        },
        "unary-": function(a, b) {
            return function(c, d, e, f) {
                var g = a(c, d, e, f);
                if (N(g)) {
                    g = -g;
                } else {
                    g = 0;
                }
                return b ? {
                    value: g
                } : g;
            };
        },
        "unary!": function(a, b) {
            return function(c, d, e, f) {
                var g = !a(c, d, e, f);
                return b ? {
                    value: g
                } : g;
            };
        },
        "binary+": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g);
                var i = b(d, e, f, g);
                var j = Md(h, i);
                return c ? {
                    value: j
                } : j;
            };
        },
        "binary-": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g);
                var i = b(d, e, f, g);
                var j = (N(h) ? h : 0) - (N(i) ? i : 0);
                return c ? {
                    value: j
                } : j;
            };
        },
        "binary*": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g) * b(d, e, f, g);
                return c ? {
                    value: h
                } : h;
            };
        },
        "binary/": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g) / b(d, e, f, g);
                return c ? {
                    value: h
                } : h;
            };
        },
        "binary%": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g) % b(d, e, f, g);
                return c ? {
                    value: h
                } : h;
            };
        },
        "binary===": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g) === b(d, e, f, g);
                return c ? {
                    value: h
                } : h;
            };
        },
        "binary!==": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g) !== b(d, e, f, g);
                return c ? {
                    value: h
                } : h;
            };
        },
        "binary==": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g) == b(d, e, f, g);
                return c ? {
                    value: h
                } : h;
            };
        },
        "binary!=": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g) != b(d, e, f, g);
                return c ? {
                    value: h
                } : h;
            };
        },
        "binary<": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g) < b(d, e, f, g);
                return c ? {
                    value: h
                } : h;
            };
        },
        "binary>": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g) > b(d, e, f, g);
                return c ? {
                    value: h
                } : h;
            };
        },
        "binary<=": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g) <= b(d, e, f, g);
                return c ? {
                    value: h
                } : h;
            };
        },
        "binary>=": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g) >= b(d, e, f, g);
                return c ? {
                    value: h
                } : h;
            };
        },
        "binary&&": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g) && b(d, e, f, g);
                return c ? {
                    value: h
                } : h;
            };
        },
        "binary||": function(a, b, c) {
            return function(d, e, f, g) {
                var h = a(d, e, f, g) || b(d, e, f, g);
                return c ? {
                    value: h
                } : h;
            };
        },
        "ternary?:": function(a, b, c, d) {
            return function(e, f, g, h) {
                var i = a(e, f, g, h) ? b(e, f, g, h) : c(e, f, g, h);
                return d ? {
                    value: i
                } : i;
            };
        },
        value: function(a, b) {
            return function() {
                return b ? {
                    context: c,
                    name: c,
                    value: a
                } : a;
            };
        },
        identifier: function(a, b, d, e, f) {
            return function(g, h, i, j) {
                var k = h && a in h ? h : g;
                if (e && e !== 1 && k && !k[a]) {
                    k[a] = {};
                }
                var l = k ? k[a] : c;
                if (b) {
                    Bd(l, f);
                }
                if (d) {
                    return {
                        context: k,
                        name: a,
                        value: l
                    };
                } else {
                    return l;
                }
            };
        },
        computedMember: function(a, b, c, d, e) {
            return function(f, g, h, i) {
                var j = a(f, g, h, i);
                var k;
                var l;
                if (j != null) {
                    k = b(f, g, h, i);
                    k = Ad(k);
                    zd(k, e);
                    if (d && d !== 1 && j && !j[k]) {
                        j[k] = {};
                    }
                    l = j[k];
                    Bd(l, e);
                }
                if (c) {
                    return {
                        context: j,
                        name: k,
                        value: l
                    };
                } else {
                    return l;
                }
            };
        },
        nonComputedMember: function(a, b, d, e, f, g) {
            return function(h, i, j, k) {
                var l = a(h, i, j, k);
                if (f && f !== 1 && l && !l[b]) {
                    l[b] = {};
                }
                var m = l != null ? l[b] : c;
                if (d || Zd(b)) {
                    Bd(m, g);
                }
                if (e) {
                    return {
                        context: l,
                        name: b,
                        value: m
                    };
                } else {
                    return m;
                }
            };
        },
        inputs: function(a, b) {
            return function(c, d, e, f) {
                if (f) return f[b];
                return a(c, d, e);
            };
        }
    };
    var Wd = function(a, b, c) {
        this.lexer = a;
        this.$filter = b;
        this.options = c;
        this.ast = new Kd(this.lexer);
        this.astCompiler = c.csp ? new Vd(this.ast, b) : new Ud(this.ast, b);
    };
    Wd.prototype = {
        constructor: Wd,
        parse: function(a) {
            return this.astCompiler.compile(a, this.options.expensiveChecks);
        }
    };
    var Xd = Ua();
    var Yd = Ua();
    function Zd(a) {
        return a == "constructor";
    }
    var $d = Object.prototype.valueOf;
    function _d(a) {
        return U(a.valueOf) ? a.valueOf() : $d.call(a);
    }
    function ae() {
        var a = Ua();
        var b = Ua();
        this.$get = [ "$filter", function(d) {
            var e = na().noUnsafeEval;
            var f = {
                csp: e,
                expensiveChecks: false
            }, g = {
                csp: e,
                expensiveChecks: true
            };
            return function n(c, e, h) {
                var n, o, p;
                switch (typeof c) {
                  case "string":
                    c = c.trim();
                    p = c;
                    var q = h ? b : a;
                    n = q[p];
                    if (!n) {
                        if (c.charAt(0) === ":" && c.charAt(1) === ":") {
                            o = true;
                            c = c.substring(2);
                        }
                        var r = h ? g : f;
                        var s = new Jd(r);
                        var t = new Wd(s, d, r);
                        n = t.parse(c);
                        if (n.constant) {
                            n.$$watchDelegate = l;
                        } else if (o) {
                            n.$$watchDelegate = n.literal ? k : j;
                        } else if (n.inputs) {
                            n.$$watchDelegate = i;
                        }
                        q[p] = n;
                    }
                    return m(n, e);

                  case "function":
                    return m(c, e);

                  default:
                    return I;
                }
            };
            function h(a, b) {
                if (a == null || b == null) {
                    return a === b;
                }
                if (typeof a === "object") {
                    a = _d(a);
                    if (typeof a === "object") {
                        return false;
                    }
                }
                return a === b || a !== a && b !== b;
            }
            function i(a, b, d, e, f) {
                var g = e.inputs;
                var i;
                if (g.length === 1) {
                    var j = h;
                    g = g[0];
                    return a.$watch(function o(a) {
                        var b = g(a);
                        if (!h(b, j)) {
                            i = e(a, c, c, [ b ]);
                            j = b && _d(b);
                        }
                        return i;
                    }, b, d, f);
                }
                var k = [];
                var l = [];
                for (var m = 0, n = g.length; m < n; m++) {
                    k[m] = h;
                    l[m] = null;
                }
                return a.$watch(function p(a) {
                    var b = false;
                    for (var d = 0, f = g.length; d < f; d++) {
                        var j = g[d](a);
                        if (b || (b = !h(j, k[d]))) {
                            l[d] = j;
                            k[d] = j && _d(j);
                        }
                    }
                    if (b) {
                        i = e(a, c, c, l);
                    }
                    return i;
                }, b, d, f);
            }
            function j(a, b, c, d) {
                var e, f;
                return e = a.$watch(function g(a) {
                    return d(a);
                }, function h(a, c, d) {
                    f = a;
                    if (U(b)) {
                        b.apply(this, arguments);
                    }
                    if (N(a)) {
                        d.$$postDigest(function() {
                            if (N(f)) {
                                e();
                            }
                        });
                    }
                }, c);
            }
            function k(a, b, c, d) {
                var e, f;
                return e = a.$watch(function h(a) {
                    return d(a);
                }, function i(a, c, d) {
                    f = a;
                    if (U(b)) {
                        b.call(this, a, c, d);
                    }
                    if (g(a)) {
                        d.$$postDigest(function() {
                            if (g(f)) e();
                        });
                    }
                }, c);
                function g(a) {
                    var b = true;
                    y(a, function(a) {
                        if (!N(a)) b = false;
                    });
                    return b;
                }
            }
            function l(a, b, c, d) {
                var e;
                return e = a.$watch(function f(a) {
                    return d(a);
                }, function g(a, c, d) {
                    if (U(b)) {
                        b.apply(this, arguments);
                    }
                    e();
                }, c);
            }
            function m(a, b) {
                if (!b) return a;
                var c = a.$$watchDelegate;
                var d = c !== k && c !== j;
                var e = d ? function f(c, d, e, g) {
                    var h = a(c, d, e, g);
                    return b(h, c, d);
                } : function g(c, d, e, f) {
                    var g = a(c, d, e, f);
                    var h = b(g, c, d);
                    return N(g) ? h : g;
                };
                if (a.$$watchDelegate && a.$$watchDelegate !== i) {
                    e.$$watchDelegate = a.$$watchDelegate;
                } else if (!b.$stateful) {
                    e.$$watchDelegate = i;
                    e.inputs = a.inputs ? a.inputs : [ a ];
                }
                return e;
            }
        } ];
    }
    function be() {
        this.$get = [ "$rootScope", "$exceptionHandler", function(a, b) {
            return de(function(b) {
                a.$evalAsync(b);
            }, b);
        } ];
    }
    function ce() {
        this.$get = [ "$browser", "$exceptionHandler", function(a, b) {
            return de(function(b) {
                a.defer(b);
            }, b);
        } ];
    }
    function de(a, b) {
        var e = d("$q", TypeError);
        function f(a, b, c) {
            var d = false;
            function e(b) {
                return function(c) {
                    if (d) return;
                    d = true;
                    b.call(a, c);
                };
            }
            return [ e(b), e(c) ];
        }
        var g = function() {
            return new l();
        };
        function h() {
            this.$$state = {
                status: 0
            };
        }
        E(h.prototype, {
            then: function(a, b, c) {
                if (M(a) && M(b) && M(c)) {
                    return this;
                }
                var d = new l();
                this.$$state.pending = this.$$state.pending || [];
                this.$$state.pending.push([ d, a, b, c ]);
                if (this.$$state.status > 0) k(this.$$state);
                return d.promise;
            },
            "catch": function(a) {
                return this.then(null, a);
            },
            "finally": function(a, b) {
                return this.then(function(b) {
                    return o(b, true, a);
                }, function(b) {
                    return o(b, false, a);
                }, b);
            }
        });
        function i(a, b) {
            return function(c) {
                b.call(a, c);
            };
        }
        function j(a) {
            var d, e, f;
            f = a.pending;
            a.processScheduled = false;
            a.pending = c;
            for (var g = 0, h = f.length; g < h; ++g) {
                e = f[g][0];
                d = f[g][a.status];
                try {
                    if (U(d)) {
                        e.resolve(d(a.value));
                    } else if (a.status === 1) {
                        e.resolve(a.value);
                    } else {
                        e.reject(a.value);
                    }
                } catch (i) {
                    e.reject(i);
                    b(i);
                }
            }
        }
        function k(b) {
            if (b.processScheduled || !b.pending) return;
            b.processScheduled = true;
            a(function() {
                j(b);
            });
        }
        function l() {
            this.promise = new h();
            this.resolve = i(this, this.resolve);
            this.reject = i(this, this.reject);
            this.notify = i(this, this.notify);
        }
        E(l.prototype, {
            resolve: function(a) {
                if (this.promise.$$state.status) return;
                if (a === this.promise) {
                    this.$$reject(e("qcycle", "Expected promise to be resolved with value other than itself '{0}'", a));
                } else {
                    this.$$resolve(a);
                }
            },
            $$resolve: function(a) {
                var c, d;
                d = f(this, this.$$resolve, this.$$reject);
                try {
                    if (O(a) || U(a)) c = a && a.then;
                    if (U(c)) {
                        this.promise.$$state.status = -1;
                        c.call(a, d[0], d[1], this.notify);
                    } else {
                        this.promise.$$state.value = a;
                        this.promise.$$state.status = 1;
                        k(this.promise.$$state);
                    }
                } catch (e) {
                    d[1](e);
                    b(e);
                }
            },
            reject: function(a) {
                if (this.promise.$$state.status) return;
                this.$$reject(a);
            },
            $$reject: function(a) {
                this.promise.$$state.value = a;
                this.promise.$$state.status = 2;
                k(this.promise.$$state);
            },
            notify: function(c) {
                var d = this.promise.$$state.pending;
                if (this.promise.$$state.status <= 0 && d && d.length) {
                    a(function() {
                        var a, e;
                        for (var f = 0, g = d.length; f < g; f++) {
                            e = d[f][0];
                            a = d[f][3];
                            try {
                                e.notify(U(a) ? a(c) : c);
                            } catch (h) {
                                b(h);
                            }
                        }
                    });
                }
            }
        });
        var m = function(a) {
            var b = new l();
            b.reject(a);
            return b.promise;
        };
        var n = function t(a, b) {
            var c = new l();
            if (b) {
                c.resolve(a);
            } else {
                c.reject(a);
            }
            return c.promise;
        };
        var o = function u(a, b, c) {
            var d = null;
            try {
                if (U(c)) d = c();
            } catch (e) {
                return n(e, false);
            }
            if (aa(d)) {
                return d.then(function() {
                    return n(a, b);
                }, function(a) {
                    return n(a, false);
                });
            } else {
                return n(a, b);
            }
        };
        var p = function(a, b, c, d) {
            var e = new l();
            e.resolve(a);
            return e.promise.then(b, c, d);
        };
        var q = p;
        function r(a) {
            var b = new l(), c = 0, d = T(a) ? [] : {};
            y(a, function(a, e) {
                c++;
                p(a).then(function(a) {
                    if (d.hasOwnProperty(e)) return;
                    d[e] = a;
                    if (!--c) b.resolve(d);
                }, function(a) {
                    if (d.hasOwnProperty(e)) return;
                    b.reject(a);
                });
            });
            if (c === 0) {
                b.resolve(d);
            }
            return b.promise;
        }
        var s = function v(a) {
            if (!U(a)) {
                throw e("norslvr", "Expected resolverFn, got '{0}'", a);
            }
            if (!(this instanceof v)) {
                return new v(a);
            }
            var b = new l();
            function c(a) {
                b.resolve(a);
            }
            function d(a) {
                b.reject(a);
            }
            a(c, d);
            return b.promise;
        };
        s.defer = g;
        s.reject = m;
        s.when = p;
        s.resolve = q;
        s.all = r;
        return s;
    }
    function ee() {
        this.$get = [ "$window", "$timeout", function(a, b) {
            var c = a.requestAnimationFrame || a.webkitRequestAnimationFrame;
            var d = a.cancelAnimationFrame || a.webkitCancelAnimationFrame || a.webkitCancelRequestAnimationFrame;
            var e = !!c;
            var f = e ? function(a) {
                var b = c(a);
                return function() {
                    d(b);
                };
            } : function(a) {
                var c = b(a, 16.66, false);
                return function() {
                    b.cancel(c);
                };
            };
            f.supported = e;
            return f;
        } ];
    }
    function fe() {
        var a = 10;
        var b = d("$rootScope");
        var c = null;
        var e = null;
        this.digestTtl = function(b) {
            if (arguments.length) {
                a = b;
            }
            return a;
        };
        function f(a) {
            function b() {
                this.$$watchers = this.$$nextSibling = this.$$childHead = this.$$childTail = null;
                this.$$listeners = {};
                this.$$listenerCount = {};
                this.$$watchersCount = 0;
                this.$id = B();
                this.$$ChildScope = null;
            }
            b.prototype = a;
            return b;
        }
        this.$get = [ "$injector", "$exceptionHandler", "$parse", "$browser", function(d, g, i, j) {
            function k(a) {
                a.currentScope.$$destroyed = true;
            }
            function l() {
                this.$id = B();
                this.$$phase = this.$parent = this.$$watchers = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = null;
                this.$root = this;
                this.$$destroyed = false;
                this.$$listeners = {};
                this.$$listenerCount = {};
                this.$$watchersCount = 0;
                this.$$isolateBindings = null;
            }
            l.prototype = {
                constructor: l,
                $new: function(a, b) {
                    var c;
                    b = b || this;
                    if (a) {
                        c = new l();
                        c.$root = this.$root;
                    } else {
                        if (!this.$$ChildScope) {
                            this.$$ChildScope = f(this);
                        }
                        c = new this.$$ChildScope();
                    }
                    c.$parent = b;
                    c.$$prevSibling = b.$$childTail;
                    if (b.$$childHead) {
                        b.$$childTail.$$nextSibling = c;
                        b.$$childTail = c;
                    } else {
                        b.$$childHead = b.$$childTail = c;
                    }
                    if (a || b != this) c.$on("$destroy", k);
                    return c;
                },
                $watch: function(a, b, d, e) {
                    var f = i(a);
                    if (f.$$watchDelegate) {
                        return f.$$watchDelegate(this, b, d, f, a);
                    }
                    var g = this, h = g.$$watchers, j = {
                        fn: b,
                        last: u,
                        get: f,
                        exp: e || a,
                        eq: !!d
                    };
                    c = null;
                    if (!U(b)) {
                        j.fn = I;
                    }
                    if (!h) {
                        h = g.$$watchers = [];
                    }
                    h.unshift(j);
                    s(this, 1);
                    return function k() {
                        if (ja(h, j) >= 0) {
                            s(g, -1);
                        }
                        c = null;
                    };
                },
                $watchGroup: function(a, b) {
                    var c = new Array(a.length);
                    var d = new Array(a.length);
                    var e = [];
                    var f = this;
                    var g = false;
                    var h = true;
                    if (!a.length) {
                        var i = true;
                        f.$evalAsync(function() {
                            if (i) b(d, d, f);
                        });
                        return function k() {
                            i = false;
                        };
                    }
                    if (a.length === 1) {
                        return this.$watch(a[0], function l(a, e, f) {
                            d[0] = a;
                            c[0] = e;
                            b(d, a === e ? d : c, f);
                        });
                    }
                    y(a, function(a, b) {
                        var h = f.$watch(a, function i(a, e) {
                            d[b] = a;
                            c[b] = e;
                            if (!g) {
                                g = true;
                                f.$evalAsync(j);
                            }
                        });
                        e.push(h);
                    });
                    function j() {
                        g = false;
                        if (h) {
                            h = false;
                            b(d, d, f);
                        } else {
                            b(d, c, f);
                        }
                    }
                    return function m() {
                        while (e.length) {
                            e.shift()();
                        }
                    };
                },
                $watchCollection: function(a, b) {
                    p.$stateful = true;
                    var c = this;
                    var d;
                    var e;
                    var f;
                    var g = b.length > 1;
                    var j = 0;
                    var k = i(a, p);
                    var l = [];
                    var m = {};
                    var n = true;
                    var o = 0;
                    function p(a) {
                        d = a;
                        var b, c, f, g, i;
                        if (M(d)) return;
                        if (!O(d)) {
                            if (e !== d) {
                                e = d;
                                j++;
                            }
                        } else if (x(d)) {
                            if (e !== l) {
                                e = l;
                                o = e.length = 0;
                                j++;
                            }
                            b = d.length;
                            if (o !== b) {
                                j++;
                                e.length = o = b;
                            }
                            for (var k = 0; k < b; k++) {
                                i = e[k];
                                g = d[k];
                                f = i !== i && g !== g;
                                if (!f && i !== g) {
                                    j++;
                                    e[k] = g;
                                }
                            }
                        } else {
                            if (e !== m) {
                                e = m = {};
                                o = 0;
                                j++;
                            }
                            b = 0;
                            for (c in d) {
                                if (h.call(d, c)) {
                                    b++;
                                    g = d[c];
                                    i = e[c];
                                    if (c in e) {
                                        f = i !== i && g !== g;
                                        if (!f && i !== g) {
                                            j++;
                                            e[c] = g;
                                        }
                                    } else {
                                        o++;
                                        e[c] = g;
                                        j++;
                                    }
                                }
                            }
                            if (o > b) {
                                j++;
                                for (c in e) {
                                    if (!h.call(d, c)) {
                                        o--;
                                        delete e[c];
                                    }
                                }
                            }
                        }
                        return j;
                    }
                    function q() {
                        if (n) {
                            n = false;
                            b(d, d, c);
                        } else {
                            b(d, f, c);
                        }
                        if (g) {
                            if (!O(d)) {
                                f = d;
                            } else if (x(d)) {
                                f = new Array(d.length);
                                for (var a = 0; a < d.length; a++) {
                                    f[a] = d[a];
                                }
                            } else {
                                f = {};
                                for (var e in d) {
                                    if (h.call(d, e)) {
                                        f[e] = d[e];
                                    }
                                }
                            }
                        }
                    }
                    return this.$watch(k, q);
                },
                $digest: function() {
                    var d, f, h, i, k, l, p = a, s, t, w = this, x = [], y, z, A;
                    q("$digest");
                    j.$$checkUrlChange();
                    if (this === m && e !== null) {
                        j.defer.cancel(e);
                        v();
                    }
                    c = null;
                    do {
                        l = false;
                        t = w;
                        while (n.length) {
                            try {
                                A = n.shift();
                                A.scope.$eval(A.expression, A.locals);
                            } catch (B) {
                                g(B);
                            }
                            c = null;
                        }
                        a: do {
                            if (i = t.$$watchers) {
                                k = i.length;
                                while (k--) {
                                    try {
                                        d = i[k];
                                        if (d) {
                                            if ((f = d.get(t)) !== (h = d.last) && !(d.eq ? ma(f, h) : typeof f === "number" && typeof h === "number" && isNaN(f) && isNaN(h))) {
                                                l = true;
                                                c = d;
                                                d.last = d.eq ? ka(f, null) : f;
                                                d.fn(f, h === u ? f : h, t);
                                                if (p < 5) {
                                                    y = 4 - p;
                                                    if (!x[y]) x[y] = [];
                                                    x[y].push({
                                                        msg: U(d.exp) ? "fn: " + (d.exp.name || d.exp.toString()) : d.exp,
                                                        newVal: f,
                                                        oldVal: h
                                                    });
                                                }
                                            } else if (d === c) {
                                                l = false;
                                                break a;
                                            }
                                        }
                                    } catch (B) {
                                        g(B);
                                    }
                                }
                            }
                            if (!(s = t.$$watchersCount && t.$$childHead || t !== w && t.$$nextSibling)) {
                                while (t !== w && !(s = t.$$nextSibling)) {
                                    t = t.$parent;
                                }
                            }
                        } while (t = s);
                        if ((l || n.length) && !p--) {
                            r();
                            throw b("infdig", "{0} $digest() iterations reached. Aborting!\n" + "Watchers fired in the last 5 iterations: {1}", a, x);
                        }
                    } while (l || n.length);
                    r();
                    while (o.length) {
                        try {
                            o.shift()();
                        } catch (B) {
                            g(B);
                        }
                    }
                },
                $destroy: function() {
                    if (this.$$destroyed) return;
                    var a = this.$parent;
                    this.$broadcast("$destroy");
                    this.$$destroyed = true;
                    if (this === m) {
                        j.$$applicationDestroyed();
                    }
                    s(this, -this.$$watchersCount);
                    for (var b in this.$$listenerCount) {
                        t(this, this.$$listenerCount[b], b);
                    }
                    if (a && a.$$childHead == this) a.$$childHead = this.$$nextSibling;
                    if (a && a.$$childTail == this) a.$$childTail = this.$$prevSibling;
                    if (this.$$prevSibling) this.$$prevSibling.$$nextSibling = this.$$nextSibling;
                    if (this.$$nextSibling) this.$$nextSibling.$$prevSibling = this.$$prevSibling;
                    this.$destroy = this.$digest = this.$apply = this.$evalAsync = this.$applyAsync = I;
                    this.$on = this.$watch = this.$watchGroup = function() {
                        return I;
                    };
                    this.$$listeners = {};
                    this.$parent = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = this.$root = this.$$watchers = null;
                },
                $eval: function(a, b) {
                    return i(a)(this, b);
                },
                $evalAsync: function(a, b) {
                    if (!m.$$phase && !n.length) {
                        j.defer(function() {
                            if (n.length) {
                                m.$digest();
                            }
                        });
                    }
                    n.push({
                        scope: this,
                        expression: a,
                        locals: b
                    });
                },
                $$postDigest: function(a) {
                    o.push(a);
                },
                $apply: function(a) {
                    try {
                        q("$apply");
                        try {
                            return this.$eval(a);
                        } finally {
                            r();
                        }
                    } catch (b) {
                        g(b);
                    } finally {
                        try {
                            m.$digest();
                        } catch (b) {
                            g(b);
                            throw b;
                        }
                    }
                },
                $applyAsync: function(a) {
                    var b = this;
                    a && p.push(c);
                    w();
                    function c() {
                        b.$eval(a);
                    }
                },
                $on: function(a, b) {
                    var c = this.$$listeners[a];
                    if (!c) {
                        this.$$listeners[a] = c = [];
                    }
                    c.push(b);
                    var d = this;
                    do {
                        if (!d.$$listenerCount[a]) {
                            d.$$listenerCount[a] = 0;
                        }
                        d.$$listenerCount[a]++;
                    } while (d = d.$parent);
                    var e = this;
                    return function() {
                        var d = c.indexOf(b);
                        if (d !== -1) {
                            c[d] = null;
                            t(e, 1, a);
                        }
                    };
                },
                $emit: function(a, b) {
                    var c = [], d, e = this, f = false, h = {
                        name: a,
                        targetScope: e,
                        stopPropagation: function() {
                            f = true;
                        },
                        preventDefault: function() {
                            h.defaultPrevented = true;
                        },
                        defaultPrevented: false
                    }, i = pa([ h ], arguments, 1), j, k;
                    do {
                        d = e.$$listeners[a] || c;
                        h.currentScope = e;
                        for (j = 0, k = d.length; j < k; j++) {
                            if (!d[j]) {
                                d.splice(j, 1);
                                j--;
                                k--;
                                continue;
                            }
                            try {
                                d[j].apply(null, i);
                            } catch (l) {
                                g(l);
                            }
                        }
                        if (f) {
                            h.currentScope = null;
                            return h;
                        }
                        e = e.$parent;
                    } while (e);
                    h.currentScope = null;
                    return h;
                },
                $broadcast: function(a, b) {
                    var c = this, d = c, e = c, f = {
                        name: a,
                        targetScope: c,
                        preventDefault: function() {
                            f.defaultPrevented = true;
                        },
                        defaultPrevented: false
                    };
                    if (!c.$$listenerCount[a]) return f;
                    var h = pa([ f ], arguments, 1), i, j, k;
                    while (d = e) {
                        f.currentScope = d;
                        i = d.$$listeners[a] || [];
                        for (j = 0, k = i.length; j < k; j++) {
                            if (!i[j]) {
                                i.splice(j, 1);
                                j--;
                                k--;
                                continue;
                            }
                            try {
                                i[j].apply(null, h);
                            } catch (l) {
                                g(l);
                            }
                        }
                        if (!(e = d.$$listenerCount[a] && d.$$childHead || d !== c && d.$$nextSibling)) {
                            while (d !== c && !(e = d.$$nextSibling)) {
                                d = d.$parent;
                            }
                        }
                    }
                    f.currentScope = null;
                    return f;
                }
            };
            var m = new l();
            var n = m.$$asyncQueue = [];
            var o = m.$$postDigestQueue = [];
            var p = m.$$applyAsyncQueue = [];
            return m;
            function q(a) {
                if (m.$$phase) {
                    throw b("inprog", "{0} already in progress", m.$$phase);
                }
                m.$$phase = a;
            }
            function r() {
                m.$$phase = null;
            }
            function s(a, b) {
                do {
                    a.$$watchersCount += b;
                } while (a = a.$parent);
            }
            function t(a, b, c) {
                do {
                    a.$$listenerCount[c] -= b;
                    if (a.$$listenerCount[c] === 0) {
                        delete a.$$listenerCount[c];
                    }
                } while (a = a.$parent);
            }
            function u() {}
            function v() {
                while (p.length) {
                    try {
                        p.shift()();
                    } catch (a) {
                        g(a);
                    }
                }
                e = null;
            }
            function w() {
                if (e === null) {
                    e = j.defer(function() {
                        m.$apply(v);
                    });
                }
            }
        } ];
    }
    function ge() {
        var a = /^\s*(https?|ftp|mailto|tel|file):/, b = /^\s*((https?|ftp|file|blob):|data:image\/)/;
        this.aHrefSanitizationWhitelist = function(b) {
            if (N(b)) {
                a = b;
                return this;
            }
            return a;
        };
        this.imgSrcSanitizationWhitelist = function(a) {
            if (N(a)) {
                b = a;
                return this;
            }
            return b;
        };
        this.$get = function() {
            return function c(d, e) {
                var f = e ? b : a;
                var g;
                g = te(d).href;
                if (g !== "" && !g.match(f)) {
                    return "unsafe:" + g;
                }
                return d;
            };
        };
    }
    var he = d("$sce");
    var ie = {
        HTML: "html",
        CSS: "css",
        URL: "url",
        RESOURCE_URL: "resourceUrl",
        JS: "js"
    };
    function je(a) {
        if (a === "self") {
            return a;
        } else if (Q(a)) {
            if (a.indexOf("***") > -1) {
                throw he("iwcard", "Illegal sequence *** in string matcher.  String: {0}", a);
            }
            a = ea(a).replace("\\*\\*", ".*").replace("\\*", "[^:/.?&;]*");
            return new RegExp("^" + a + "$");
        } else if (V(a)) {
            return new RegExp("^" + a.source + "$");
        } else {
            throw he("imatcher", 'Matchers may only be "self", string patterns or RegExp objects');
        }
    }
    function ke(a) {
        var b = [];
        if (N(a)) {
            y(a, function(a) {
                b.push(je(a));
            });
        }
        return b;
    }
    function le() {
        this.SCE_CONTEXTS = ie;
        var a = [ "self" ], b = [];
        this.resourceUrlWhitelist = function(b) {
            if (arguments.length) {
                a = ke(b);
            }
            return a;
        };
        this.resourceUrlBlacklist = function(a) {
            if (arguments.length) {
                b = ke(a);
            }
            return b;
        };
        this.$get = [ "$injector", function(c) {
            var d = function m(a) {
                throw he("unsafe", "Attempting to use an unsafe value in a safe context.");
            };
            if (c.has("$sanitize")) {
                d = c.get("$sanitize");
            }
            function e(a, b) {
                if (a === "self") {
                    return ue(b);
                } else {
                    return !!a.exec(b.href);
                }
            }
            function f(c) {
                var d = te(c.toString());
                var f, g, h = false;
                for (f = 0, g = a.length; f < g; f++) {
                    if (e(a[f], d)) {
                        h = true;
                        break;
                    }
                }
                if (h) {
                    for (f = 0, g = b.length; f < g; f++) {
                        if (e(b[f], d)) {
                            h = false;
                            break;
                        }
                    }
                }
                return h;
            }
            function g(a) {
                var b = function c(a) {
                    this.$$unwrapTrustedValue = function() {
                        return a;
                    };
                };
                if (a) {
                    b.prototype = new a();
                }
                b.prototype.valueOf = function d() {
                    return this.$$unwrapTrustedValue();
                };
                b.prototype.toString = function e() {
                    return this.$$unwrapTrustedValue().toString();
                };
                return b;
            }
            var h = g(), i = {};
            i[ie.HTML] = g(h);
            i[ie.CSS] = g(h);
            i[ie.URL] = g(h);
            i[ie.JS] = g(h);
            i[ie.RESOURCE_URL] = g(i[ie.URL]);
            function j(a, b) {
                var c = i.hasOwnProperty(a) ? i[a] : null;
                if (!c) {
                    throw he("icontext", "Attempted to trust a value in invalid context. Context: {0}; Value: {1}", a, b);
                }
                if (b === null || M(b) || b === "") {
                    return b;
                }
                if (typeof b !== "string") {
                    throw he("itype", "Attempted to trust a non-string value in a content requiring a string: Context: {0}", a);
                }
                return new c(b);
            }
            function k(a) {
                if (a instanceof h) {
                    return a.$$unwrapTrustedValue();
                } else {
                    return a;
                }
            }
            function l(a, b) {
                if (b === null || M(b) || b === "") {
                    return b;
                }
                var c = i.hasOwnProperty(a) ? i[a] : null;
                if (c && b instanceof c) {
                    return b.$$unwrapTrustedValue();
                }
                if (a === ie.RESOURCE_URL) {
                    if (f(b)) {
                        return b;
                    } else {
                        throw he("insecurl", "Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}", b.toString());
                    }
                } else if (a === ie.HTML) {
                    return d(b);
                }
                throw he("unsafe", "Attempting to use an unsafe value in a safe context.");
            }
            return {
                trustAs: j,
                getTrusted: l,
                valueOf: k
            };
        } ];
    }
    function me() {
        var a = true;
        this.enabled = function(b) {
            if (arguments.length) {
                a = !!b;
            }
            return a;
        };
        this.$get = [ "$parse", "$sceDelegate", function(b, c) {
            if (a && l < 8) {
                throw he("iequirks", "Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks " + "mode.  You can fix this by adding the text <!doctype html> to the top of your HTML " + "document.  See http://docs.angularjs.org/api/ng.$sce for more information.");
            }
            var d = la(ie);
            d.isEnabled = function() {
                return a;
            };
            d.trustAs = c.trustAs;
            d.getTrusted = c.getTrusted;
            d.valueOf = c.valueOf;
            if (!a) {
                d.trustAs = d.getTrusted = function(a, b) {
                    return b;
                };
                d.valueOf = J;
            }
            d.parseAs = function i(a, c) {
                var e = b(c);
                if (e.literal && e.constant) {
                    return e;
                } else {
                    return b(c, function(b) {
                        return d.getTrusted(a, b);
                    });
                }
            };
            var e = d.parseAs, f = d.getTrusted, h = d.trustAs;
            y(ie, function(a, b) {
                var c = g(b);
                d[nb("parse_as_" + c)] = function(b) {
                    return e(a, b);
                };
                d[nb("get_trusted_" + c)] = function(b) {
                    return f(a, b);
                };
                d[nb("trust_as_" + c)] = function(b) {
                    return h(a, b);
                };
            });
            return d;
        } ];
    }
    function ne() {
        this.$get = [ "$window", "$document", function(a, b) {
            var c = {}, d = G((/android (\d+)/.exec(g((a.navigator || {}).userAgent)) || [])[1]), e = /Boxee/i.test((a.navigator || {}).userAgent), f = b[0] || {}, h, i = /^(Moz|webkit|ms)(?=[A-Z])/, j = f.body && f.body.style, k = false, m = false, n;
            if (j) {
                for (var o in j) {
                    if (n = i.exec(o)) {
                        h = n[0];
                        h = h.substr(0, 1).toUpperCase() + h.substr(1);
                        break;
                    }
                }
                if (!h) {
                    h = "WebkitOpacity" in j && "webkit";
                }
                k = !!("transition" in j || h + "Transition" in j);
                m = !!("animation" in j || h + "Animation" in j);
                if (d && (!k || !m)) {
                    k = Q(j.webkitTransition);
                    m = Q(j.webkitAnimation);
                }
            }
            return {
                history: !!(a.history && a.history.pushState && !(d < 4) && !e),
                hasEvent: function(a) {
                    if (a === "input" && l <= 11) return false;
                    if (M(c[a])) {
                        var b = f.createElement("div");
                        c[a] = "on" + a in b;
                    }
                    return c[a];
                },
                csp: na(),
                vendorPrefix: h,
                transitions: k,
                animations: m,
                android: d
            };
        } ];
    }
    var vc = d("$compile");
    function oe() {
        this.$get = [ "$templateCache", "$http", "$q", "$sce", function(a, b, c, d) {
            function e(f, g) {
                e.totalPendingRequests++;
                if (!Q(f) || !a.get(f)) {
                    f = d.getTrustedResourceUrl(f);
                }
                var h = b.defaults && b.defaults.transformResponse;
                if (T(h)) {
                    h = h.filter(function(a) {
                        return a !== Uc;
                    });
                } else if (h === Uc) {
                    h = null;
                }
                var i = {
                    cache: a,
                    transformResponse: h
                };
                return b.get(f, i)["finally"](function() {
                    e.totalPendingRequests--;
                }).then(function(b) {
                    a.put(f, b.data);
                    return b.data;
                }, j);
                function j(a) {
                    if (!g) {
                        throw vc("tpload", "Failed to load template: {0} (HTTP status: {1} {2})", f, a.status, a.statusText);
                    }
                    return c.reject(a);
                }
            }
            e.totalPendingRequests = 0;
            return e;
        } ];
    }
    function pe() {
        this.$get = [ "$rootScope", "$browser", "$location", function(a, b, c) {
            var d = {};
            d.findBindings = function(a, b, c) {
                var d = a.getElementsByClassName("ng-binding");
                var e = [];
                y(d, function(a) {
                    var d = u.element(a).data("$binding");
                    if (d) {
                        y(d, function(d) {
                            if (c) {
                                var f = new RegExp("(^|\\s)" + ea(b) + "(\\s|\\||$)");
                                if (f.test(d)) {
                                    e.push(a);
                                }
                            } else {
                                if (d.indexOf(b) != -1) {
                                    e.push(a);
                                }
                            }
                        });
                    }
                });
                return e;
            };
            d.findModels = function(a, b, c) {
                var d = [ "ng-", "data-ng-", "ng\\:" ];
                for (var e = 0; e < d.length; ++e) {
                    var f = c ? "=" : "*=";
                    var g = "[" + d[e] + "model" + f + '"' + b + '"]';
                    var h = a.querySelectorAll(g);
                    if (h.length) {
                        return h;
                    }
                }
            };
            d.getLocation = function() {
                return c.url();
            };
            d.setLocation = function(b) {
                if (b !== c.url()) {
                    c.url(b);
                    a.$digest();
                }
            };
            d.whenStable = function(a) {
                b.notifyWhenNoOutstandingRequests(a);
            };
            return d;
        } ];
    }
    function qe() {
        this.$get = [ "$rootScope", "$browser", "$q", "$$q", "$exceptionHandler", function(a, b, c, d, e) {
            var f = {};
            function g(g, h, i) {
                if (!U(g)) {
                    i = h;
                    h = g;
                    g = I;
                }
                var j = qa(arguments, 3), k = N(i) && !i, l = (k ? d : c).defer(), m = l.promise, n;
                n = b.defer(function() {
                    try {
                        l.resolve(g.apply(null, j));
                    } catch (b) {
                        l.reject(b);
                        e(b);
                    } finally {
                        delete f[m.$$timeoutId];
                    }
                    if (!k) a.$apply();
                }, h);
                m.$$timeoutId = n;
                f[n] = l;
                return m;
            }
            g.cancel = function(a) {
                if (a && a.$$timeoutId in f) {
                    f[a.$$timeoutId].reject("canceled");
                    delete f[a.$$timeoutId];
                    return b.defer.cancel(a.$$timeoutId);
                }
                return false;
            };
            return g;
        } ];
    }
    var re = b.createElement("a");
    var se = te(a.location.href);
    function te(a) {
        var b = a;
        if (l) {
            re.setAttribute("href", b);
            b = re.href;
        }
        re.setAttribute("href", b);
        return {
            href: re.href,
            protocol: re.protocol ? re.protocol.replace(/:$/, "") : "",
            host: re.host,
            search: re.search ? re.search.replace(/^\?/, "") : "",
            hash: re.hash ? re.hash.replace(/^#/, "") : "",
            hostname: re.hostname,
            port: re.port,
            pathname: re.pathname.charAt(0) === "/" ? re.pathname : "/" + re.pathname
        };
    }
    function ue(a) {
        var b = Q(a) ? te(a) : a;
        return b.protocol === se.protocol && b.host === se.host;
    }
    function ve() {
        this.$get = K(a);
    }
    function we(a) {
        var b = a[0] || {};
        var c = {};
        var d = "";
        function e(a) {
            try {
                return decodeURIComponent(a);
            } catch (b) {
                return a;
            }
        }
        return function() {
            var a, f, g, h, i;
            var j = b.cookie || "";
            if (j !== d) {
                d = j;
                a = d.split("; ");
                c = {};
                for (g = 0; g < a.length; g++) {
                    f = a[g];
                    h = f.indexOf("=");
                    if (h > 0) {
                        i = e(f.substring(0, h));
                        if (M(c[i])) {
                            c[i] = e(f.substring(h + 1));
                        }
                    }
                }
            }
            return c;
        };
    }
    we.$inject = [ "$document" ];
    function xe() {
        this.$get = we;
    }
    ye.$inject = [ "$provide" ];
    function ye(a) {
        var b = "Filter";
        function c(d, e) {
            if (O(d)) {
                var f = {};
                y(d, function(a, b) {
                    f[b] = c(b, a);
                });
                return f;
            } else {
                return a.factory(d + b, e);
            }
        }
        this.register = c;
        this.$get = [ "$injector", function(a) {
            return function(c) {
                return a.get(c + b);
            };
        } ];
        c("currency", De);
        c("date", Ue);
        c("filter", ze);
        c("json", Ve);
        c("limitTo", Ye);
        c("lowercase", We);
        c("number", Ee);
        c("orderBy", Ze);
        c("uppercase", Xe);
    }
    function ze() {
        return function(a, b, c) {
            if (!x(a)) {
                if (a == null) {
                    return a;
                } else {
                    throw d("filter")("notarray", "Expected array but received: {0}", a);
                }
            }
            var e = Ce(b);
            var f;
            var g;
            switch (e) {
              case "function":
                f = b;
                break;

              case "boolean":
              case "null":
              case "number":
              case "string":
                g = true;

              case "object":
                f = Ae(b, c, g);
                break;

              default:
                return a;
            }
            return Array.prototype.filter.call(a, f);
        };
    }
    function Ae(a, b, c) {
        var d = O(a) && "$" in a;
        var e;
        if (b === true) {
            b = ma;
        } else if (!U(b)) {
            b = function(a, b) {
                if (M(a)) {
                    return false;
                }
                if (a === null || b === null) {
                    return a === b;
                }
                if (O(b) || O(a) && !L(a)) {
                    return false;
                }
                a = g("" + a);
                b = g("" + b);
                return a.indexOf(b) !== -1;
            };
        }
        e = function(e) {
            if (d && !O(e)) {
                return Be(e, a.$, b, false);
            }
            return Be(e, a, b, c);
        };
        return e;
    }
    function Be(a, b, c, d, e) {
        var f = Ce(a);
        var g = Ce(b);
        if (g === "string" && b.charAt(0) === "!") {
            return !Be(a, b.substring(1), c, d);
        } else if (T(a)) {
            return a.some(function(a) {
                return Be(a, b, c, d);
            });
        }
        switch (f) {
          case "object":
            var h;
            if (d) {
                for (h in a) {
                    if (h.charAt(0) !== "$" && Be(a[h], b, c, true)) {
                        return true;
                    }
                }
                return e ? false : Be(a, b, c, false);
            } else if (g === "object") {
                for (h in b) {
                    var i = b[h];
                    if (U(i) || M(i)) {
                        continue;
                    }
                    var j = h === "$";
                    var k = j ? a : a[h];
                    if (!Be(k, i, c, j, j)) {
                        return false;
                    }
                }
                return true;
            } else {
                return c(a, b);
            }
            break;

          case "function":
            return false;

          default:
            return c(a, b);
        }
    }
    function Ce(a) {
        return a === null ? "null" : typeof a;
    }
    De.$inject = [ "$locale" ];
    function De(a) {
        var b = a.NUMBER_FORMATS;
        return function(a, c, d) {
            if (M(c)) {
                c = b.CURRENCY_SYM;
            }
            if (M(d)) {
                d = b.PATTERNS[1].maxFrac;
            }
            return a == null ? a : Ge(a, b.PATTERNS[1], b.GROUP_SEP, b.DECIMAL_SEP, d).replace(/\u00A4/g, c);
        };
    }
    Ee.$inject = [ "$locale" ];
    function Ee(a) {
        var b = a.NUMBER_FORMATS;
        return function(a, c) {
            return a == null ? a : Ge(a, b.PATTERNS[0], b.GROUP_SEP, b.DECIMAL_SEP, c);
        };
    }
    var Fe = ".";
    function Ge(a, b, c, d, e) {
        if (O(a)) return "";
        var f = a < 0;
        a = Math.abs(a);
        var g = a === Infinity;
        if (!g && !isFinite(a)) return "";
        var h = a + "", i = "", j = false, k = [];
        if (g) i = "∞";
        if (!g && h.indexOf("e") !== -1) {
            var l = h.match(/([\d\.]+)e(-?)(\d+)/);
            if (l && l[2] == "-" && l[3] > e + 1) {
                a = 0;
            } else {
                i = h;
                j = true;
            }
        }
        if (!g && !j) {
            var m = (h.split(Fe)[1] || "").length;
            if (M(e)) {
                e = Math.min(Math.max(b.minFrac, m), b.maxFrac);
            }
            a = +(Math.round(+(a.toString() + "e" + e)).toString() + "e" + -e);
            var n = ("" + a).split(Fe);
            var o = n[0];
            n = n[1] || "";
            var p, q = 0, r = b.lgSize, s = b.gSize;
            if (o.length >= r + s) {
                q = o.length - r;
                for (p = 0; p < q; p++) {
                    if ((q - p) % s === 0 && p !== 0) {
                        i += c;
                    }
                    i += o.charAt(p);
                }
            }
            for (p = q; p < o.length; p++) {
                if ((o.length - p) % r === 0 && p !== 0) {
                    i += c;
                }
                i += o.charAt(p);
            }
            while (n.length < e) {
                n += "0";
            }
            if (e && e !== "0") i += d + n.substr(0, e);
        } else {
            if (e > 0 && a < 1) {
                i = a.toFixed(e);
                a = parseFloat(i);
                i = i.replace(Fe, d);
            }
        }
        if (a === 0) {
            f = false;
        }
        k.push(f ? b.negPre : b.posPre, i, f ? b.negSuf : b.posSuf);
        return k.join("");
    }
    function He(a, b, c) {
        var d = "";
        if (a < 0) {
            d = "-";
            a = -a;
        }
        a = "" + a;
        while (a.length < b) a = "0" + a;
        if (c) {
            a = a.substr(a.length - b);
        }
        return d + a;
    }
    function Ie(a, b, c, d) {
        c = c || 0;
        return function(e) {
            var f = e["get" + a]();
            if (c > 0 || f > -c) {
                f += c;
            }
            if (f === 0 && c == -12) f = 12;
            return He(f, b, d);
        };
    }
    function Je(a, b) {
        return function(c, d) {
            var e = c["get" + a]();
            var f = i(b ? "SHORT" + a : a);
            return d[f][e];
        };
    }
    function Ke(a, b, c) {
        var d = -1 * c;
        var e = d >= 0 ? "+" : "";
        e += He(Math[d > 0 ? "floor" : "ceil"](d / 60), 2) + He(Math.abs(d % 60), 2);
        return e;
    }
    function Le(a) {
        var b = new Date(a, 0, 1).getDay();
        return new Date(a, 0, (b <= 4 ? 5 : 12) - b);
    }
    function Me(a) {
        return new Date(a.getFullYear(), a.getMonth(), a.getDate() + (4 - a.getDay()));
    }
    function Ne(a) {
        return function(b) {
            var c = Le(b.getFullYear()), d = Me(b);
            var e = +d - +c, f = 1 + Math.round(e / 6048e5);
            return He(f, a);
        };
    }
    function Oe(a, b) {
        return a.getHours() < 12 ? b.AMPMS[0] : b.AMPMS[1];
    }
    function Pe(a, b) {
        return a.getFullYear() <= 0 ? b.ERAS[0] : b.ERAS[1];
    }
    function Qe(a, b) {
        return a.getFullYear() <= 0 ? b.ERANAMES[0] : b.ERANAMES[1];
    }
    var Re = {
        yyyy: Ie("FullYear", 4),
        yy: Ie("FullYear", 2, 0, true),
        y: Ie("FullYear", 1),
        MMMM: Je("Month"),
        MMM: Je("Month", true),
        MM: Ie("Month", 2, 1),
        M: Ie("Month", 1, 1),
        dd: Ie("Date", 2),
        d: Ie("Date", 1),
        HH: Ie("Hours", 2),
        H: Ie("Hours", 1),
        hh: Ie("Hours", 2, -12),
        h: Ie("Hours", 1, -12),
        mm: Ie("Minutes", 2),
        m: Ie("Minutes", 1),
        ss: Ie("Seconds", 2),
        s: Ie("Seconds", 1),
        sss: Ie("Milliseconds", 3),
        EEEE: Je("Day"),
        EEE: Je("Day", true),
        a: Oe,
        Z: Ke,
        ww: Ne(2),
        w: Ne(1),
        G: Pe,
        GG: Pe,
        GGG: Pe,
        GGGG: Qe
    };
    var Se = /((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/, Te = /^\-?\d+$/;
    Ue.$inject = [ "$locale" ];
    function Ue(a) {
        var b = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
        function c(a) {
            var c;
            if (c = a.match(b)) {
                var d = new Date(0), e = 0, f = 0, g = c[8] ? d.setUTCFullYear : d.setFullYear, h = c[8] ? d.setUTCHours : d.setHours;
                if (c[9]) {
                    e = G(c[9] + c[10]);
                    f = G(c[9] + c[11]);
                }
                g.call(d, G(c[1]), G(c[2]) - 1, G(c[3]));
                var i = G(c[4] || 0) - e;
                var j = G(c[5] || 0) - f;
                var k = G(c[6] || 0);
                var l = Math.round(parseFloat("0." + (c[7] || 0)) * 1e3);
                h.call(d, i, j, k, l);
                return d;
            }
            return a;
        }
        return function(b, d, e) {
            var f = "", g = [], h, i;
            d = d || "mediumDate";
            d = a.DATETIME_FORMATS[d] || d;
            if (Q(b)) {
                b = Te.test(b) ? G(b) : c(b);
            }
            if (R(b)) {
                b = new Date(b);
            }
            if (!S(b) || !isFinite(b.getTime())) {
                return b;
            }
            while (d) {
                i = Se.exec(d);
                if (i) {
                    g = pa(g, i, 1);
                    d = g.pop();
                } else {
                    g.push(d);
                    d = null;
                }
            }
            var j = b.getTimezoneOffset();
            if (e) {
                j = va(e, b.getTimezoneOffset());
                b = xa(b, e, true);
            }
            y(g, function(c) {
                h = Re[c];
                f += h ? h(b, a.DATETIME_FORMATS, j) : c.replace(/(^'|'$)/g, "").replace(/''/g, "'");
            });
            return f;
        };
    }
    function Ve() {
        return function(a, b) {
            if (M(b)) {
                b = 2;
            }
            return ta(a, b);
        };
    }
    var We = K(g);
    var Xe = K(i);
    function Ye() {
        return function(a, b, c) {
            if (Math.abs(Number(b)) === Infinity) {
                b = Number(b);
            } else {
                b = G(b);
            }
            if (isNaN(b)) return a;
            if (R(a)) a = a.toString();
            if (!T(a) && !Q(a)) return a;
            c = !c || isNaN(c) ? 0 : G(c);
            c = c < 0 && c >= -a.length ? a.length + c : c;
            if (b >= 0) {
                return a.slice(c, c + b);
            } else {
                if (c === 0) {
                    return a.slice(b, a.length);
                } else {
                    return a.slice(Math.max(0, c + b), c);
                }
            }
        };
    }
    Ze.$inject = [ "$parse" ];
    function Ze(a) {
        return function(a, c, d) {
            if (!x(a)) return a;
            if (!T(c)) {
                c = [ c ];
            }
            if (c.length === 0) {
                c = [ "+" ];
            }
            var g = b(c, d);
            g.push({
                get: function() {
                    return {};
                },
                descending: d ? -1 : 1
            });
            var h = Array.prototype.map.call(a, i);
            h.sort(j);
            a = h.map(function(a) {
                return a.value;
            });
            return a;
            function i(a, b) {
                return {
                    value: a,
                    predicateValues: g.map(function(c) {
                        return e(c.get(a), b);
                    })
                };
            }
            function j(a, b) {
                var c = 0;
                for (var d = 0, e = g.length; d < e; ++d) {
                    c = f(a.predicateValues[d], b.predicateValues[d]) * g[d].descending;
                    if (c) break;
                }
                return c;
            }
        };
        function b(b, c) {
            c = c ? -1 : 1;
            return b.map(function(b) {
                var d = 1, e = J;
                if (U(b)) {
                    e = b;
                } else if (Q(b)) {
                    if (b.charAt(0) == "+" || b.charAt(0) == "-") {
                        d = b.charAt(0) == "-" ? -1 : 1;
                        b = b.substring(1);
                    }
                    if (b !== "") {
                        e = a(b);
                        if (e.constant) {
                            var f = e();
                            e = function(a) {
                                return a[f];
                            };
                        }
                    }
                }
                return {
                    get: e,
                    descending: d * c
                };
            });
        }
        function c(a) {
            switch (typeof a) {
              case "number":
              case "boolean":
              case "string":
                return true;

              default:
                return false;
            }
        }
        function d(a, b) {
            if (typeof a.valueOf === "function") {
                a = a.valueOf();
                if (c(a)) return a;
            }
            if (L(a)) {
                a = a.toString();
                if (c(a)) return a;
            }
            return b;
        }
        function e(a, b) {
            var c = typeof a;
            if (a === null) {
                c = "string";
                a = "null";
            } else if (c === "string") {
                a = a.toLowerCase();
            } else if (c === "object") {
                a = d(a, b);
            }
            return {
                value: a,
                type: c
            };
        }
        function f(a, b) {
            var c = 0;
            if (a.type === b.type) {
                if (a.value !== b.value) {
                    c = a.value < b.value ? -1 : 1;
                }
            } else {
                c = a.type < b.type ? -1 : 1;
            }
            return c;
        }
    }
    function $e(a) {
        if (U(a)) {
            a = {
                link: a
            };
        }
        a.restrict = a.restrict || "AC";
        return K(a);
    }
    var _e = K({
        restrict: "E",
        compile: function(a, b) {
            if (!b.href && !b.xlinkHref) {
                return function(a, b) {
                    if (b[0].nodeName.toLowerCase() !== "a") return;
                    var c = r.call(b.prop("href")) === "[object SVGAnimatedString]" ? "xlink:href" : "href";
                    b.on("click", function(a) {
                        if (!b.attr(c)) {
                            a.preventDefault();
                        }
                    });
                };
            }
        }
    });
    var af = {};
    y(Pb, function(a, b) {
        if (a == "multiple") return;
        function c(a, c, e) {
            a.$watch(e[d], function f(a) {
                e.$set(b, !!a);
            });
        }
        var d = yc("ng-" + b);
        var e = c;
        if (a === "checked") {
            e = function(a, b, e) {
                if (e.ngModel !== e[d]) {
                    c(a, b, e);
                }
            };
        }
        af[d] = function() {
            return {
                restrict: "A",
                priority: 100,
                link: e
            };
        };
    });
    y(Rb, function(a, b) {
        af[b] = function() {
            return {
                priority: 100,
                link: function(a, c, d) {
                    if (b === "ngPattern" && d.ngPattern.charAt(0) == "/") {
                        var f = d.ngPattern.match(e);
                        if (f) {
                            d.$set("ngPattern", new RegExp(f[1], f[2]));
                            return;
                        }
                    }
                    a.$watch(d[b], function g(a) {
                        d.$set(b, a);
                    });
                }
            };
        };
    });
    y([ "src", "srcset", "href" ], function(a) {
        var b = yc("ng-" + a);
        af[b] = function() {
            return {
                priority: 99,
                link: function(c, d, e) {
                    var f = a, g = a;
                    if (a === "href" && r.call(d.prop("href")) === "[object SVGAnimatedString]") {
                        g = "xlinkHref";
                        e.$attr[g] = "xlink:href";
                        f = null;
                    }
                    e.$observe(b, function(b) {
                        if (!b) {
                            if (a === "href") {
                                e.$set(g, null);
                            }
                            return;
                        }
                        e.$set(g, b);
                        if (l && f) d.prop(f, e[g]);
                    });
                }
            };
        };
    });
    var bf = {
        $addControl: I,
        $$renameControl: df,
        $removeControl: I,
        $setValidity: I,
        $setDirty: I,
        $setPristine: I,
        $setSubmitted: I
    }, cf = "ng-submitted";
    function df(a, b) {
        a.$name = b;
    }
    ef.$inject = [ "$element", "$attrs", "$scope", "$animate", "$interpolate" ];
    function ef(a, b, d, e, f) {
        var g = this, h = [];
        g.$error = {};
        g.$$success = {};
        g.$pending = c;
        g.$name = f(b.name || b.ngForm || "")(d);
        g.$dirty = false;
        g.$pristine = true;
        g.$valid = true;
        g.$invalid = false;
        g.$submitted = false;
        g.$$parentForm = bf;
        g.$rollbackViewValue = function() {
            y(h, function(a) {
                a.$rollbackViewValue();
            });
        };
        g.$commitViewValue = function() {
            y(h, function(a) {
                a.$commitViewValue();
            });
        };
        g.$addControl = function(a) {
            Ra(a.$name, "input");
            h.push(a);
            if (a.$name) {
                g[a.$name] = a;
            }
            a.$$parentForm = g;
        };
        g.$$renameControl = function(a, b) {
            var c = a.$name;
            if (g[c] === a) {
                delete g[c];
            }
            g[b] = a;
            a.$name = b;
        };
        g.$removeControl = function(a) {
            if (a.$name && g[a.$name] === a) {
                delete g[a.$name];
            }
            y(g.$pending, function(b, c) {
                g.$setValidity(c, null, a);
            });
            y(g.$error, function(b, c) {
                g.$setValidity(c, null, a);
            });
            y(g.$$success, function(b, c) {
                g.$setValidity(c, null, a);
            });
            ja(h, a);
            a.$$parentForm = bf;
        };
        kg({
            ctrl: this,
            $element: a,
            set: function(a, b, c) {
                var d = a[b];
                if (!d) {
                    a[b] = [ c ];
                } else {
                    var e = d.indexOf(c);
                    if (e === -1) {
                        d.push(c);
                    }
                }
            },
            unset: function(a, b, c) {
                var d = a[b];
                if (!d) {
                    return;
                }
                ja(d, c);
                if (d.length === 0) {
                    delete a[b];
                }
            },
            $animate: e
        });
        g.$setDirty = function() {
            e.removeClass(a, ag);
            e.addClass(a, bg);
            g.$dirty = true;
            g.$pristine = false;
            g.$$parentForm.$setDirty();
        };
        g.$setPristine = function() {
            e.setClass(a, ag, bg + " " + cf);
            g.$dirty = false;
            g.$pristine = true;
            g.$submitted = false;
            y(h, function(a) {
                a.$setPristine();
            });
        };
        g.$setUntouched = function() {
            y(h, function(a) {
                a.$setUntouched();
            });
        };
        g.$setSubmitted = function() {
            e.addClass(a, cf);
            g.$submitted = true;
            g.$$parentForm.$setSubmitted();
        };
    }
    var ff = function(a) {
        return [ "$timeout", "$parse", function(b, d) {
            var e = {
                name: "form",
                restrict: a ? "EAC" : "E",
                require: [ "form", "^^?form" ],
                controller: ef,
                compile: function g(d, e) {
                    d.addClass(ag).addClass($f);
                    var g = e.name ? "name" : a && e.ngForm ? "ngForm" : false;
                    return {
                        pre: function h(a, d, e, i) {
                            var j = i[0];
                            if (!("action" in e)) {
                                var k = function(b) {
                                    a.$apply(function() {
                                        j.$commitViewValue();
                                        j.$setSubmitted();
                                    });
                                    b.preventDefault();
                                };
                                gb(d[0], "submit", k);
                                d.on("$destroy", function() {
                                    b(function() {
                                        hb(d[0], "submit", k);
                                    }, 0, false);
                                });
                            }
                            var l = i[1] || j.$$parentForm;
                            l.$addControl(j);
                            var m = g ? f(j.$name) : I;
                            if (g) {
                                m(a, j);
                                e.$observe(g, function(b) {
                                    if (j.$name === b) return;
                                    m(a, c);
                                    j.$$parentForm.$$renameControl(j, b);
                                    m = f(j.$name);
                                    m(a, j);
                                });
                            }
                            d.on("$destroy", function() {
                                j.$$parentForm.$removeControl(j);
                                m(a, c);
                                E(j, bf);
                            });
                        }
                    };
                }
            };
            return e;
            function f(a) {
                if (a === "") {
                    return d('this[""]').assign;
                }
                return d(a).assign || I;
            }
        } ];
    };
    var gf = ff();
    var hf = ff(true);
    var jf = /\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/;
    var kf = /^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;
    var lf = /^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i;
    var mf = /^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/;
    var nf = /^(\d{4})-(\d{2})-(\d{2})$/;
    var of = /^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;
    var pf = /^(\d{4})-W(\d\d)$/;
    var qf = /^(\d{4})-(\d\d)$/;
    var rf = /^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;
    var sf = {
        text: uf,
        date: yf("date", nf, xf(nf, [ "yyyy", "MM", "dd" ]), "yyyy-MM-dd"),
        "datetime-local": yf("datetimelocal", of, xf(of, [ "yyyy", "MM", "dd", "HH", "mm", "ss", "sss" ]), "yyyy-MM-ddTHH:mm:ss.sss"),
        time: yf("time", rf, xf(rf, [ "HH", "mm", "ss", "sss" ]), "HH:mm:ss.sss"),
        week: yf("week", pf, wf, "yyyy-Www"),
        month: yf("month", qf, xf(qf, [ "yyyy", "MM" ]), "yyyy-MM"),
        number: Af,
        url: Bf,
        email: Cf,
        radio: Df,
        checkbox: Ff,
        hidden: I,
        button: I,
        submit: I,
        reset: I,
        file: I
    };
    function tf(a) {
        a.$formatters.push(function(b) {
            return a.$isEmpty(b) ? b : b.toString();
        });
    }
    function uf(a, b, c, d, e, f) {
        vf(a, b, c, d, e, f);
        tf(d);
    }
    function vf(a, b, c, d, e, f) {
        var h = g(b[0].type);
        if (!e.android) {
            var i = false;
            b.on("compositionstart", function(a) {
                i = true;
            });
            b.on("compositionend", function() {
                i = false;
                j();
            });
        }
        var j = function(a) {
            if (k) {
                f.defer.cancel(k);
                k = null;
            }
            if (i) return;
            var e = b.val(), g = a && a.type;
            if (h !== "password" && (!c.ngTrim || c.ngTrim !== "false")) {
                e = da(e);
            }
            if (d.$viewValue !== e || e === "" && d.$$hasNativeValidators) {
                d.$setViewValue(e, g);
            }
        };
        if (e.hasEvent("input")) {
            b.on("input", j);
        } else {
            var k;
            var l = function(a, b, c) {
                if (!k) {
                    k = f.defer(function() {
                        k = null;
                        if (!b || b.value !== c) {
                            j(a);
                        }
                    });
                }
            };
            b.on("keydown", function(a) {
                var b = a.keyCode;
                if (b === 91 || 15 < b && b < 19 || 37 <= b && b <= 40) return;
                l(a, this, this.value);
            });
            if (e.hasEvent("paste")) {
                b.on("paste cut", l);
            }
        }
        b.on("change", j);
        d.$render = function() {
            var a = d.$isEmpty(d.$viewValue) ? "" : d.$viewValue;
            if (b.val() !== a) {
                b.val(a);
            }
        };
    }
    function wf(a, b) {
        if (S(a)) {
            return a;
        }
        if (Q(a)) {
            pf.lastIndex = 0;
            var c = pf.exec(a);
            if (c) {
                var d = +c[1], e = +c[2], f = 0, g = 0, h = 0, i = 0, j = Le(d), k = (e - 1) * 7;
                if (b) {
                    f = b.getHours();
                    g = b.getMinutes();
                    h = b.getSeconds();
                    i = b.getMilliseconds();
                }
                return new Date(d, 0, j.getDate() + k, f, g, h, i);
            }
        }
        return NaN;
    }
    function xf(a, b) {
        return function(c, d) {
            var e, f;
            if (S(c)) {
                return c;
            }
            if (Q(c)) {
                if (c.charAt(0) == '"' && c.charAt(c.length - 1) == '"') {
                    c = c.substring(1, c.length - 1);
                }
                if (jf.test(c)) {
                    return new Date(c);
                }
                a.lastIndex = 0;
                e = a.exec(c);
                if (e) {
                    e.shift();
                    if (d) {
                        f = {
                            yyyy: d.getFullYear(),
                            MM: d.getMonth() + 1,
                            dd: d.getDate(),
                            HH: d.getHours(),
                            mm: d.getMinutes(),
                            ss: d.getSeconds(),
                            sss: d.getMilliseconds() / 1e3
                        };
                    } else {
                        f = {
                            yyyy: 1970,
                            MM: 1,
                            dd: 1,
                            HH: 0,
                            mm: 0,
                            ss: 0,
                            sss: 0
                        };
                    }
                    y(e, function(a, c) {
                        if (c < b.length) {
                            f[b[c]] = +a;
                        }
                    });
                    return new Date(f.yyyy, f.MM - 1, f.dd, f.HH, f.mm, f.ss || 0, f.sss * 1e3 || 0);
                }
            }
            return NaN;
        };
    }
    function yf(a, b, d, e) {
        return function f(g, h, i, j, k, l, m) {
            zf(g, h, i, j);
            vf(g, h, i, j, k, l);
            var n = j && j.$options && j.$options.timezone;
            var o;
            j.$$parserName = a;
            j.$parsers.push(function(a) {
                if (j.$isEmpty(a)) return null;
                if (b.test(a)) {
                    var e = d(a, o);
                    if (n) {
                        e = xa(e, n);
                    }
                    return e;
                }
                return c;
            });
            j.$formatters.push(function(a) {
                if (a && !S(a)) {
                    throw fg("datefmt", "Expected `{0}` to be a date", a);
                }
                if (r(a)) {
                    o = a;
                    if (o && n) {
                        o = xa(o, n, true);
                    }
                    return m("date")(a, e, n);
                } else {
                    o = null;
                    return "";
                }
            });
            if (N(i.min) || i.ngMin) {
                var p;
                j.$validators.min = function(a) {
                    return !r(a) || M(p) || d(a) >= p;
                };
                i.$observe("min", function(a) {
                    p = s(a);
                    j.$validate();
                });
            }
            if (N(i.max) || i.ngMax) {
                var q;
                j.$validators.max = function(a) {
                    return !r(a) || M(q) || d(a) <= q;
                };
                i.$observe("max", function(a) {
                    q = s(a);
                    j.$validate();
                });
            }
            function r(a) {
                return a && !(a.getTime && a.getTime() !== a.getTime());
            }
            function s(a) {
                return N(a) && !S(a) ? d(a) || c : a;
            }
        };
    }
    function zf(a, b, d, e) {
        var g = b[0];
        var h = e.$$hasNativeValidators = O(g.validity);
        if (h) {
            e.$parsers.push(function(a) {
                var d = b.prop(f) || {};
                return d.badInput && !d.typeMismatch ? c : a;
            });
        }
    }
    function Af(a, b, d, e, f, g) {
        zf(a, b, d, e);
        vf(a, b, d, e, f, g);
        e.$$parserName = "number";
        e.$parsers.push(function(a) {
            if (e.$isEmpty(a)) return null;
            if (mf.test(a)) return parseFloat(a);
            return c;
        });
        e.$formatters.push(function(a) {
            if (!e.$isEmpty(a)) {
                if (!R(a)) {
                    throw fg("numfmt", "Expected `{0}` to be a number", a);
                }
                a = a.toString();
            }
            return a;
        });
        if (N(d.min) || d.ngMin) {
            var h;
            e.$validators.min = function(a) {
                return e.$isEmpty(a) || M(h) || a >= h;
            };
            d.$observe("min", function(a) {
                if (N(a) && !R(a)) {
                    a = parseFloat(a, 10);
                }
                h = R(a) && !isNaN(a) ? a : c;
                e.$validate();
            });
        }
        if (N(d.max) || d.ngMax) {
            var i;
            e.$validators.max = function(a) {
                return e.$isEmpty(a) || M(i) || a <= i;
            };
            d.$observe("max", function(a) {
                if (N(a) && !R(a)) {
                    a = parseFloat(a, 10);
                }
                i = R(a) && !isNaN(a) ? a : c;
                e.$validate();
            });
        }
    }
    function Bf(a, b, c, d, e, f) {
        vf(a, b, c, d, e, f);
        tf(d);
        d.$$parserName = "url";
        d.$validators.url = function(a, b) {
            var c = a || b;
            return d.$isEmpty(c) || kf.test(c);
        };
    }
    function Cf(a, b, c, d, e, f) {
        vf(a, b, c, d, e, f);
        tf(d);
        d.$$parserName = "email";
        d.$validators.email = function(a, b) {
            var c = a || b;
            return d.$isEmpty(c) || lf.test(c);
        };
    }
    function Df(a, b, c, d) {
        if (M(c.name)) {
            b.attr("name", B());
        }
        var e = function(a) {
            if (b[0].checked) {
                d.$setViewValue(c.value, a && a.type);
            }
        };
        b.on("click", e);
        d.$render = function() {
            var a = c.value;
            b[0].checked = a == d.$viewValue;
        };
        c.$observe("value", d.$render);
    }
    function Ef(a, b, c, d, e) {
        var f;
        if (N(d)) {
            f = a(d);
            if (!f.constant) {
                throw fg("constexpr", "Expected constant expression for `{0}`, but saw " + "`{1}`.", c, d);
            }
            return f(b);
        }
        return e;
    }
    function Ff(a, b, c, d, e, f, g, h) {
        var i = Ef(h, a, "ngTrueValue", c.ngTrueValue, true);
        var j = Ef(h, a, "ngFalseValue", c.ngFalseValue, false);
        var k = function(a) {
            d.$setViewValue(b[0].checked, a && a.type);
        };
        b.on("click", k);
        d.$render = function() {
            b[0].checked = d.$viewValue;
        };
        d.$isEmpty = function(a) {
            return a === false;
        };
        d.$formatters.push(function(a) {
            return ma(a, i);
        });
        d.$parsers.push(function(a) {
            return a ? i : j;
        });
    }
    var Gf = [ "$browser", "$sniffer", "$filter", "$parse", function(a, b, c, d) {
        return {
            restrict: "E",
            require: [ "?ngModel" ],
            link: {
                pre: function(e, f, h, i) {
                    if (i[0]) {
                        (sf[g(h.type)] || sf.text)(e, f, h, i[0], b, a, c, d);
                    }
                }
            }
        };
    } ];
    var Hf = /^(true|false|\d+)$/;
    var If = function() {
        return {
            restrict: "A",
            priority: 100,
            compile: function(a, b) {
                if (Hf.test(b.ngValue)) {
                    return function c(a, b, d) {
                        d.$set("value", a.$eval(d.ngValue));
                    };
                } else {
                    return function d(a, b, c) {
                        a.$watch(c.ngValue, function d(a) {
                            c.$set("value", a);
                        });
                    };
                }
            }
        };
    };
    var Jf = [ "$compile", function(a) {
        return {
            restrict: "AC",
            compile: function b(c) {
                a.$$addBindingClass(c);
                return function d(b, c, e) {
                    a.$$addBindingInfo(c, e.ngBind);
                    c = c[0];
                    b.$watch(e.ngBind, function f(a) {
                        c.textContent = M(a) ? "" : a;
                    });
                };
            }
        };
    } ];
    var Kf = [ "$interpolate", "$compile", function(a, b) {
        return {
            compile: function c(d) {
                b.$$addBindingClass(d);
                return function e(c, d, f) {
                    var g = a(d.attr(f.$attr.ngBindTemplate));
                    b.$$addBindingInfo(d, g.expressions);
                    d = d[0];
                    f.$observe("ngBindTemplate", function(a) {
                        d.textContent = M(a) ? "" : a;
                    });
                };
            }
        };
    } ];
    var Lf = [ "$sce", "$parse", "$compile", function(a, b, c) {
        return {
            restrict: "A",
            compile: function d(e, f) {
                var g = b(f.ngBindHtml);
                var h = b(f.ngBindHtml, function i(a) {
                    return (a || "").toString();
                });
                c.$$addBindingClass(e);
                return function j(b, d, e) {
                    c.$$addBindingInfo(d, e.ngBindHtml);
                    b.$watch(h, function f() {
                        d.html(a.getTrustedHtml(g(b)) || "");
                    });
                };
            }
        };
    } ];
    var Mf = K({
        restrict: "A",
        require: "ngModel",
        link: function(a, b, c, d) {
            d.$viewChangeListeners.push(function() {
                a.$eval(c.ngChange);
            });
        }
    });
    function Nf(a, b) {
        a = "ngClass" + a;
        return [ "$animate", function(c) {
            return {
                restrict: "AC",
                link: function(f, g, h) {
                    var i;
                    f.$watch(h[a], n, true);
                    h.$observe("class", function(b) {
                        n(f.$eval(h[a]));
                    });
                    if (a !== "ngClass") {
                        f.$watch("$index", function(c, d) {
                            var g = c & 1;
                            if (g !== (d & 1)) {
                                var i = e(f.$eval(h[a]));
                                g === b ? j(i) : k(i);
                            }
                        });
                    }
                    function j(a) {
                        var b = l(a, 1);
                        h.$addClass(b);
                    }
                    function k(a) {
                        var b = l(a, -1);
                        h.$removeClass(b);
                    }
                    function l(a, b) {
                        var c = g.data("$classCounts") || Ua();
                        var d = [];
                        y(a, function(a) {
                            if (b > 0 || c[a]) {
                                c[a] = (c[a] || 0) + b;
                                if (c[a] === +(b > 0)) {
                                    d.push(a);
                                }
                            }
                        });
                        g.data("$classCounts", c);
                        return d.join(" ");
                    }
                    function m(a, b) {
                        var e = d(b, a);
                        var f = d(a, b);
                        e = l(e, 1);
                        f = l(f, -1);
                        if (e && e.length) {
                            c.addClass(g, e);
                        }
                        if (f && f.length) {
                            c.removeClass(g, f);
                        }
                    }
                    function n(a) {
                        if (b === true || f.$index % 2 === b) {
                            var c = e(a || []);
                            if (!i) {
                                j(c);
                            } else if (!ma(a, i)) {
                                var d = e(i);
                                m(d, c);
                            }
                        }
                        i = la(a);
                    }
                }
            };
            function d(a, b) {
                var c = [];
                a: for (var d = 0; d < a.length; d++) {
                    var e = a[d];
                    for (var f = 0; f < b.length; f++) {
                        if (e == b[f]) continue a;
                    }
                    c.push(e);
                }
                return c;
            }
            function e(a) {
                var b = [];
                if (T(a)) {
                    y(a, function(a) {
                        b = b.concat(e(a));
                    });
                    return b;
                } else if (Q(a)) {
                    return a.split(" ");
                } else if (O(a)) {
                    y(a, function(a, c) {
                        if (a) {
                            b = b.concat(c.split(" "));
                        }
                    });
                    return b;
                }
                return a;
            }
        } ];
    }
    var Of = Nf("", true);
    var Pf = Nf("Odd", 0);
    var Qf = Nf("Even", 1);
    var Rf = $e({
        compile: function(a, b) {
            b.$set("ngCloak", c);
            a.removeClass("ng-cloak");
        }
    });
    var Sf = [ function() {
        return {
            restrict: "A",
            scope: true,
            controller: "@",
            priority: 500
        };
    } ];
    var Tf = {};
    var Uf = {
        blur: true,
        focus: true
    };
    y("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "), function(a) {
        var b = yc("ng-" + a);
        Tf[b] = [ "$parse", "$rootScope", function(c, d) {
            return {
                restrict: "A",
                compile: function(e, f) {
                    var g = c(f[b], null, true);
                    return function h(b, c) {
                        c.on(a, function(c) {
                            var e = function() {
                                g(b, {
                                    $event: c
                                });
                            };
                            if (Uf[a] && d.$$phase) {
                                b.$evalAsync(e);
                            } else {
                                b.$apply(e);
                            }
                        });
                    };
                }
            };
        } ];
    });
    var Vf = [ "$animate", function(a) {
        return {
            multiElement: true,
            transclude: "element",
            priority: 600,
            terminal: true,
            restrict: "A",
            $$tlb: true,
            link: function(c, d, e, f, g) {
                var h, i, j;
                c.$watch(e.ngIf, function k(c) {
                    if (c) {
                        if (!i) {
                            g(function(c, f) {
                                i = f;
                                c[c.length++] = b.createComment(" end ngIf: " + e.ngIf + " ");
                                h = {
                                    clone: c
                                };
                                a.enter(c, d.parent(), d);
                            });
                        }
                    } else {
                        if (j) {
                            j.remove();
                            j = null;
                        }
                        if (i) {
                            i.$destroy();
                            i = null;
                        }
                        if (h) {
                            j = Ta(h.clone);
                            a.leave(j).then(function() {
                                j = null;
                            });
                            h = null;
                        }
                    }
                });
            }
        };
    } ];
    var Wf = [ "$templateRequest", "$anchorScroll", "$animate", function(a, b, c) {
        return {
            restrict: "ECA",
            priority: 400,
            terminal: true,
            transclude: "element",
            controller: u.noop,
            compile: function(d, e) {
                var f = e.ngInclude || e.src, g = e.onload || "", h = e.autoscroll;
                return function(d, e, i, j, k) {
                    var l = 0, m, n, o;
                    var p = function() {
                        if (n) {
                            n.remove();
                            n = null;
                        }
                        if (m) {
                            m.$destroy();
                            m = null;
                        }
                        if (o) {
                            c.leave(o).then(function() {
                                n = null;
                            });
                            n = o;
                            o = null;
                        }
                    };
                    d.$watch(f, function q(f) {
                        var i = function() {
                            if (N(h) && (!h || d.$eval(h))) {
                                b();
                            }
                        };
                        var n = ++l;
                        if (f) {
                            a(f, true).then(function(a) {
                                if (n !== l) return;
                                var b = d.$new();
                                j.template = a;
                                var h = k(b, function(a) {
                                    p();
                                    c.enter(a, null, e).then(i);
                                });
                                m = b;
                                o = h;
                                m.$emit("$includeContentLoaded", f);
                                d.$eval(g);
                            }, function() {
                                if (n === l) {
                                    p();
                                    d.$emit("$includeContentError", f);
                                }
                            });
                            d.$emit("$includeContentRequested", f);
                        } else {
                            p();
                            j.template = null;
                        }
                    });
                };
            }
        };
    } ];
    var Xf = [ "$compile", function(a) {
        return {
            restrict: "ECA",
            priority: -400,
            require: "ngInclude",
            link: function(c, d, e, f) {
                if (/SVG/.test(d[0].toString())) {
                    d.empty();
                    a(wb(f.template, b).childNodes)(c, function g(a) {
                        d.append(a);
                    }, {
                        futureParentElement: d
                    });
                    return;
                }
                d.html(f.template);
                a(d.contents())(c);
            }
        };
    } ];
    var Yf = $e({
        priority: 450,
        compile: function() {
            return {
                pre: function(a, b, c) {
                    a.$eval(c.ngInit);
                }
            };
        }
    });
    var Zf = function() {
        return {
            restrict: "A",
            priority: 100,
            require: "ngModel",
            link: function(a, b, d, e) {
                var f = b.attr(d.$attr.ngList) || ", ";
                var g = d.ngTrim !== "false";
                var h = g ? da(f) : f;
                var i = function(a) {
                    if (M(a)) return;
                    var b = [];
                    if (a) {
                        y(a.split(h), function(a) {
                            if (a) b.push(g ? da(a) : a);
                        });
                    }
                    return b;
                };
                e.$parsers.push(i);
                e.$formatters.push(function(a) {
                    if (T(a)) {
                        return a.join(f);
                    }
                    return c;
                });
                e.$isEmpty = function(a) {
                    return !a || !a.length;
                };
            }
        };
    };
    var $f = "ng-valid", _f = "ng-invalid", ag = "ng-pristine", bg = "ng-dirty", cg = "ng-untouched", dg = "ng-touched", eg = "ng-pending";
    var fg = d("ngModel");
    var gg = [ "$scope", "$exceptionHandler", "$attrs", "$element", "$parse", "$animate", "$timeout", "$rootScope", "$q", "$interpolate", function(a, b, d, e, f, g, h, i, j, k) {
        this.$viewValue = Number.NaN;
        this.$modelValue = Number.NaN;
        this.$$rawModelValue = c;
        this.$validators = {};
        this.$asyncValidators = {};
        this.$parsers = [];
        this.$formatters = [];
        this.$viewChangeListeners = [];
        this.$untouched = true;
        this.$touched = false;
        this.$pristine = true;
        this.$dirty = false;
        this.$valid = true;
        this.$invalid = false;
        this.$error = {};
        this.$$success = {};
        this.$pending = c;
        this.$name = k(d.name || "", false)(a);
        this.$$parentForm = bf;
        var l = f(d.ngModel), m = l.assign, n = l, o = m, p = null, q, r = this;
        this.$$setOptions = function(a) {
            r.$options = a;
            if (a && a.getterSetter) {
                var b = f(d.ngModel + "()"), c = f(d.ngModel + "($$$p)");
                n = function(a) {
                    var c = l(a);
                    if (U(c)) {
                        c = b(a);
                    }
                    return c;
                };
                o = function(a, b) {
                    if (U(l(a))) {
                        c(a, {
                            $$$p: r.$modelValue
                        });
                    } else {
                        m(a, r.$modelValue);
                    }
                };
            } else if (!l.assign) {
                throw fg("nonassign", "Expression '{0}' is non-assignable. Element: {1}", d.ngModel, ya(e));
            }
        };
        this.$render = I;
        this.$isEmpty = function(a) {
            return M(a) || a === "" || a === null || a !== a;
        };
        var s = 0;
        kg({
            ctrl: this,
            $element: e,
            set: function(a, b) {
                a[b] = true;
            },
            unset: function(a, b) {
                delete a[b];
            },
            $animate: g
        });
        this.$setPristine = function() {
            r.$dirty = false;
            r.$pristine = true;
            g.removeClass(e, bg);
            g.addClass(e, ag);
        };
        this.$setDirty = function() {
            r.$dirty = true;
            r.$pristine = false;
            g.removeClass(e, ag);
            g.addClass(e, bg);
            r.$$parentForm.$setDirty();
        };
        this.$setUntouched = function() {
            r.$touched = false;
            r.$untouched = true;
            g.setClass(e, cg, dg);
        };
        this.$setTouched = function() {
            r.$touched = true;
            r.$untouched = false;
            g.setClass(e, dg, cg);
        };
        this.$rollbackViewValue = function() {
            h.cancel(p);
            r.$viewValue = r.$$lastCommittedViewValue;
            r.$render();
        };
        this.$validate = function() {
            if (R(r.$modelValue) && isNaN(r.$modelValue)) {
                return;
            }
            var a = r.$$lastCommittedViewValue;
            var b = r.$$rawModelValue;
            var d = r.$valid;
            var e = r.$modelValue;
            var f = r.$options && r.$options.allowInvalid;
            r.$$runValidators(b, a, function(a) {
                if (!f && d !== a) {
                    r.$modelValue = a ? b : c;
                    if (r.$modelValue !== e) {
                        r.$$writeModelToScope();
                    }
                }
            });
        };
        this.$$runValidators = function(a, b, d) {
            s++;
            var e = s;
            if (!f()) {
                k(false);
                return;
            }
            if (!g()) {
                k(false);
                return;
            }
            h();
            function f() {
                var a = r.$$parserName || "parse";
                if (M(q)) {
                    i(a, null);
                } else {
                    if (!q) {
                        y(r.$validators, function(a, b) {
                            i(b, null);
                        });
                        y(r.$asyncValidators, function(a, b) {
                            i(b, null);
                        });
                    }
                    i(a, q);
                    return q;
                }
                return true;
            }
            function g() {
                var c = true;
                y(r.$validators, function(d, e) {
                    var f = d(a, b);
                    c = c && f;
                    i(e, f);
                });
                if (!c) {
                    y(r.$asyncValidators, function(a, b) {
                        i(b, null);
                    });
                    return false;
                }
                return true;
            }
            function h() {
                var d = [];
                var e = true;
                y(r.$asyncValidators, function(f, g) {
                    var h = f(a, b);
                    if (!aa(h)) {
                        throw fg("$asyncValidators", "Expected asynchronous validator to return a promise but got '{0}' instead.", h);
                    }
                    i(g, c);
                    d.push(h.then(function() {
                        i(g, true);
                    }, function(a) {
                        e = false;
                        i(g, false);
                    }));
                });
                if (!d.length) {
                    k(true);
                } else {
                    j.all(d).then(function() {
                        k(e);
                    }, I);
                }
            }
            function i(a, b) {
                if (e === s) {
                    r.$setValidity(a, b);
                }
            }
            function k(a) {
                if (e === s) {
                    d(a);
                }
            }
        };
        this.$commitViewValue = function() {
            var a = r.$viewValue;
            h.cancel(p);
            if (r.$$lastCommittedViewValue === a && (a !== "" || !r.$$hasNativeValidators)) {
                return;
            }
            r.$$lastCommittedViewValue = a;
            if (r.$pristine) {
                this.$setDirty();
            }
            this.$$parseAndValidate();
        };
        this.$$parseAndValidate = function() {
            var b = r.$$lastCommittedViewValue;
            var d = b;
            q = M(d) ? c : true;
            if (q) {
                for (var e = 0; e < r.$parsers.length; e++) {
                    d = r.$parsers[e](d);
                    if (M(d)) {
                        q = false;
                        break;
                    }
                }
            }
            if (R(r.$modelValue) && isNaN(r.$modelValue)) {
                r.$modelValue = n(a);
            }
            var f = r.$modelValue;
            var g = r.$options && r.$options.allowInvalid;
            r.$$rawModelValue = d;
            if (g) {
                r.$modelValue = d;
                h();
            }
            r.$$runValidators(d, r.$$lastCommittedViewValue, function(a) {
                if (!g) {
                    r.$modelValue = a ? d : c;
                    h();
                }
            });
            function h() {
                if (r.$modelValue !== f) {
                    r.$$writeModelToScope();
                }
            }
        };
        this.$$writeModelToScope = function() {
            o(a, r.$modelValue);
            y(r.$viewChangeListeners, function(a) {
                try {
                    a();
                } catch (c) {
                    b(c);
                }
            });
        };
        this.$setViewValue = function(a, b) {
            r.$viewValue = a;
            if (!r.$options || r.$options.updateOnDefault) {
                r.$$debounceViewValueCommit(b);
            }
        };
        this.$$debounceViewValueCommit = function(b) {
            var c = 0, d = r.$options, e;
            if (d && N(d.debounce)) {
                e = d.debounce;
                if (R(e)) {
                    c = e;
                } else if (R(e[b])) {
                    c = e[b];
                } else if (R(e["default"])) {
                    c = e["default"];
                }
            }
            h.cancel(p);
            if (c) {
                p = h(function() {
                    r.$commitViewValue();
                }, c);
            } else if (i.$$phase) {
                r.$commitViewValue();
            } else {
                a.$apply(function() {
                    r.$commitViewValue();
                });
            }
        };
        a.$watch(function t() {
            var b = n(a);
            if (b !== r.$modelValue && (r.$modelValue === r.$modelValue || b === b)) {
                r.$modelValue = r.$$rawModelValue = b;
                q = c;
                var d = r.$formatters, e = d.length;
                var f = b;
                while (e--) {
                    f = d[e](f);
                }
                if (r.$viewValue !== f) {
                    r.$viewValue = r.$$lastCommittedViewValue = f;
                    r.$render();
                    r.$$runValidators(b, f, I);
                }
            }
            return b;
        });
    } ];
    var hg = [ "$rootScope", function(a) {
        return {
            restrict: "A",
            require: [ "ngModel", "^?form", "^?ngModelOptions" ],
            controller: gg,
            priority: 1,
            compile: function b(c) {
                c.addClass(ag).addClass(cg).addClass($f);
                return {
                    pre: function d(a, b, c, e) {
                        var f = e[0], g = e[1] || f.$$parentForm;
                        f.$$setOptions(e[2] && e[2].$options);
                        g.$addControl(f);
                        c.$observe("name", function(a) {
                            if (f.$name !== a) {
                                f.$$parentForm.$$renameControl(f, a);
                            }
                        });
                        a.$on("$destroy", function() {
                            f.$$parentForm.$removeControl(f);
                        });
                    },
                    post: function e(b, c, d, f) {
                        var g = f[0];
                        if (g.$options && g.$options.updateOn) {
                            c.on(g.$options.updateOn, function(a) {
                                g.$$debounceViewValueCommit(a && a.type);
                            });
                        }
                        c.on("blur", function(c) {
                            if (g.$touched) return;
                            if (a.$$phase) {
                                b.$evalAsync(g.$setTouched);
                            } else {
                                b.$apply(g.$setTouched);
                            }
                        });
                    }
                };
            }
        };
    } ];
    var ig = /(\s+|^)default(\s+|$)/;
    var jg = function() {
        return {
            restrict: "A",
            controller: [ "$scope", "$attrs", function(a, b) {
                var c = this;
                this.$options = ka(a.$eval(b.ngModelOptions));
                if (N(this.$options.updateOn)) {
                    this.$options.updateOnDefault = false;
                    this.$options.updateOn = da(this.$options.updateOn.replace(ig, function() {
                        c.$options.updateOnDefault = true;
                        return " ";
                    }));
                } else {
                    this.$options.updateOnDefault = true;
                }
            } ]
        };
    };
    function kg(a) {
        var b = a.ctrl, d = a.$element, e = {}, f = a.set, g = a.unset, h = a.$animate;
        e[_f] = !(e[$f] = d.hasClass($f));
        b.$setValidity = i;
        function i(a, d, e) {
            if (M(d)) {
                j("$pending", a, e);
            } else {
                k("$pending", a, e);
            }
            if (!_(d)) {
                g(b.$error, a, e);
                g(b.$$success, a, e);
            } else {
                if (d) {
                    g(b.$error, a, e);
                    f(b.$$success, a, e);
                } else {
                    f(b.$error, a, e);
                    g(b.$$success, a, e);
                }
            }
            if (b.$pending) {
                l(eg, true);
                b.$valid = b.$invalid = c;
                m("", null);
            } else {
                l(eg, false);
                b.$valid = lg(b.$error);
                b.$invalid = !b.$valid;
                m("", b.$valid);
            }
            var h;
            if (b.$pending && b.$pending[a]) {
                h = c;
            } else if (b.$error[a]) {
                h = false;
            } else if (b.$$success[a]) {
                h = true;
            } else {
                h = null;
            }
            m(a, h);
            b.$$parentForm.$setValidity(a, h, b);
        }
        function j(a, c, d) {
            if (!b[a]) {
                b[a] = {};
            }
            f(b[a], c, d);
        }
        function k(a, d, e) {
            if (b[a]) {
                g(b[a], d, e);
            }
            if (lg(b[a])) {
                b[a] = c;
            }
        }
        function l(a, b) {
            if (b && !e[a]) {
                h.addClass(d, a);
                e[a] = true;
            } else if (!b && e[a]) {
                h.removeClass(d, a);
                e[a] = false;
            }
        }
        function m(a, b) {
            a = a ? "-" + La(a, "-") : "";
            l($f + a, b === true);
            l(_f + a, b === false);
        }
    }
    function lg(a) {
        if (a) {
            for (var b in a) {
                if (a.hasOwnProperty(b)) {
                    return false;
                }
            }
        }
        return true;
    }
    var mg = $e({
        terminal: true,
        priority: 1e3
    });
    var ng = d("ngOptions");
    var og = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;
    var pg = [ "$compile", "$parse", function(a, c) {
        function d(a, b, d) {
            var e = a.match(og);
            if (!e) {
                throw ng("iexp", "Expected expression in form of " + "'_select_ (as _label_)? for (_key_,)?_value_ in _collection_'" + " but got '{0}'. Element: {1}", a, ya(b));
            }
            var f = e[5] || e[7];
            var g = e[6];
            var h = / as /.test(e[0]) && e[1];
            var i = e[9];
            var j = c(e[2] ? e[1] : f);
            var k = h && c(h);
            var l = k || j;
            var m = i && c(i);
            var n = i ? function(a, b) {
                return m(d, b);
            } : function z(a) {
                return Wb(a);
            };
            var o = function(a, b) {
                return n(a, v(a, b));
            };
            var p = c(e[2] || e[1]);
            var q = c(e[3] || "");
            var r = c(e[4] || "");
            var s = c(e[8]);
            var t = {};
            var v = g ? function(a, b) {
                t[g] = b;
                t[f] = a;
                return t;
            } : function(a) {
                t[f] = a;
                return t;
            };
            function w(a, b, c, d, e) {
                this.selectValue = a;
                this.viewValue = b;
                this.label = c;
                this.group = d;
                this.disabled = e;
            }
            function y(a) {
                var b;
                if (!g && x(a)) {
                    b = a;
                } else {
                    b = [];
                    for (var c in a) {
                        if (a.hasOwnProperty(c) && c.charAt(0) !== "$") {
                            b.push(c);
                        }
                    }
                }
                return b;
            }
            return {
                trackBy: i,
                getTrackByValue: o,
                getWatchables: c(s, function(a) {
                    var b = [];
                    a = a || [];
                    var c = y(a);
                    var f = c.length;
                    for (var g = 0; g < f; g++) {
                        var h = a === c ? g : c[g];
                        var i = a[h];
                        var j = v(a[h], h);
                        var k = n(a[h], j);
                        b.push(k);
                        if (e[2] || e[1]) {
                            var l = p(d, j);
                            b.push(l);
                        }
                        if (e[4]) {
                            var m = r(d, j);
                            b.push(m);
                        }
                    }
                    return b;
                }),
                getOptions: function() {
                    var a = [];
                    var b = {};
                    var c = s(d) || [];
                    var e = y(c);
                    var f = e.length;
                    for (var g = 0; g < f; g++) {
                        var h = c === e ? g : e[g];
                        var j = c[h];
                        var k = v(j, h);
                        var m = l(d, k);
                        var t = n(m, k);
                        var x = p(d, k);
                        var z = q(d, k);
                        var A = r(d, k);
                        var B = new w(t, m, x, z, A);
                        a.push(B);
                        b[t] = B;
                    }
                    return {
                        items: a,
                        selectValueMap: b,
                        getOptionFromViewValue: function(a) {
                            return b[o(a)];
                        },
                        getViewValueFromOption: function(a) {
                            return i ? u.copy(a.viewValue) : a.viewValue;
                        }
                    };
                }
            };
        }
        var e = b.createElement("option"), f = b.createElement("optgroup");
        return {
            restrict: "A",
            terminal: true,
            require: [ "select", "?ngModel" ],
            link: function(b, c, h, i) {
                var j = i[1];
                if (!j) return;
                var k = i[0];
                var l = h.multiple;
                var n;
                for (var o = 0, p = c.children(), q = p.length; o < q; o++) {
                    if (p[o].value === "") {
                        n = p.eq(o);
                        break;
                    }
                }
                var r = !!n;
                var s = m(e.cloneNode(false));
                s.val("?");
                var t;
                var u = d(h.ngOptions, c, b);
                var v = function() {
                    if (!r) {
                        c.prepend(n);
                    }
                    c.val("");
                    n.prop("selected", true);
                    n.attr("selected", true);
                };
                var w = function() {
                    if (!r) {
                        n.remove();
                    }
                };
                var x = function() {
                    c.prepend(s);
                    c.val("?");
                    s.prop("selected", true);
                    s.attr("selected", true);
                };
                var z = function() {
                    s.remove();
                };
                if (!l) {
                    k.writeValue = function F(a) {
                        var b = t.getOptionFromViewValue(a);
                        if (b && !b.disabled) {
                            if (c[0].value !== b.selectValue) {
                                z();
                                w();
                                c[0].value = b.selectValue;
                                b.element.selected = true;
                                b.element.setAttribute("selected", "selected");
                            }
                        } else {
                            if (a === null || r) {
                                z();
                                v();
                            } else {
                                w();
                                x();
                            }
                        }
                    };
                    k.readValue = function G() {
                        var a = t.selectValueMap[c.val()];
                        if (a && !a.disabled) {
                            w();
                            z();
                            return t.getViewValueFromOption(a);
                        }
                        return null;
                    };
                    if (u.trackBy) {
                        b.$watch(function() {
                            return u.getTrackByValue(j.$viewValue);
                        }, function() {
                            j.$render();
                        });
                    }
                } else {
                    j.$isEmpty = function(a) {
                        return !a || a.length === 0;
                    };
                    k.writeValue = function H(a) {
                        t.items.forEach(function(a) {
                            a.element.selected = false;
                        });
                        if (a) {
                            a.forEach(function(a) {
                                var b = t.getOptionFromViewValue(a);
                                if (b && !b.disabled) b.element.selected = true;
                            });
                        }
                    };
                    k.readValue = function I() {
                        var a = c.val() || [], b = [];
                        y(a, function(a) {
                            var c = t.selectValueMap[a];
                            if (c && !c.disabled) b.push(t.getViewValueFromOption(c));
                        });
                        return b;
                    };
                    if (u.trackBy) {
                        b.$watchCollection(function() {
                            if (T(j.$viewValue)) {
                                return j.$viewValue.map(function(a) {
                                    return u.getTrackByValue(a);
                                });
                            }
                        }, function() {
                            j.$render();
                        });
                    }
                }
                if (r) {
                    n.remove();
                    a(n)(b);
                    n.removeClass("ng-scope");
                } else {
                    n = m(e.cloneNode(false));
                }
                E();
                b.$watchCollection(u.getWatchables, E);
                function A(a, b) {
                    a.element = b;
                    b.disabled = a.disabled;
                    if (a.label !== b.label) {
                        b.label = a.label;
                        b.textContent = a.label;
                    }
                    if (a.value !== b.value) b.value = a.selectValue;
                }
                function B(a, b, c, d) {
                    var e;
                    if (b && g(b.nodeName) === c) {
                        e = b;
                    } else {
                        e = d.cloneNode(false);
                        if (!b) {
                            a.appendChild(e);
                        } else {
                            a.insertBefore(e, b);
                        }
                    }
                    return e;
                }
                function C(a) {
                    var b;
                    while (a) {
                        b = a.nextSibling;
                        Mb(a);
                        a = b;
                    }
                }
                function D(a) {
                    var b = n && n[0];
                    var c = s && s[0];
                    if (b || c) {
                        while (a && (a === b || a === c || b && b.nodeType === Ya)) {
                            a = a.nextSibling;
                        }
                    }
                    return a;
                }
                function E() {
                    var a = t && k.readValue();
                    t = u.getOptions();
                    var b = {};
                    var d = c[0].firstChild;
                    if (r) {
                        c.prepend(n);
                    }
                    d = D(d);
                    t.items.forEach(function h(a) {
                        var g;
                        var h;
                        var i;
                        if (a.group) {
                            g = b[a.group];
                            if (!g) {
                                h = B(c[0], d, "optgroup", f);
                                d = h.nextSibling;
                                h.label = a.group;
                                g = b[a.group] = {
                                    groupElement: h,
                                    currentOptionElement: h.firstChild
                                };
                            }
                            i = B(g.groupElement, g.currentOptionElement, "option", e);
                            A(a, i);
                            g.currentOptionElement = i.nextSibling;
                        } else {
                            i = B(c[0], d, "option", e);
                            A(a, i);
                            d = i.nextSibling;
                        }
                    });
                    Object.keys(b).forEach(function(a) {
                        C(b[a].currentOptionElement);
                    });
                    C(d);
                    j.$render();
                    if (!j.$isEmpty(a)) {
                        var g = k.readValue();
                        if (u.trackBy ? !ma(a, g) : a !== g) {
                            j.$setViewValue(g);
                            j.$render();
                        }
                    }
                }
            }
        };
    } ];
    var qg = [ "$locale", "$interpolate", "$log", function(a, b, c) {
        var d = /{}/g, e = /^when(Minus)?(.+)$/;
        return {
            link: function(f, h, i) {
                var j = i.count, k = i.$attr.when && h.attr(i.$attr.when), l = i.offset || 0, m = f.$eval(k) || {}, n = {}, o = b.startSymbol(), p = b.endSymbol(), q = o + j + "-" + l + p, r = u.noop, s;
                y(i, function(a, b) {
                    var c = e.exec(b);
                    if (c) {
                        var d = (c[1] ? "-" : "") + g(c[2]);
                        m[d] = h.attr(i.$attr[b]);
                    }
                });
                y(m, function(a, c) {
                    n[c] = b(a.replace(d, q));
                });
                f.$watch(j, function v(b) {
                    var d = parseFloat(b);
                    var e = isNaN(d);
                    if (!e && !(d in m)) {
                        d = a.pluralCat(d - l);
                    }
                    if (d !== s && !(e && R(s) && isNaN(s))) {
                        r();
                        var g = n[d];
                        if (M(g)) {
                            if (b != null) {
                                c.debug("ngPluralize: no rule defined for '" + d + "' in " + k);
                            }
                            r = I;
                            t();
                        } else {
                            r = f.$watch(g, t);
                        }
                        s = d;
                    }
                });
                function t(a) {
                    h.text(a || "");
                }
            }
        };
    } ];
    var rg = [ "$parse", "$animate", function(a, e) {
        var f = "$$NG_REMOVED";
        var g = d("ngRepeat");
        var i = function(a, b, c, d, e, f, g) {
            a[c] = d;
            if (e) a[e] = f;
            a.$index = b;
            a.$first = b === 0;
            a.$last = b === g - 1;
            a.$middle = !(a.$first || a.$last);
            a.$odd = !(a.$even = (b & 1) === 0);
        };
        var j = function(a) {
            return a.clone[0];
        };
        var k = function(a) {
            return a.clone[a.clone.length - 1];
        };
        return {
            restrict: "A",
            multiElement: true,
            transclude: "element",
            priority: 1e3,
            terminal: true,
            $$tlb: true,
            compile: function l(d, n) {
                var o = n.ngRepeat;
                var p = b.createComment(" end ngRepeat: " + o + " ");
                var q = o.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
                if (!q) {
                    throw g("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", o);
                }
                var r = q[1];
                var s = q[2];
                var t = q[3];
                var u = q[4];
                q = r.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);
                if (!q) {
                    throw g("iidexp", "'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.", r);
                }
                var v = q[3] || q[1];
                var w = q[2];
                if (t && (!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(t) || /^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(t))) {
                    throw g("badident", "alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.", t);
                }
                var z, A, B, C;
                var D = {
                    $id: Wb
                };
                if (u) {
                    z = a(u);
                } else {
                    B = function(a, b) {
                        return Wb(b);
                    };
                    C = function(a) {
                        return a;
                    };
                }
                return function E(a, b, d, l, n) {
                    if (z) {
                        A = function(b, c, d) {
                            if (w) D[w] = b;
                            D[v] = c;
                            D.$index = d;
                            return z(a, D);
                        };
                    }
                    var q = Ua();
                    a.$watchCollection(s, function r(d) {
                        var l, r, s = b[0], u, z = Ua(), D, E, F, G, H, I, J, K, L;
                        if (t) {
                            a[t] = d;
                        }
                        if (x(d)) {
                            I = d;
                            H = A || B;
                        } else {
                            H = A || C;
                            I = [];
                            for (var M in d) {
                                if (h.call(d, M) && M.charAt(0) !== "$") {
                                    I.push(M);
                                }
                            }
                        }
                        D = I.length;
                        K = new Array(D);
                        for (l = 0; l < D; l++) {
                            E = d === I ? l : I[l];
                            F = d[E];
                            G = H(E, F, l);
                            if (q[G]) {
                                J = q[G];
                                delete q[G];
                                z[G] = J;
                                K[l] = J;
                            } else if (z[G]) {
                                y(K, function(a) {
                                    if (a && a.scope) q[a.id] = a;
                                });
                                throw g("dupes", "Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}", o, G, F);
                            } else {
                                K[l] = {
                                    id: G,
                                    scope: c,
                                    clone: c
                                };
                                z[G] = true;
                            }
                        }
                        for (var N in q) {
                            J = q[N];
                            L = Ta(J.clone);
                            e.leave(L);
                            if (L[0].parentNode) {
                                for (l = 0, r = L.length; l < r; l++) {
                                    L[l][f] = true;
                                }
                            }
                            J.scope.$destroy();
                        }
                        for (l = 0; l < D; l++) {
                            E = d === I ? l : I[l];
                            F = d[E];
                            J = K[l];
                            if (J.scope) {
                                u = s;
                                do {
                                    u = u.nextSibling;
                                } while (u && u[f]);
                                if (j(J) != u) {
                                    e.move(Ta(J.clone), null, m(s));
                                }
                                s = k(J);
                                i(J.scope, l, v, F, w, E, D);
                            } else {
                                n(function O(a, b) {
                                    J.scope = b;
                                    var c = p.cloneNode(false);
                                    a[a.length++] = c;
                                    e.enter(a, null, m(s));
                                    s = c;
                                    J.clone = a;
                                    z[J.id] = J;
                                    i(J.scope, l, v, F, w, E, D);
                                });
                            }
                        }
                        q = z;
                    });
                };
            }
        };
    } ];
    var sg = "ng-hide";
    var tg = "ng-hide-animate";
    var ug = [ "$animate", function(a) {
        return {
            restrict: "A",
            multiElement: true,
            link: function(b, c, d) {
                b.$watch(d.ngShow, function e(b) {
                    a[b ? "removeClass" : "addClass"](c, sg, {
                        tempClasses: tg
                    });
                });
            }
        };
    } ];
    var vg = [ "$animate", function(a) {
        return {
            restrict: "A",
            multiElement: true,
            link: function(b, c, d) {
                b.$watch(d.ngHide, function e(b) {
                    a[b ? "addClass" : "removeClass"](c, sg, {
                        tempClasses: tg
                    });
                });
            }
        };
    } ];
    var wg = $e(function(a, b, c) {
        a.$watch(c.ngStyle, function d(a, c) {
            if (c && a !== c) {
                y(c, function(a, c) {
                    b.css(c, "");
                });
            }
            if (a) b.css(a);
        }, true);
    });
    var xg = [ "$animate", function(a) {
        return {
            require: "ngSwitch",
            controller: [ "$scope", function c() {
                this.cases = {};
            } ],
            link: function(c, d, e, f) {
                var g = e.ngSwitch || e.on, h = [], i = [], j = [], k = [];
                var l = function(a, b) {
                    return function() {
                        a.splice(b, 1);
                    };
                };
                c.$watch(g, function m(c) {
                    var d, e;
                    for (d = 0, e = j.length; d < e; ++d) {
                        a.cancel(j[d]);
                    }
                    j.length = 0;
                    for (d = 0, e = k.length; d < e; ++d) {
                        var g = Ta(i[d].clone);
                        k[d].$destroy();
                        var m = j[d] = a.leave(g);
                        m.then(l(j, d));
                    }
                    i.length = 0;
                    k.length = 0;
                    if (h = f.cases["!" + c] || f.cases["?"]) {
                        y(h, function(c) {
                            c.transclude(function(d, e) {
                                k.push(e);
                                var f = c.element;
                                d[d.length++] = b.createComment(" end ngSwitchWhen: ");
                                var g = {
                                    clone: d
                                };
                                i.push(g);
                                a.enter(d, f.parent(), f);
                            });
                        });
                    }
                });
            }
        };
    } ];
    var yg = $e({
        transclude: "element",
        priority: 1200,
        require: "^ngSwitch",
        multiElement: true,
        link: function(a, b, c, d, e) {
            d.cases["!" + c.ngSwitchWhen] = d.cases["!" + c.ngSwitchWhen] || [];
            d.cases["!" + c.ngSwitchWhen].push({
                transclude: e,
                element: b
            });
        }
    });
    var zg = $e({
        transclude: "element",
        priority: 1200,
        require: "^ngSwitch",
        multiElement: true,
        link: function(a, b, c, d, e) {
            d.cases["?"] = d.cases["?"] || [];
            d.cases["?"].push({
                transclude: e,
                element: b
            });
        }
    });
    var Ag = $e({
        restrict: "EAC",
        link: function(a, b, c, e, f) {
            if (!f) {
                throw d("ngTransclude")("orphan", "Illegal use of ngTransclude directive in the template! " + "No parent directive that requires a transclusion found. " + "Element: {0}", ya(b));
            }
            f(function(a) {
                b.empty();
                b.append(a);
            });
        }
    });
    var Bg = [ "$templateCache", function(a) {
        return {
            restrict: "E",
            terminal: true,
            compile: function(b, c) {
                if (c.type == "text/ng-template") {
                    var d = c.id, e = b[0].text;
                    a.put(d, e);
                }
            }
        };
    } ];
    var Cg = {
        $setViewValue: I,
        $render: I
    };
    var Dg = [ "$element", "$scope", "$attrs", function(a, d, e) {
        var f = this, g = new Xb();
        f.ngModelCtrl = Cg;
        f.unknownOption = m(b.createElement("option"));
        f.renderUnknownOption = function(b) {
            var c = "? " + Wb(b) + " ?";
            f.unknownOption.val(c);
            a.prepend(f.unknownOption);
            a.val(c);
        };
        d.$on("$destroy", function() {
            f.renderUnknownOption = I;
        });
        f.removeUnknownOption = function() {
            if (f.unknownOption.parent()) f.unknownOption.remove();
        };
        f.readValue = function h() {
            f.removeUnknownOption();
            return a.val();
        };
        f.writeValue = function i(b) {
            if (f.hasOption(b)) {
                f.removeUnknownOption();
                a.val(b);
                if (b === "") f.emptyOption.prop("selected", true);
            } else {
                if (b == null && f.emptyOption) {
                    f.removeUnknownOption();
                    a.val("");
                } else {
                    f.renderUnknownOption(b);
                }
            }
        };
        f.addOption = function(a, b) {
            Ra(a, '"option value"');
            if (a === "") {
                f.emptyOption = b;
            }
            var c = g.get(a) || 0;
            g.put(a, c + 1);
        };
        f.removeOption = function(a) {
            var b = g.get(a);
            if (b) {
                if (b === 1) {
                    g.remove(a);
                    if (a === "") {
                        f.emptyOption = c;
                    }
                } else {
                    g.put(a, b - 1);
                }
            }
        };
        f.hasOption = function(a) {
            return !!g.get(a);
        };
    } ];
    var Eg = function() {
        return {
            restrict: "E",
            require: [ "select", "?ngModel" ],
            controller: Dg,
            link: function(a, b, c, d) {
                var e = d[1];
                if (!e) return;
                var f = d[0];
                f.ngModelCtrl = e;
                e.$render = function() {
                    f.writeValue(e.$viewValue);
                };
                b.on("change", function() {
                    a.$apply(function() {
                        e.$setViewValue(f.readValue());
                    });
                });
                if (c.multiple) {
                    f.readValue = function i() {
                        var a = [];
                        y(b.find("option"), function(b) {
                            if (b.selected) {
                                a.push(b.value);
                            }
                        });
                        return a;
                    };
                    f.writeValue = function j(a) {
                        var c = new Xb(a);
                        y(b.find("option"), function(a) {
                            a.selected = N(c.get(a.value));
                        });
                    };
                    var g, h = NaN;
                    a.$watch(function k() {
                        if (h === e.$viewValue && !ma(g, e.$viewValue)) {
                            g = la(e.$viewValue);
                            e.$render();
                        }
                        h = e.$viewValue;
                    });
                    e.$isEmpty = function(a) {
                        return !a || a.length === 0;
                    };
                }
            }
        };
    };
    var Fg = [ "$interpolate", function(a) {
        function b(a) {
            if (a[0].hasAttribute("selected")) {
                a[0].selected = true;
            }
        }
        return {
            restrict: "E",
            priority: 100,
            compile: function(c, d) {
                if (N(d.value)) {
                    var e = a(d.value, true);
                } else {
                    var f = a(c.text(), true);
                    if (!f) {
                        d.$set("value", c.text());
                    }
                }
                return function(a, c, d) {
                    var g = "$selectController", h = c.parent(), i = h.data(g) || h.parent().data(g);
                    function j(a) {
                        i.addOption(a, c);
                        i.ngModelCtrl.$render();
                        b(c);
                    }
                    if (i && i.ngModelCtrl) {
                        if (e) {
                            var k;
                            d.$observe("value", function l(a) {
                                if (N(k)) {
                                    i.removeOption(k);
                                }
                                k = a;
                                j(a);
                            });
                        } else if (f) {
                            a.$watch(f, function m(a, b) {
                                d.$set("value", a);
                                if (b !== a) {
                                    i.removeOption(b);
                                }
                                j(a);
                            });
                        } else {
                            j(d.value);
                        }
                        c.on("$destroy", function() {
                            i.removeOption(d.value);
                            i.ngModelCtrl.$render();
                        });
                    }
                };
            }
        };
    } ];
    var Gg = K({
        restrict: "E",
        terminal: false
    });
    var Hg = function() {
        return {
            restrict: "A",
            require: "?ngModel",
            link: function(a, b, c, d) {
                if (!d) return;
                c.required = true;
                d.$validators.required = function(a, b) {
                    return !c.required || !d.$isEmpty(b);
                };
                c.$observe("required", function() {
                    d.$validate();
                });
            }
        };
    };
    var Ig = function() {
        return {
            restrict: "A",
            require: "?ngModel",
            link: function(a, b, e, f) {
                if (!f) return;
                var g, h = e.ngPattern || e.pattern;
                e.$observe("pattern", function(a) {
                    if (Q(a) && a.length > 0) {
                        a = new RegExp("^" + a + "$");
                    }
                    if (a && !a.test) {
                        throw d("ngPattern")("noregexp", "Expected {0} to be a RegExp but was {1}. Element: {2}", h, a, ya(b));
                    }
                    g = a || c;
                    f.$validate();
                });
                f.$validators.pattern = function(a, b) {
                    return f.$isEmpty(b) || M(g) || g.test(b);
                };
            }
        };
    };
    var Jg = function() {
        return {
            restrict: "A",
            require: "?ngModel",
            link: function(a, b, c, d) {
                if (!d) return;
                var e = -1;
                c.$observe("maxlength", function(a) {
                    var b = G(a);
                    e = isNaN(b) ? -1 : b;
                    d.$validate();
                });
                d.$validators.maxlength = function(a, b) {
                    return e < 0 || d.$isEmpty(b) || b.length <= e;
                };
            }
        };
    };
    var Kg = function() {
        return {
            restrict: "A",
            require: "?ngModel",
            link: function(a, b, c, d) {
                if (!d) return;
                var e = 0;
                c.$observe("minlength", function(a) {
                    e = G(a) || 0;
                    d.$validate();
                });
                d.$validators.minlength = function(a, b) {
                    return d.$isEmpty(b) || b.length >= e;
                };
            }
        };
    };
    if (a.angular.bootstrap) {
        console.log("WARNING: Tried to load angular more than once.");
        return;
    }
    Oa();
    db(u);
    u.module("ngLocale", [], [ "$provide", function(a) {
        var b = {
            ZERO: "zero",
            ONE: "one",
            TWO: "two",
            FEW: "few",
            MANY: "many",
            OTHER: "other"
        };
        function d(a) {
            a = a + "";
            var b = a.indexOf(".");
            return b == -1 ? 0 : a.length - b - 1;
        }
        function e(a, b) {
            var e = b;
            if (c === e) {
                e = Math.min(d(a), 3);
            }
            var f = Math.pow(10, e);
            var g = (a * f | 0) % f;
            return {
                v: e,
                f: g
            };
        }
        a.value("$locale", {
            DATETIME_FORMATS: {
                AMPMS: [ "AM", "PM" ],
                DAY: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
                ERANAMES: [ "Before Christ", "Anno Domini" ],
                ERAS: [ "BC", "AD" ],
                FIRSTDAYOFWEEK: 6,
                MONTH: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
                SHORTDAY: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ],
                SHORTMONTH: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ],
                WEEKENDRANGE: [ 5, 6 ],
                fullDate: "EEEE, MMMM d, y",
                longDate: "MMMM d, y",
                medium: "MMM d, y h:mm:ss a",
                mediumDate: "MMM d, y",
                mediumTime: "h:mm:ss a",
                "short": "M/d/yy h:mm a",
                shortDate: "M/d/yy",
                shortTime: "h:mm a"
            },
            NUMBER_FORMATS: {
                CURRENCY_SYM: "$",
                DECIMAL_SEP: ".",
                GROUP_SEP: ",",
                PATTERNS: [ {
                    gSize: 3,
                    lgSize: 3,
                    maxFrac: 3,
                    minFrac: 0,
                    minInt: 1,
                    negPre: "-",
                    negSuf: "",
                    posPre: "",
                    posSuf: ""
                }, {
                    gSize: 3,
                    lgSize: 3,
                    maxFrac: 2,
                    minFrac: 2,
                    minInt: 1,
                    negPre: "-¤",
                    negSuf: "",
                    posPre: "¤",
                    posSuf: ""
                } ]
            },
            id: "en-us",
            pluralCat: function(a, c) {
                var d = a | 0;
                var f = e(a, c);
                if (d == 1 && f.v == 0) {
                    return b.ONE;
                }
                return b.OTHER;
            }
        });
    } ]);
    m(b).ready(function() {
        Ga(b, Ha);
    });
})(window, document);

!window.angular.$$csp().noInlineStyle && window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');

(function(a, b, c) {
    "use strict";
    var d = b.noop;
    var e = b.extend;
    var f = b.element;
    var g = b.forEach;
    var h = b.isArray;
    var i = b.isString;
    var j = b.isObject;
    var k = b.isUndefined;
    var l = b.isDefined;
    var m = b.isFunction;
    var n = b.isElement;
    var o = 1;
    var p = 8;
    var q = "-add";
    var r = "-remove";
    var s = "ng-";
    var t = "-active";
    var u = "ng-animate";
    var v = "$$ngAnimateChildren";
    var w = "", x, y, z, A;
    if (k(a.ontransitionend) && l(a.onwebkittransitionend)) {
        w = "-webkit-";
        x = "WebkitTransition";
        y = "webkitTransitionEnd transitionend";
    } else {
        x = "transition";
        y = "transitionend";
    }
    if (k(a.onanimationend) && l(a.onwebkitanimationend)) {
        w = "-webkit-";
        z = "WebkitAnimation";
        A = "webkitAnimationEnd animationend";
    } else {
        z = "animation";
        A = "animationend";
    }
    var B = "Duration";
    var C = "Property";
    var D = "Delay";
    var E = "TimingFunction";
    var F = "IterationCount";
    var G = "PlayState";
    var H = 9999;
    var I = z + D;
    var J = z + B;
    var K = x + D;
    var L = x + B;
    var M = function(a) {
        return a && a.then ? true : false;
    };
    function N(a, b, c) {
        if (!a) {
            throw ngMinErr("areq", "Argument '{0}' is {1}", b || "?", c || "required");
        }
        return a;
    }
    function O(a, b) {
        if (!a && !b) return "";
        if (!a) return b;
        if (!b) return a;
        if (h(a)) a = a.join(" ");
        if (h(b)) b = b.join(" ");
        return a + " " + b;
    }
    function P(a) {
        var b = {};
        if (a && (a.to || a.from)) {
            b.to = a.to;
            b.from = a.from;
        }
        return b;
    }
    function Q(a, b, c) {
        var d = "";
        a = h(a) ? a : a && i(a) && a.length ? a.split(/\s+/) : [];
        g(a, function(a, e) {
            if (a && a.length > 0) {
                d += e > 0 ? " " : "";
                d += c ? b + a : a + b;
            }
        });
        return d;
    }
    function R(a, b) {
        var c = a.indexOf(b);
        if (b >= 0) {
            a.splice(c, 1);
        }
    }
    function S(a) {
        if (a instanceof f) {
            switch (a.length) {
              case 0:
                return [];
                break;

              case 1:
                if (a[0].nodeType === o) {
                    return a;
                }
                break;

              default:
                return f(T(a));
                break;
            }
        }
        if (a.nodeType === o) {
            return f(a);
        }
    }
    function T(a) {
        if (!a[0]) return a;
        for (var b = 0; b < a.length; b++) {
            var c = a[b];
            if (c.nodeType == o) {
                return c;
            }
        }
    }
    function U(a, b, c) {
        g(b, function(b) {
            a.addClass(b, c);
        });
    }
    function V(a, b, c) {
        g(b, function(b) {
            a.removeClass(b, c);
        });
    }
    function W(a) {
        return function(b, c) {
            if (c.addClass) {
                U(a, b, c.addClass);
                c.addClass = null;
            }
            if (c.removeClass) {
                V(a, b, c.removeClass);
                c.removeClass = null;
            }
        };
    }
    function X(a) {
        a = a || {};
        if (!a.$$prepared) {
            var b = a.domOperation || d;
            a.domOperation = function() {
                a.$$domOperationFired = true;
                b();
                b = d;
            };
            a.$$prepared = true;
        }
        return a;
    }
    function Y(a, b) {
        Z(a, b);
        $(a, b);
    }
    function Z(a, b) {
        if (b.from) {
            a.css(b.from);
            b.from = null;
        }
    }
    function $(a, b) {
        if (b.to) {
            a.css(b.to);
            b.to = null;
        }
    }
    function _(a, b, c) {
        var f = (b.addClass || "") + " " + (c.addClass || "");
        var g = (b.removeClass || "") + " " + (c.removeClass || "");
        var h = aa(a.attr("class"), f, g);
        if (c.preparationClasses) {
            b.preparationClasses = ha(c.preparationClasses, b.preparationClasses);
            delete c.preparationClasses;
        }
        var i = b.domOperation !== d ? b.domOperation : null;
        e(b, c);
        if (i) {
            b.domOperation = i;
        }
        if (h.addClass) {
            b.addClass = h.addClass;
        } else {
            b.addClass = null;
        }
        if (h.removeClass) {
            b.removeClass = h.removeClass;
        } else {
            b.removeClass = null;
        }
        return b;
    }
    function aa(a, b, c) {
        var d = 1;
        var e = -1;
        var f = {};
        a = j(a);
        b = j(b);
        g(b, function(a, b) {
            f[b] = d;
        });
        c = j(c);
        g(c, function(a, b) {
            f[b] = f[b] === d ? null : e;
        });
        var h = {
            addClass: "",
            removeClass: ""
        };
        g(f, function(b, c) {
            var f, g;
            if (b === d) {
                f = "addClass";
                g = !a[c];
            } else if (b === e) {
                f = "removeClass";
                g = a[c];
            }
            if (g) {
                if (h[f].length) {
                    h[f] += " ";
                }
                h[f] += c;
            }
        });
        function j(a) {
            if (i(a)) {
                a = a.split(" ");
            }
            var b = {};
            g(a, function(a) {
                if (a.length) {
                    b[a] = true;
                }
            });
            return b;
        }
        return h;
    }
    function ba(a) {
        return a instanceof b.element ? a[0] : a;
    }
    function ca(a, b, c) {
        var d = "";
        if (b) {
            d = Q(b, s, true);
        }
        if (c.addClass) {
            d = ha(d, Q(c.addClass, q));
        }
        if (c.removeClass) {
            d = ha(d, Q(c.removeClass, r));
        }
        if (d.length) {
            c.preparationClasses = d;
            a.addClass(d);
        }
    }
    function da(a, b) {
        if (b.preparationClasses) {
            a.removeClass(b.preparationClasses);
            b.preparationClasses = null;
        }
        if (b.activeClasses) {
            a.removeClass(b.activeClasses);
            b.activeClasses = null;
        }
    }
    function ea(a, b) {
        var c = b ? "-" + b + "s" : "";
        ga(a, [ K, c ]);
        return [ K, c ];
    }
    function fa(a, b) {
        var c = b ? "paused" : "";
        var d = z + G;
        ga(a, [ d, c ]);
        return [ d, c ];
    }
    function ga(a, b) {
        var c = b[0];
        var d = b[1];
        a.style[c] = d;
    }
    function ha(a, b) {
        if (!a) return b;
        if (!b) return a;
        return a + " " + b;
    }
    var ia = [ "$$rAF", function(a) {
        var b, c;
        function d(a) {
            b = b.concat(a);
            e();
        }
        b = d.queue = [];
        d.waitUntilQuiet = function(b) {
            if (c) c();
            c = a(function() {
                c = null;
                b();
                e();
            });
        };
        return d;
        function e() {
            if (!b.length) return;
            var d = b.shift();
            for (var f = 0; f < d.length; f++) {
                d[f]();
            }
            if (!c) {
                a(function() {
                    if (!c) e();
                });
            }
        }
    } ];
    var ja = [ function() {
        return function(a, c, d) {
            var e = d.ngAnimateChildren;
            if (b.isString(e) && e.length === 0) {
                c.data(v, true);
            } else {
                d.$observe("ngAnimateChildren", function(a) {
                    a = a === "on" || a === "true";
                    c.data(v, a);
                });
            }
        };
    } ];
    var ka = "$$animateCss";
    var la = 1e3;
    var ma = 10;
    var na = 3;
    var oa = 1.5;
    var pa = {
        transitionDuration: L,
        transitionDelay: K,
        transitionProperty: x + C,
        animationDuration: J,
        animationDelay: I,
        animationIterationCount: z + F
    };
    var qa = {
        transitionDuration: L,
        transitionDelay: K,
        animationDuration: J,
        animationDelay: I
    };
    function ra(a) {
        return [ J, a + "s" ];
    }
    function sa(a, b) {
        var c = b ? I : K;
        return [ c, a + "s" ];
    }
    function ta(a, b, c) {
        var d = Object.create(null);
        var e = a.getComputedStyle(b) || {};
        g(c, function(a, b) {
            var c = e[a];
            if (c) {
                var f = c.charAt(0);
                if (f === "-" || f === "+" || f >= 0) {
                    c = ua(c);
                }
                if (c === 0) {
                    c = null;
                }
                d[b] = c;
            }
        });
        return d;
    }
    function ua(a) {
        var b = 0;
        var c = a.split(/\s*,\s*/);
        g(c, function(a) {
            if (a.charAt(a.length - 1) == "s") {
                a = a.substring(0, a.length - 1);
            }
            a = parseFloat(a) || 0;
            b = b ? Math.max(a, b) : a;
        });
        return b;
    }
    function va(a) {
        return a === 0 || a != null;
    }
    function wa(a, b) {
        var c = x;
        var d = a + "s";
        if (b) {
            c += B;
        } else {
            d += " linear all";
        }
        return [ c, d ];
    }
    function xa() {
        var a = Object.create(null);
        return {
            flush: function() {
                a = Object.create(null);
            },
            count: function(b) {
                var c = a[b];
                return c ? c.total : 0;
            },
            get: function(b) {
                var c = a[b];
                return c && c.value;
            },
            put: function(b, c) {
                if (!a[b]) {
                    a[b] = {
                        total: 1,
                        value: c
                    };
                } else {
                    a[b].total++;
                }
            }
        };
    }
    function ya(a, b, c) {
        g(c, function(c) {
            a[c] = l(a[c]) ? a[c] : b.style.getPropertyValue(c);
        });
    }
    var za = [ "$animateProvider", function(a) {
        var b = xa();
        var c = xa();
        this.$get = [ "$window", "$$jqLite", "$$AnimateRunner", "$timeout", "$$forceReflow", "$sniffer", "$$rAFScheduler", "$animate", function(a, e, f, i, j, k, l, m) {
            var n = W(e);
            var o = 0;
            function p(a, b) {
                var c = "$$ngAnimateParentKey";
                var d = a.parentNode;
                var e = d[c] || (d[c] = ++o);
                return e + "-" + a.getAttribute("class") + "-" + b;
            }
            function u(c, d, e, f) {
                var g = b.get(e);
                if (!g) {
                    g = ta(a, c, f);
                    if (g.animationIterationCount === "infinite") {
                        g.animationIterationCount = 1;
                    }
                }
                b.put(e, g);
                return g;
            }
            function v(d, f, g, h) {
                var i;
                if (b.count(g) > 0) {
                    i = c.get(g);
                    if (!i) {
                        var j = Q(f, "-stagger");
                        e.addClass(d, j);
                        i = ta(a, d, h);
                        i.animationDuration = Math.max(i.animationDuration, 0);
                        i.transitionDuration = Math.max(i.transitionDuration, 0);
                        e.removeClass(d, j);
                        c.put(g, i);
                    }
                }
                return i || {};
            }
            var w;
            var B = [];
            function D(a) {
                B.push(a);
                l.waitUntilQuiet(function() {
                    b.flush();
                    c.flush();
                    var a = j();
                    for (var d = 0; d < B.length; d++) {
                        B[d](a);
                    }
                    B.length = 0;
                });
            }
            function F(a, b, c) {
                var d = u(a, b, c, pa);
                var e = d.animationDelay;
                var f = d.transitionDelay;
                d.maxDelay = e && f ? Math.max(e, f) : e || f;
                d.maxDuration = Math.max(d.animationDuration * d.animationIterationCount, d.transitionDuration);
                return d;
            }
            return function G(a, c) {
                var j = {};
                var l = ba(a);
                if (!l || !l.parentNode || !m.enabled()) {
                    return Ia();
                }
                c = X(c);
                var o = [];
                var u = a.attr("class");
                var w = P(c);
                var B;
                var G;
                var I;
                var J;
                var K;
                var L;
                var M;
                var N;
                var O;
                if (c.duration === 0 || !k.animations && !k.transitions) {
                    return Ia();
                }
                var S = c.event && h(c.event) ? c.event.join(" ") : c.event;
                var T = S && c.structural;
                var U = "";
                var V = "";
                if (T) {
                    U = Q(S, s, true);
                } else if (S) {
                    U = S;
                }
                if (c.addClass) {
                    V += Q(c.addClass, q);
                }
                if (c.removeClass) {
                    if (V.length) {
                        V += " ";
                    }
                    V += Q(c.removeClass, r);
                }
                if (c.applyClassesEarly && V.length) {
                    n(a, c);
                }
                var W = [ U, V ].join(" ").trim();
                var _ = u + " " + W;
                var aa = Q(W, t);
                var ca = w.to && Object.keys(w.to).length > 0;
                var da = (c.keyframeStyle || "").length > 0;
                if (!da && !ca && !W) {
                    return Ia();
                }
                var ha, ia;
                if (c.stagger > 0) {
                    var ja = parseFloat(c.stagger);
                    ia = {
                        transitionDelay: ja,
                        animationDelay: ja,
                        transitionDuration: 0,
                        animationDuration: 0
                    };
                } else {
                    ha = p(l, _);
                    ia = v(l, W, ha, qa);
                }
                if (!c.$$skipPreparationClasses) {
                    e.addClass(a, W);
                }
                var ma;
                if (c.transitionStyle) {
                    var pa = [ x, c.transitionStyle ];
                    ga(l, pa);
                    o.push(pa);
                }
                if (c.duration >= 0) {
                    ma = l.style[x].length > 0;
                    var ta = wa(c.duration, ma);
                    ga(l, ta);
                    o.push(ta);
                }
                if (c.keyframeStyle) {
                    var ua = [ z, c.keyframeStyle ];
                    ga(l, ua);
                    o.push(ua);
                }
                var xa = ia ? c.staggerIndex >= 0 ? c.staggerIndex : b.count(ha) : 0;
                var za = xa === 0;
                if (za && !c.skipBlocking) {
                    ea(l, H);
                }
                var Aa = F(l, _, ha);
                var Ba = Aa.maxDelay;
                L = Math.max(Ba, 0);
                N = Aa.maxDuration;
                var Ca = {};
                Ca.hasTransitions = Aa.transitionDuration > 0;
                Ca.hasAnimations = Aa.animationDuration > 0;
                Ca.hasTransitionAll = Ca.hasTransitions && Aa.transitionProperty == "all";
                Ca.applyTransitionDuration = ca && (Ca.hasTransitions && !Ca.hasTransitionAll || Ca.hasAnimations && !Ca.hasTransitions);
                Ca.applyAnimationDuration = c.duration && Ca.hasAnimations;
                Ca.applyTransitionDelay = va(c.delay) && (Ca.applyTransitionDuration || Ca.hasTransitions);
                Ca.applyAnimationDelay = va(c.delay) && Ca.hasAnimations;
                Ca.recalculateTimingStyles = V.length > 0;
                if (Ca.applyTransitionDuration || Ca.applyAnimationDuration) {
                    N = c.duration ? parseFloat(c.duration) : N;
                    if (Ca.applyTransitionDuration) {
                        Ca.hasTransitions = true;
                        Aa.transitionDuration = N;
                        ma = l.style[x + C].length > 0;
                        o.push(wa(N, ma));
                    }
                    if (Ca.applyAnimationDuration) {
                        Ca.hasAnimations = true;
                        Aa.animationDuration = N;
                        o.push(ra(N));
                    }
                }
                if (N === 0 && !Ca.recalculateTimingStyles) {
                    return Ia();
                }
                if (c.delay != null) {
                    var Da = parseFloat(c.delay);
                    if (Ca.applyTransitionDelay) {
                        o.push(sa(Da));
                    }
                    if (Ca.applyAnimationDelay) {
                        o.push(sa(Da, true));
                    }
                }
                if (c.duration == null && Aa.transitionDuration > 0) {
                    Ca.recalculateTimingStyles = Ca.recalculateTimingStyles || za;
                }
                M = L * la;
                O = N * la;
                if (!c.skipBlocking) {
                    Ca.blockTransition = Aa.transitionDuration > 0;
                    Ca.blockKeyframeAnimation = Aa.animationDuration > 0 && ia.animationDelay > 0 && ia.animationDuration === 0;
                }
                if (c.from) {
                    if (c.cleanupStyles) {
                        ya(j, l, Object.keys(c.from));
                    }
                    Z(a, c);
                }
                if (Ca.blockTransition || Ca.blockKeyframeAnimation) {
                    Ha(N);
                } else if (!c.skipBlocking) {
                    ea(l, false);
                }
                return {
                    $$willAnimate: true,
                    end: Ea,
                    start: function() {
                        if (B) return;
                        K = {
                            end: Ea,
                            cancel: Fa,
                            resume: null,
                            pause: null
                        };
                        J = new f(K);
                        D(Ja);
                        return J;
                    }
                };
                function Ea() {
                    Ga();
                }
                function Fa() {
                    Ga(true);
                }
                function Ga(b) {
                    if (B || I && G) return;
                    B = true;
                    G = false;
                    if (!c.$$skipPreparationClasses) {
                        e.removeClass(a, W);
                    }
                    e.removeClass(a, aa);
                    fa(l, false);
                    ea(l, false);
                    g(o, function(a) {
                        l.style[a[0]] = "";
                    });
                    n(a, c);
                    Y(a, c);
                    if (Object.keys(j).length) {
                        g(j, function(a, b) {
                            a ? l.style.setProperty(b, a) : l.style.removeProperty(b);
                        });
                    }
                    if (c.onDone) {
                        c.onDone();
                    }
                    if (J) {
                        J.complete(!b);
                    }
                }
                function Ha(a) {
                    if (Ca.blockTransition) {
                        ea(l, a);
                    }
                    if (Ca.blockKeyframeAnimation) {
                        fa(l, !!a);
                    }
                }
                function Ia() {
                    J = new f({
                        end: Ea,
                        cancel: Fa
                    });
                    D(d);
                    Ga();
                    return {
                        $$willAnimate: false,
                        start: function() {
                            return J;
                        },
                        end: Ea
                    };
                }
                function Ja() {
                    if (B) return;
                    if (!l.parentNode) {
                        Ga();
                        return;
                    }
                    var b, d = [];
                    var f = function(a) {
                        if (!I) {
                            G = !a;
                            if (Aa.animationDuration) {
                                var b = fa(l, G);
                                G ? o.push(b) : R(o, b);
                            }
                        } else if (G && a) {
                            G = false;
                            Ga();
                        }
                    };
                    var h = xa > 0 && (Aa.transitionDuration && ia.transitionDuration === 0 || Aa.animationDuration && ia.animationDuration === 0) && Math.max(ia.animationDelay, ia.transitionDelay);
                    if (h) {
                        i(k, Math.floor(h * xa * la), false);
                    } else {
                        k();
                    }
                    K.resume = function() {
                        f(true);
                    };
                    K.pause = function() {
                        f(false);
                    };
                    function k() {
                        if (B) return;
                        Ha(false);
                        g(o, function(a) {
                            var b = a[0];
                            var c = a[1];
                            l.style[b] = c;
                        });
                        n(a, c);
                        e.addClass(a, aa);
                        if (Ca.recalculateTimingStyles) {
                            _ = l.className + " " + W;
                            ha = p(l, _);
                            Aa = F(l, _, ha);
                            Ba = Aa.maxDelay;
                            L = Math.max(Ba, 0);
                            N = Aa.maxDuration;
                            if (N === 0) {
                                Ga();
                                return;
                            }
                            Ca.hasTransitions = Aa.transitionDuration > 0;
                            Ca.hasAnimations = Aa.animationDuration > 0;
                        }
                        if (Ca.applyAnimationDelay) {
                            Ba = typeof c.delay !== "boolean" && va(c.delay) ? parseFloat(c.delay) : Ba;
                            L = Math.max(Ba, 0);
                            Aa.animationDelay = Ba;
                            Da = sa(Ba, true);
                            o.push(Da);
                            l.style[Da[0]] = Da[1];
                        }
                        M = L * la;
                        O = N * la;
                        if (c.easing) {
                            var f, h = c.easing;
                            if (Ca.hasTransitions) {
                                f = x + E;
                                o.push([ f, h ]);
                                l.style[f] = h;
                            }
                            if (Ca.hasAnimations) {
                                f = z + E;
                                o.push([ f, h ]);
                                l.style[f] = h;
                            }
                        }
                        if (Aa.transitionDuration) {
                            d.push(y);
                        }
                        if (Aa.animationDuration) {
                            d.push(A);
                        }
                        b = Date.now();
                        var k = M + oa * O;
                        var r = b + k;
                        var s = a.data(ka) || [];
                        var t = true;
                        if (s.length) {
                            var u = s[0];
                            t = r > u.expectedEndTime;
                            if (t) {
                                i.cancel(u.timer);
                            } else {
                                s.push(Ga);
                            }
                        }
                        if (t) {
                            var v = i(m, k, false);
                            s[0] = {
                                timer: v,
                                expectedEndTime: r
                            };
                            s.push(Ga);
                            a.data(ka, s);
                        }
                        a.on(d.join(" "), q);
                        if (c.to) {
                            if (c.cleanupStyles) {
                                ya(j, l, Object.keys(c.to));
                            }
                            $(a, c);
                        }
                    }
                    function m() {
                        var b = a.data(ka);
                        if (b) {
                            for (var c = 1; c < b.length; c++) {
                                b[c]();
                            }
                            a.removeData(ka);
                        }
                    }
                    function q(a) {
                        a.stopPropagation();
                        var c = a.originalEvent || a;
                        var d = c.$manualTimeStamp || c.timeStamp || Date.now();
                        var e = parseFloat(c.elapsedTime.toFixed(na));
                        if (Math.max(d - b, 0) >= M && e >= N) {
                            I = true;
                            Ga();
                        }
                    }
                }
            };
        } ];
    } ];
    var Aa = [ "$$animationProvider", function(a) {
        a.drivers.push("$$animateCssDriver");
        var b = "ng-animate-shim";
        var c = "ng-anchor";
        var e = "ng-anchor-out";
        var h = "ng-anchor-in";
        function j(a) {
            return a.parentNode && a.parentNode.nodeType === 11;
        }
        this.$get = [ "$animateCss", "$rootScope", "$$AnimateRunner", "$rootElement", "$sniffer", "$$jqLite", "$document", function(a, k, l, m, n, o, p) {
            if (!n.animations && !n.transitions) return d;
            var q = p[0].body;
            var r = ba(m);
            var s = f(j(r) || q.contains(r) ? r : q);
            var t = W(o);
            return function z(a) {
                return a.from && a.to ? x(a.from, a.to, a.classes, a.anchors) : y(a);
            };
            function u(a) {
                return a.replace(/\bng-\S+\b/g, "");
            }
            function v(a, b) {
                if (i(a)) a = a.split(" ");
                if (i(b)) b = b.split(" ");
                return a.filter(function(a) {
                    return b.indexOf(a) === -1;
                }).join(" ");
            }
            function w(d, i, j) {
                var k = f(ba(i).cloneNode(true));
                var m = u(w(k));
                i.addClass(b);
                j.addClass(b);
                k.addClass(c);
                s.append(k);
                var n, o = t();
                if (!o) {
                    n = x();
                    if (!n) {
                        return y();
                    }
                }
                var p = o || n;
                return {
                    start: function() {
                        var a;
                        var b = p.start();
                        b.done(function() {
                            b = null;
                            if (!n) {
                                n = x();
                                if (n) {
                                    b = n.start();
                                    b.done(function() {
                                        b = null;
                                        y();
                                        a.complete();
                                    });
                                    return b;
                                }
                            }
                            y();
                            a.complete();
                        });
                        a = new l({
                            end: c,
                            cancel: c
                        });
                        return a;
                        function c() {
                            if (b) {
                                b.end();
                            }
                        }
                    }
                };
                function r(a) {
                    var b = {};
                    var c = ba(a).getBoundingClientRect();
                    g([ "width", "height", "top", "left" ], function(a) {
                        var d = c[a];
                        switch (a) {
                          case "top":
                            d += q.scrollTop;
                            break;

                          case "left":
                            d += q.scrollLeft;
                            break;
                        }
                        b[a] = Math.floor(d) + "px";
                    });
                    return b;
                }
                function t() {
                    var b = a(k, {
                        addClass: e,
                        delay: true,
                        from: r(i)
                    });
                    return b.$$willAnimate ? b : null;
                }
                function w(a) {
                    return a.attr("class") || "";
                }
                function x() {
                    var b = u(w(j));
                    var c = v(b, m);
                    var d = v(m, b);
                    var f = a(k, {
                        to: r(j),
                        addClass: h + " " + c,
                        removeClass: e + " " + d,
                        delay: true
                    });
                    return f.$$willAnimate ? f : null;
                }
                function y() {
                    k.remove();
                    i.removeClass(b);
                    j.removeClass(b);
                }
            }
            function x(a, b, c, e) {
                var f = y(a, d);
                var h = y(b, d);
                var i = [];
                g(e, function(a) {
                    var b = a["out"];
                    var d = a["in"];
                    var e = w(c, b, d);
                    if (e) {
                        i.push(e);
                    }
                });
                if (!f && !h && i.length === 0) return;
                return {
                    start: function() {
                        var a = [];
                        if (f) {
                            a.push(f.start());
                        }
                        if (h) {
                            a.push(h.start());
                        }
                        g(i, function(b) {
                            a.push(b.start());
                        });
                        var b = new l({
                            end: c,
                            cancel: c
                        });
                        l.all(a, function(a) {
                            b.complete(a);
                        });
                        return b;
                        function c() {
                            g(a, function(a) {
                                a.end();
                            });
                        }
                    }
                };
            }
            function y(b) {
                var c = b.element;
                var d = b.options || {};
                if (b.structural) {
                    d.event = b.event;
                    d.structural = true;
                    d.applyClassesEarly = true;
                    if (b.event === "leave") {
                        d.onDone = d.domOperation;
                    }
                }
                if (d.preparationClasses) {
                    d.event = ha(d.event, d.preparationClasses);
                }
                var e = a(c, d);
                return e.$$willAnimate ? e : null;
            }
        } ];
    } ];
    var Ba = [ "$animateProvider", function(a) {
        this.$get = [ "$injector", "$$AnimateRunner", "$$jqLite", function(b, c, e) {
            var f = W(e);
            return function(a, b, e, h) {
                if (arguments.length === 3 && j(e)) {
                    h = e;
                    e = null;
                }
                h = X(h);
                if (!e) {
                    e = a.attr("class") || "";
                    if (h.addClass) {
                        e += " " + h.addClass;
                    }
                    if (h.removeClass) {
                        e += " " + h.removeClass;
                    }
                }
                var k = h.addClass;
                var l = h.removeClass;
                var n = i(e);
                var o, p;
                if (n.length) {
                    var q, r;
                    if (b == "leave") {
                        r = "leave";
                        q = "afterLeave";
                    } else {
                        r = "before" + b.charAt(0).toUpperCase() + b.substr(1);
                        q = b;
                    }
                    if (b !== "enter" && b !== "move") {
                        o = v(a, b, h, n, r);
                    }
                    p = v(a, b, h, n, q);
                }
                if (!o && !p) return;
                function s() {
                    h.domOperation();
                    f(a, h);
                }
                return {
                    start: function() {
                        var b;
                        var e = [];
                        if (o) {
                            e.push(function(a) {
                                b = o(a);
                            });
                        }
                        if (e.length) {
                            e.push(function(a) {
                                s();
                                a(true);
                            });
                        } else {
                            s();
                        }
                        if (p) {
                            e.push(function(a) {
                                b = p(a);
                            });
                        }
                        var f = false;
                        var g = new c({
                            end: function() {
                                j();
                            },
                            cancel: function() {
                                j(true);
                            }
                        });
                        c.chain(e, i);
                        return g;
                        function i(b) {
                            f = true;
                            s();
                            Y(a, h);
                            g.complete(b);
                        }
                        function j(a) {
                            if (!f) {
                                (b || d)(a);
                                i(a);
                            }
                        }
                    }
                };
                function t(a, b, e, f, g) {
                    var h;
                    switch (e) {
                      case "animate":
                        h = [ b, f.from, f.to, g ];
                        break;

                      case "setClass":
                        h = [ b, k, l, g ];
                        break;

                      case "addClass":
                        h = [ b, k, g ];
                        break;

                      case "removeClass":
                        h = [ b, l, g ];
                        break;

                      default:
                        h = [ b, g ];
                        break;
                    }
                    h.push(f);
                    var i = a.apply(a, h);
                    if (i) {
                        if (m(i.start)) {
                            i = i.start();
                        }
                        if (i instanceof c) {
                            i.done(g);
                        } else if (m(i)) {
                            return i;
                        }
                    }
                    return d;
                }
                function u(a, b, e, f, h) {
                    var i = [];
                    g(f, function(f) {
                        var g = f[h];
                        if (!g) return;
                        i.push(function() {
                            var f;
                            var h;
                            var i = false;
                            var j = function(a) {
                                if (!i) {
                                    i = true;
                                    (h || d)(a);
                                    f.complete(!a);
                                }
                            };
                            f = new c({
                                end: function() {
                                    j();
                                },
                                cancel: function() {
                                    j(true);
                                }
                            });
                            h = t(g, a, b, e, function(a) {
                                var b = a === false;
                                j(b);
                            });
                            return f;
                        });
                    });
                    return i;
                }
                function v(a, b, d, e, f) {
                    var h = u(a, b, d, e, f);
                    if (h.length === 0) {
                        var i, j;
                        if (f === "beforeSetClass") {
                            i = u(a, "removeClass", d, e, "beforeRemoveClass");
                            j = u(a, "addClass", d, e, "beforeAddClass");
                        } else if (f === "setClass") {
                            i = u(a, "removeClass", d, e, "removeClass");
                            j = u(a, "addClass", d, e, "addClass");
                        }
                        if (i) {
                            h = h.concat(i);
                        }
                        if (j) {
                            h = h.concat(j);
                        }
                    }
                    if (h.length === 0) return;
                    return function k(a) {
                        var b = [];
                        if (h.length) {
                            g(h, function(a) {
                                b.push(a());
                            });
                        }
                        b.length ? c.all(b, a) : a();
                        return function d(a) {
                            g(b, function(b) {
                                a ? b.cancel() : b.end();
                            });
                        };
                    };
                }
            };
            function i(c) {
                c = h(c) ? c : c.split(" ");
                var d = [], e = {};
                for (var f = 0; f < c.length; f++) {
                    var g = c[f], i = a.$$registeredAnimations[g];
                    if (i && !e[g]) {
                        d.push(b.get(i));
                        e[g] = true;
                    }
                }
                return d;
            }
        } ];
    } ];
    var Ca = [ "$$animationProvider", function(a) {
        a.drivers.push("$$animateJsDriver");
        this.$get = [ "$$animateJs", "$$AnimateRunner", function(a, b) {
            return function d(a) {
                if (a.from && a.to) {
                    var d = c(a.from);
                    var e = c(a.to);
                    if (!d && !e) return;
                    return {
                        start: function() {
                            var a = [];
                            if (d) {
                                a.push(d.start());
                            }
                            if (e) {
                                a.push(e.start());
                            }
                            b.all(a, h);
                            var c = new b({
                                end: f(),
                                cancel: f()
                            });
                            return c;
                            function f() {
                                return function() {
                                    g(a, function(a) {
                                        a.end();
                                    });
                                };
                            }
                            function h(a) {
                                c.complete(a);
                            }
                        }
                    };
                } else {
                    return c(a);
                }
            };
            function c(b) {
                var c = b.element;
                var d = b.event;
                var e = b.options;
                var f = b.classes;
                return a(c, d, f, e);
            }
        } ];
    } ];
    var Da = "data-ng-animate";
    var Ea = "$ngAnimatePin";
    var Fa = [ "$animateProvider", function(a) {
        var b = 1;
        var c = 2;
        var d = this.rules = {
            skip: [],
            cancel: [],
            join: []
        };
        function m(a, b, c, e) {
            return d[a].some(function(a) {
                return a(b, c, e);
            });
        }
        function p(a, b) {
            a = a || {};
            var c = (a.addClass || "").length > 0;
            var d = (a.removeClass || "").length > 0;
            return b ? c && d : c || d;
        }
        d.join.push(function(a, b, c) {
            return !b.structural && p(b.options);
        });
        d.skip.push(function(a, b, c) {
            return !b.structural && !p(b.options);
        });
        d.skip.push(function(a, b, c) {
            return c.event == "leave" && b.structural;
        });
        d.skip.push(function(a, b, d) {
            return d.structural && d.state === c && !b.structural;
        });
        d.cancel.push(function(a, b, c) {
            return c.structural && b.structural;
        });
        d.cancel.push(function(a, b, d) {
            return d.state === c && b.structural;
        });
        d.cancel.push(function(a, b, c) {
            var d = b.options;
            var e = c.options;
            return d.addClass && d.addClass === e.removeClass || d.removeClass && d.removeClass === e.addClass;
        });
        this.$get = [ "$$rAF", "$rootScope", "$rootElement", "$document", "$$HashMap", "$$animation", "$$AnimateRunner", "$templateRequest", "$$jqLite", "$$forceReflow", function(d, q, r, s, t, u, w, x, y, z) {
            var A = new t();
            var B = new t();
            var C = null;
            function D() {
                var a = false;
                return function(b) {
                    if (a) {
                        b();
                    } else {
                        q.$$postDigest(function() {
                            a = true;
                            b();
                        });
                    }
                };
            }
            var E = q.$watch(function() {
                return x.totalPendingRequests === 0;
            }, function(a) {
                if (!a) return;
                E();
                q.$$postDigest(function() {
                    q.$$postDigest(function() {
                        if (C === null) {
                            C = true;
                        }
                    });
                });
            });
            var F = {};
            var G = a.classNameFilter();
            var H = !G ? function() {
                return true;
            } : function(a) {
                return G.test(a);
            };
            var I = W(y);
            function J(a, b) {
                return _(a, b, {});
            }
            function K(a, b) {
                var c = ba(a);
                var d = [];
                var e = F[b];
                if (e) {
                    g(e, function(a) {
                        if (a.node.contains(c)) {
                            d.push(a.callback);
                        }
                    });
                }
                return d;
            }
            return {
                on: function(a, b, c) {
                    var d = T(b);
                    F[a] = F[a] || [];
                    F[a].push({
                        node: d,
                        callback: c
                    });
                },
                off: function(a, b, c) {
                    var d = F[a];
                    if (!d) return;
                    F[a] = arguments.length === 1 ? null : e(d, b, c);
                    function e(a, b, c) {
                        var d = T(b);
                        return a.filter(function(a) {
                            var b = a.node === d && (!c || a.callback === c);
                            return !b;
                        });
                    }
                },
                pin: function(a, b) {
                    N(n(a), "element", "not an element");
                    N(n(b), "parentElement", "not an element");
                    a.data(Ea, b);
                },
                push: function(a, b, c, d) {
                    c = c || {};
                    c.domOperation = d;
                    return L(a, b, c);
                },
                enabled: function(a, b) {
                    var c = arguments.length;
                    if (c === 0) {
                        b = !!C;
                    } else {
                        var d = n(a);
                        if (!d) {
                            b = C = !!a;
                        } else {
                            var e = ba(a);
                            var f = B.get(e);
                            if (c === 1) {
                                b = !f;
                            } else {
                                b = !!b;
                                if (!b) {
                                    B.put(e, true);
                                } else if (f) {
                                    B.remove(e);
                                }
                            }
                        }
                    }
                    return b;
                }
            };
            function L(a, e, f) {
                var k, l;
                a = S(a);
                if (a) {
                    k = ba(a);
                    l = a.parent();
                }
                f = X(f);
                var n = new w();
                var o = D();
                if (h(f.addClass)) {
                    f.addClass = f.addClass.join(" ");
                }
                if (f.addClass && !i(f.addClass)) {
                    f.addClass = null;
                }
                if (h(f.removeClass)) {
                    f.removeClass = f.removeClass.join(" ");
                }
                if (f.removeClass && !i(f.removeClass)) {
                    f.removeClass = null;
                }
                if (f.from && !j(f.from)) {
                    f.from = null;
                }
                if (f.to && !j(f.to)) {
                    f.to = null;
                }
                if (!k) {
                    P();
                    return n;
                }
                var r = [ k.className, f.addClass, f.removeClass ].join(" ");
                if (!H(r)) {
                    P();
                    return n;
                }
                var s = [ "enter", "move", "leave" ].indexOf(e) >= 0;
                var t = !C || B.get(k);
                var v = !t && A.get(k) || {};
                var x = !!v.state;
                if (!t && (!x || v.state != b)) {
                    t = !Q(a, l, e);
                }
                if (t) {
                    P();
                    return n;
                }
                if (s) {
                    M(a);
                }
                var y = {
                    structural: s,
                    element: a,
                    event: e,
                    close: P,
                    options: f,
                    runner: n
                };
                if (x) {
                    var z = m("skip", a, y, v);
                    if (z) {
                        if (v.state === c) {
                            P();
                            return n;
                        } else {
                            _(a, v.options, f);
                            return v.runner;
                        }
                    }
                    var E = m("cancel", a, y, v);
                    if (E) {
                        if (v.state === c) {
                            v.runner.end();
                        } else if (v.structural) {
                            v.close();
                        } else {
                            _(a, v.options, y.options);
                            return v.runner;
                        }
                    } else {
                        var F = m("join", a, y, v);
                        if (F) {
                            if (v.state === c) {
                                J(a, f);
                            } else {
                                ca(a, s ? e : null, f);
                                e = y.event = v.event;
                                f = _(a, v.options, y.options);
                                return v.runner;
                            }
                        }
                    }
                } else {
                    J(a, f);
                }
                var G = y.structural;
                if (!G) {
                    G = y.event === "animate" && Object.keys(y.options.to || {}).length > 0 || p(y.options);
                }
                if (!G) {
                    P();
                    O(a);
                    return n;
                }
                var L = (v.counter || 0) + 1;
                y.counter = L;
                R(a, b, y);
                q.$$postDigest(function() {
                    var b = A.get(k);
                    var d = !b;
                    b = b || {};
                    var g = a.parent() || [];
                    var h = g.length > 0 && (b.event === "animate" || b.structural || p(b.options));
                    if (d || b.counter !== L || !h) {
                        if (d) {
                            I(a, f);
                            Y(a, f);
                        }
                        if (d || s && b.event !== e) {
                            f.domOperation();
                            n.end();
                        }
                        if (!h) {
                            O(a);
                        }
                        return;
                    }
                    e = !b.structural && p(b.options, true) ? "setClass" : b.event;
                    R(a, c);
                    var i = u(a, e, b.options);
                    i.done(function(b) {
                        P(!b);
                        var c = A.get(k);
                        if (c && c.counter === L) {
                            O(ba(a));
                        }
                        N(n, e, "close", {});
                    });
                    n.setHost(i);
                    N(n, e, "start", {});
                });
                return n;
                function N(b, c, e, f) {
                    o(function() {
                        var b = K(a, c);
                        if (b.length) {
                            d(function() {
                                g(b, function(b) {
                                    b(a, e, f);
                                });
                            });
                        }
                    });
                    b.progress(c, e, f);
                }
                function P(b) {
                    da(a, f);
                    I(a, f);
                    Y(a, f);
                    f.domOperation();
                    n.complete(!b);
                }
            }
            function M(a) {
                var d = ba(a);
                var e = d.querySelectorAll("[" + Da + "]");
                g(e, function(a) {
                    var d = parseInt(a.getAttribute(Da));
                    var e = A.get(a);
                    switch (d) {
                      case c:
                        e.runner.end();

                      case b:
                        if (e) {
                            A.remove(a);
                        }
                        break;
                    }
                });
            }
            function O(a) {
                var b = ba(a);
                b.removeAttribute(Da);
                A.remove(b);
            }
            function P(a, b) {
                return ba(a) === ba(b);
            }
            function Q(a, b, c) {
                var d = f(s[0].body);
                var e = P(a, d) || a[0].nodeName === "HTML";
                var g = P(a, r);
                var h = false;
                var i;
                var j = a.data(Ea);
                if (j) {
                    b = j;
                }
                while (b && b.length) {
                    if (!g) {
                        g = P(b, r);
                    }
                    var m = b[0];
                    if (m.nodeType !== o) {
                        break;
                    }
                    var n = A.get(m) || {};
                    if (!h) {
                        h = n.structural || B.get(m);
                    }
                    if (k(i) || i === true) {
                        var p = b.data(v);
                        if (l(p)) {
                            i = p;
                        }
                    }
                    if (h && i === false) break;
                    if (!g) {
                        g = P(b, r);
                        if (!g) {
                            j = b.data(Ea);
                            if (j) {
                                b = j;
                            }
                        }
                    }
                    if (!e) {
                        e = P(b, d);
                    }
                    b = b.parent();
                }
                var q = !h || i;
                return q && g && e;
            }
            function R(a, b, c) {
                c = c || {};
                c.state = b;
                var d = ba(a);
                d.setAttribute(Da, b);
                var f = A.get(d);
                var g = f ? e(f, c) : c;
                A.put(d, g);
            }
        } ];
    } ];
    var Ga = [ "$$rAF", function(a) {
        var b = [];
        function c(c) {
            b.push(c);
            if (b.length > 1) return;
            a(function() {
                for (var a = 0; a < b.length; a++) {
                    b[a]();
                }
                b = [];
            });
        }
        return function() {
            var a = false;
            c(function() {
                a = true;
            });
            return function(b) {
                a ? b() : c(b);
            };
        };
    } ];
    var Ha = [ "$q", "$sniffer", "$$animateAsyncRun", function(a, b, c) {
        var e = 0;
        var f = 1;
        var h = 2;
        i.chain = function(a, b) {
            var c = 0;
            d();
            function d() {
                if (c === a.length) {
                    b(true);
                    return;
                }
                a[c](function(a) {
                    if (a === false) {
                        b(false);
                        return;
                    }
                    c++;
                    d();
                });
            }
        };
        i.all = function(a, b) {
            var c = 0;
            var d = true;
            g(a, function(a) {
                a.done(e);
            });
            function e(e) {
                d = d && e;
                if (++c === a.length) {
                    b(d);
                }
            }
        };
        function i(a) {
            this.setHost(a);
            this._doneCallbacks = [];
            this._runInAnimationFrame = c();
            this._state = 0;
        }
        i.prototype = {
            setHost: function(a) {
                this.host = a || {};
            },
            done: function(a) {
                if (this._state === h) {
                    a();
                } else {
                    this._doneCallbacks.push(a);
                }
            },
            progress: d,
            getPromise: function() {
                if (!this.promise) {
                    var b = this;
                    this.promise = a(function(a, c) {
                        b.done(function(b) {
                            b === false ? c() : a();
                        });
                    });
                }
                return this.promise;
            },
            then: function(a, b) {
                return this.getPromise().then(a, b);
            },
            "catch": function(a) {
                return this.getPromise()["catch"](a);
            },
            "finally": function(a) {
                return this.getPromise()["finally"](a);
            },
            pause: function() {
                if (this.host.pause) {
                    this.host.pause();
                }
            },
            resume: function() {
                if (this.host.resume) {
                    this.host.resume();
                }
            },
            end: function() {
                if (this.host.end) {
                    this.host.end();
                }
                this._resolve(true);
            },
            cancel: function() {
                if (this.host.cancel) {
                    this.host.cancel();
                }
                this._resolve(false);
            },
            complete: function(a) {
                var b = this;
                if (b._state === e) {
                    b._state = f;
                    b._runInAnimationFrame(function() {
                        b._resolve(a);
                    });
                }
            },
            _resolve: function(a) {
                if (this._state !== h) {
                    g(this._doneCallbacks, function(b) {
                        b(a);
                    });
                    this._doneCallbacks.length = 0;
                    this._state = h;
                }
            }
        };
        return i;
    } ];
    var Ia = [ "$animateProvider", function(a) {
        var b = "ng-animate-ref";
        var c = this.drivers = [];
        var d = "$$animationRunner";
        function e(a, b) {
            a.data(d, b);
        }
        function h(a) {
            a.removeData(d);
        }
        function i(a) {
            return a.data(d);
        }
        this.$get = [ "$$jqLite", "$rootScope", "$injector", "$$AnimateRunner", "$$HashMap", "$$rAFScheduler", function(a, d, j, k, l, m) {
            var n = [];
            var o = W(a);
            function p(a) {
                var b = {
                    children: []
                };
                var c, d = new l();
                for (c = 0; c < a.length; c++) {
                    var e = a[c];
                    d.put(e.domNode, a[c] = {
                        domNode: e.domNode,
                        fn: e.fn,
                        children: []
                    });
                }
                for (c = 0; c < a.length; c++) {
                    f(a[c]);
                }
                return g(b);
                function f(a) {
                    if (a.processed) return a;
                    a.processed = true;
                    var c = a.domNode;
                    var e = c.parentNode;
                    d.put(c, a);
                    var g;
                    while (e) {
                        g = d.get(e);
                        if (g) {
                            if (!g.processed) {
                                g = f(g);
                            }
                            break;
                        }
                        e = e.parentNode;
                    }
                    (g || b).children.push(a);
                    return a;
                }
                function g(a) {
                    var b = [];
                    var c = [];
                    var d;
                    for (d = 0; d < a.children.length; d++) {
                        c.push(a.children[d]);
                    }
                    var e = c.length;
                    var f = 0;
                    var g = [];
                    for (d = 0; d < c.length; d++) {
                        var h = c[d];
                        if (e <= 0) {
                            e = f;
                            f = 0;
                            b.push(g);
                            g = [];
                        }
                        g.push(h.fn);
                        h.children.forEach(function(a) {
                            f++;
                            c.push(a);
                        });
                        e--;
                    }
                    if (g.length) {
                        b.push(g);
                    }
                    return b;
                }
            }
            return function(l, q, r) {
                r = X(r);
                var s = [ "enter", "move", "leave" ].indexOf(q) >= 0;
                var t = new k({
                    end: function() {
                        E();
                    },
                    cancel: function() {
                        E(true);
                    }
                });
                if (!c.length) {
                    E();
                    return t;
                }
                e(l, t);
                var v = O(l.attr("class"), O(r.addClass, r.removeClass));
                var w = r.tempClasses;
                if (w) {
                    v += " " + w;
                    r.tempClasses = null;
                }
                n.push({
                    element: l,
                    classes: v,
                    event: q,
                    structural: s,
                    options: r,
                    beforeStart: B,
                    close: E
                });
                l.on("$destroy", D);
                if (n.length > 1) return t;
                d.$$postDigest(function() {
                    var a = [];
                    g(n, function(b) {
                        if (i(b.element)) {
                            a.push(b);
                        } else {
                            b.close();
                        }
                    });
                    n.length = 0;
                    var b = y(a);
                    var c = [];
                    g(b, function(a) {
                        c.push({
                            domNode: ba(a.from ? a.from.element : a.element),
                            fn: function b() {
                                a.beforeStart();
                                var b, c = a.close;
                                var d = a.anchors ? a.from.element || a.to.element : a.element;
                                if (i(d)) {
                                    var e = A(a);
                                    if (e) {
                                        b = e.start;
                                    }
                                }
                                if (!b) {
                                    c();
                                } else {
                                    var f = b();
                                    f.done(function(a) {
                                        c(!a);
                                    });
                                    C(a, f);
                                }
                            }
                        });
                    });
                    m(p(c));
                });
                return t;
                function x(a) {
                    var c = "[" + b + "]";
                    var d = a.hasAttribute(b) ? [ a ] : a.querySelectorAll(c);
                    var e = [];
                    g(d, function(a) {
                        var c = a.getAttribute(b);
                        if (c && c.length) {
                            e.push(a);
                        }
                    });
                    return e;
                }
                function y(a) {
                    var c = [];
                    var d = {};
                    g(a, function(a, e) {
                        var h = a.element;
                        var i = ba(h);
                        var j = a.event;
                        var k = [ "enter", "move" ].indexOf(j) >= 0;
                        var l = a.structural ? x(i) : [];
                        if (l.length) {
                            var m = k ? "to" : "from";
                            g(l, function(a) {
                                var c = a.getAttribute(b);
                                d[c] = d[c] || {};
                                d[c][m] = {
                                    animationID: e,
                                    element: f(a)
                                };
                            });
                        } else {
                            c.push(a);
                        }
                    });
                    var e = {};
                    var h = {};
                    g(d, function(b, d) {
                        var f = b.from;
                        var g = b.to;
                        if (!f || !g) {
                            var i = f ? f.animationID : g.animationID;
                            var j = i.toString();
                            if (!e[j]) {
                                e[j] = true;
                                c.push(a[i]);
                            }
                            return;
                        }
                        var k = a[f.animationID];
                        var l = a[g.animationID];
                        var m = f.animationID.toString();
                        if (!h[m]) {
                            var n = h[m] = {
                                structural: true,
                                beforeStart: function() {
                                    k.beforeStart();
                                    l.beforeStart();
                                },
                                close: function() {
                                    k.close();
                                    l.close();
                                },
                                classes: z(k.classes, l.classes),
                                from: k,
                                to: l,
                                anchors: []
                            };
                            if (n.classes.length) {
                                c.push(n);
                            } else {
                                c.push(k);
                                c.push(l);
                            }
                        }
                        h[m].anchors.push({
                            out: f.element,
                            "in": g.element
                        });
                    });
                    return c;
                }
                function z(a, b) {
                    a = a.split(" ");
                    b = b.split(" ");
                    var c = [];
                    for (var d = 0; d < a.length; d++) {
                        var e = a[d];
                        if (e.substring(0, 3) === "ng-") continue;
                        for (var f = 0; f < b.length; f++) {
                            if (e === b[f]) {
                                c.push(e);
                                break;
                            }
                        }
                    }
                    return c.join(" ");
                }
                function A(a) {
                    for (var b = c.length - 1; b >= 0; b--) {
                        var d = c[b];
                        if (!j.has(d)) continue;
                        var e = j.get(d);
                        var f = e(a);
                        if (f) {
                            return f;
                        }
                    }
                }
                function B() {
                    l.addClass(u);
                    if (w) {
                        a.addClass(l, w);
                    }
                }
                function C(a, b) {
                    if (a.from && a.to) {
                        c(a.from.element);
                        c(a.to.element);
                    } else {
                        c(a.element);
                    }
                    function c(a) {
                        i(a).setHost(b);
                    }
                }
                function D() {
                    var a = i(l);
                    if (a && (q !== "leave" || !r.$$domOperationFired)) {
                        a.end();
                    }
                }
                function E(b) {
                    l.off("$destroy", D);
                    h(l);
                    o(l, r);
                    Y(l, r);
                    r.domOperation();
                    if (w) {
                        a.removeClass(l, w);
                    }
                    l.removeClass(u);
                    t.complete(!b);
                }
            };
        } ];
    } ];
    b.module("ngAnimate", []).directive("ngAnimateChildren", ja).factory("$$rAFScheduler", ia).factory("$$AnimateRunner", Ha).factory("$$animateAsyncRun", Ga).provider("$$animateQueue", Fa).provider("$$animation", Ia).provider("$animateCss", za).provider("$$animateCssDriver", Aa).provider("$$animateJs", Ba).provider("$$animateJsDriver", Ca);
})(window, window.angular);

(function(a, b, c) {
    "use strict";
    var d = b.module("ngTouch", []);
    function e(a) {
        return b.lowercase(a.nodeName || a[0] && a[0].nodeName);
    }
    d.factory("$swipe", [ function() {
        var a = 10;
        var c = {
            mouse: {
                start: "mousedown",
                move: "mousemove",
                end: "mouseup"
            },
            touch: {
                start: "touchstart",
                move: "touchmove",
                end: "touchend",
                cancel: "touchcancel"
            }
        };
        function d(a) {
            var b = a.originalEvent || a;
            var c = b.touches && b.touches.length ? b.touches : [ b ];
            var d = b.changedTouches && b.changedTouches[0] || c[0];
            return {
                x: d.clientX,
                y: d.clientY
            };
        }
        function e(a, d) {
            var e = [];
            b.forEach(a, function(a) {
                var b = c[a][d];
                if (b) {
                    e.push(b);
                }
            });
            return e.join(" ");
        }
        return {
            bind: function(b, c, f) {
                var g, h;
                var i;
                var j;
                var k = false;
                f = f || [ "mouse", "touch" ];
                b.on(e(f, "start"), function(a) {
                    i = d(a);
                    k = true;
                    g = 0;
                    h = 0;
                    j = i;
                    c["start"] && c["start"](i, a);
                });
                var l = e(f, "cancel");
                if (l) {
                    b.on(l, function(a) {
                        k = false;
                        c["cancel"] && c["cancel"](a);
                    });
                }
                b.on(e(f, "move"), function(b) {
                    if (!k) return;
                    if (!i) return;
                    var e = d(b);
                    g += Math.abs(e.x - j.x);
                    h += Math.abs(e.y - j.y);
                    j = e;
                    if (g < a && h < a) {
                        return;
                    }
                    if (h > g) {
                        k = false;
                        c["cancel"] && c["cancel"](b);
                        return;
                    } else {
                        b.preventDefault();
                        c["move"] && c["move"](e, b);
                    }
                });
                b.on(e(f, "end"), function(a) {
                    if (!k) return;
                    k = false;
                    c["end"] && c["end"](d(a), a);
                });
            }
        };
    } ]);
    d.config([ "$provide", function(a) {
        a.decorator("ngClickDirective", [ "$delegate", function(a) {
            a.shift();
            return a;
        } ]);
    } ]);
    d.directive("ngClick", [ "$parse", "$timeout", "$rootElement", function(a, c, d) {
        var f = 750;
        var g = 12;
        var h = 2500;
        var i = 25;
        var j = "ng-click-active";
        var k;
        var l;
        var m;
        function n(a, b, c, d) {
            return Math.abs(a - c) < i && Math.abs(b - d) < i;
        }
        function o(a, b, c) {
            for (var d = 0; d < a.length; d += 2) {
                if (n(a[d], a[d + 1], b, c)) {
                    a.splice(d, d + 2);
                    return true;
                }
            }
            return false;
        }
        function p(a) {
            if (Date.now() - k > h) {
                return;
            }
            var b = a.touches && a.touches.length ? a.touches : [ a ];
            var c = b[0].clientX;
            var d = b[0].clientY;
            if (c < 1 && d < 1) {
                return;
            }
            if (m && m[0] === c && m[1] === d) {
                return;
            }
            if (m) {
                m = null;
            }
            if (e(a.target) === "label") {
                m = [ c, d ];
            }
            if (o(l, c, d)) {
                return;
            }
            a.stopPropagation();
            a.preventDefault();
            a.target && a.target.blur && a.target.blur();
        }
        function q(a) {
            var b = a.touches && a.touches.length ? a.touches : [ a ];
            var d = b[0].clientX;
            var e = b[0].clientY;
            l.push(d, e);
            c(function() {
                for (var a = 0; a < l.length; a += 2) {
                    if (l[a] == d && l[a + 1] == e) {
                        l.splice(a, a + 2);
                        return;
                    }
                }
            }, h, false);
        }
        function r(a, b) {
            if (!l) {
                d[0].addEventListener("click", p, true);
                d[0].addEventListener("touchstart", q, true);
                l = [];
            }
            k = Date.now();
            o(l, a, b);
        }
        return function(c, d, e) {
            var h = a(e.ngClick), i = false, k, l, m, n;
            function o() {
                i = false;
                d.removeClass(j);
            }
            d.on("touchstart", function(a) {
                i = true;
                k = a.target ? a.target : a.srcElement;
                if (k.nodeType == 3) {
                    k = k.parentNode;
                }
                d.addClass(j);
                l = Date.now();
                var b = a.originalEvent || a;
                var c = b.touches && b.touches.length ? b.touches : [ b ];
                var e = c[0];
                m = e.clientX;
                n = e.clientY;
            });
            d.on("touchcancel", function(a) {
                o();
            });
            d.on("touchend", function(a) {
                var c = Date.now() - l;
                var h = a.originalEvent || a;
                var j = h.changedTouches && h.changedTouches.length ? h.changedTouches : h.touches && h.touches.length ? h.touches : [ h ];
                var p = j[0];
                var q = p.clientX;
                var s = p.clientY;
                var t = Math.sqrt(Math.pow(q - m, 2) + Math.pow(s - n, 2));
                if (i && c < f && t < g) {
                    r(q, s);
                    if (k) {
                        k.blur();
                    }
                    if (!b.isDefined(e.disabled) || e.disabled === false) {
                        d.triggerHandler("click", [ a ]);
                    }
                }
                o();
            });
            d.onclick = function(a) {};
            d.on("click", function(a, b) {
                c.$apply(function() {
                    h(c, {
                        $event: b || a
                    });
                });
            });
            d.on("mousedown", function(a) {
                d.addClass(j);
            });
            d.on("mousemove mouseup", function(a) {
                d.removeClass(j);
            });
        };
    } ]);
    function f(a, c, e) {
        d.directive(a, [ "$parse", "$swipe", function(d, f) {
            var g = 75;
            var h = .3;
            var i = 30;
            return function(j, k, l) {
                var m = d(l[a]);
                var n, o;
                function p(a) {
                    if (!n) return false;
                    var b = Math.abs(a.y - n.y);
                    var d = (a.x - n.x) * c;
                    return o && b < g && d > 0 && d > i && b / d < h;
                }
                var q = [ "touch" ];
                if (!b.isDefined(l["ngSwipeDisableMouse"])) {
                    q.push("mouse");
                }
                f.bind(k, {
                    start: function(a, b) {
                        n = a;
                        o = true;
                    },
                    cancel: function(a) {
                        o = false;
                    },
                    end: function(a, b) {
                        if (p(a)) {
                            j.$apply(function() {
                                k.triggerHandler(e);
                                m(j, {
                                    $event: b
                                });
                            });
                        }
                    }
                }, q);
            };
        } ]);
    }
    f("ngSwipeLeft", -1, "swipeleft");
    f("ngSwipeRight", 1, "swiperight");
})(window, window.angular);

angular.module("ui.bootstrap", [ "ui.bootstrap.tpls", "ui.bootstrap.collapse", "ui.bootstrap.accordion", "ui.bootstrap.alert", "ui.bootstrap.bindHtml", "ui.bootstrap.buttons", "ui.bootstrap.carousel", "ui.bootstrap.dateparser", "ui.bootstrap.position", "ui.bootstrap.datepicker", "ui.bootstrap.dropdown", "ui.bootstrap.modal", "ui.bootstrap.pagination", "ui.bootstrap.tooltip", "ui.bootstrap.popover", "ui.bootstrap.progressbar", "ui.bootstrap.rating", "ui.bootstrap.tabs", "ui.bootstrap.timepicker", "ui.bootstrap.transition", "ui.bootstrap.typeahead" ]);

angular.module("ui.bootstrap.tpls", [ "template/accordion/accordion-group.html", "template/accordion/accordion.html", "template/alert/alert.html", "template/carousel/carousel.html", "template/carousel/slide.html", "template/datepicker/datepicker.html", "template/datepicker/day.html", "template/datepicker/month.html", "template/datepicker/popup.html", "template/datepicker/year.html", "template/modal/backdrop.html", "template/modal/window.html", "template/pagination/pager.html", "template/pagination/pagination.html", "template/tooltip/tooltip-html-popup.html", "template/tooltip/tooltip-html-unsafe-popup.html", "template/tooltip/tooltip-popup.html", "template/tooltip/tooltip-template-popup.html", "template/popover/popover-html.html", "template/popover/popover-template.html", "template/popover/popover.html", "template/progressbar/bar.html", "template/progressbar/progress.html", "template/progressbar/progressbar.html", "template/rating/rating.html", "template/tabs/tab.html", "template/tabs/tabset.html", "template/timepicker/timepicker.html", "template/typeahead/typeahead-match.html", "template/typeahead/typeahead-popup.html" ]);

angular.module("ui.bootstrap.collapse", []).directive("collapse", [ "$animate", function(a) {
    return {
        link: function(b, c, d) {
            function e() {
                c.removeClass("collapse").addClass("collapsing").attr("aria-expanded", true).attr("aria-hidden", false);
                a.addClass(c, "in", {
                    to: {
                        height: c[0].scrollHeight + "px"
                    }
                }).then(f);
            }
            function f() {
                c.removeClass("collapsing");
                c.css({
                    height: "auto"
                });
            }
            function g() {
                if (!c.hasClass("collapse") && !c.hasClass("in")) {
                    return h();
                }
                c.css({
                    height: c[0].scrollHeight + "px"
                }).removeClass("collapse").addClass("collapsing").attr("aria-expanded", false).attr("aria-hidden", true);
                a.removeClass(c, "in", {
                    to: {
                        height: "0"
                    }
                }).then(h);
            }
            function h() {
                c.css({
                    height: "0"
                });
                c.removeClass("collapsing");
                c.addClass("collapse");
            }
            b.$watch(d.collapse, function(a) {
                if (a) {
                    g();
                } else {
                    e();
                }
            });
        }
    };
} ]);

angular.module("ui.bootstrap.accordion", [ "ui.bootstrap.collapse" ]).constant("accordionConfig", {
    closeOthers: true
}).controller("AccordionController", [ "$scope", "$attrs", "accordionConfig", function(a, b, c) {
    this.groups = [];
    this.closeOthers = function(d) {
        var e = angular.isDefined(b.closeOthers) ? a.$eval(b.closeOthers) : c.closeOthers;
        if (e) {
            angular.forEach(this.groups, function(a) {
                if (a !== d) {
                    a.isOpen = false;
                }
            });
        }
    };
    this.addGroup = function(a) {
        var b = this;
        this.groups.push(a);
        a.$on("$destroy", function(c) {
            b.removeGroup(a);
        });
    };
    this.removeGroup = function(a) {
        var b = this.groups.indexOf(a);
        if (b !== -1) {
            this.groups.splice(b, 1);
        }
    };
} ]).directive("accordion", function() {
    return {
        restrict: "EA",
        controller: "AccordionController",
        controllerAs: "accordion",
        transclude: true,
        replace: false,
        templateUrl: function(a, b) {
            return b.templateUrl || "template/accordion/accordion.html";
        }
    };
}).directive("accordionGroup", function() {
    return {
        require: "^accordion",
        restrict: "EA",
        transclude: true,
        replace: true,
        templateUrl: function(a, b) {
            return b.templateUrl || "template/accordion/accordion-group.html";
        },
        scope: {
            heading: "@",
            isOpen: "=?",
            isDisabled: "=?"
        },
        controller: function() {
            this.setHeading = function(a) {
                this.heading = a;
            };
        },
        link: function(a, b, c, d) {
            d.addGroup(a);
            a.openClass = c.openClass || "panel-open";
            a.panelClass = c.panelClass;
            a.$watch("isOpen", function(c) {
                b.toggleClass(a.openClass, c);
                if (c) {
                    d.closeOthers(a);
                }
            });
            a.toggleOpen = function(b) {
                if (!a.isDisabled) {
                    if (!b || b.which === 32) {
                        a.isOpen = !a.isOpen;
                    }
                }
            };
        }
    };
}).directive("accordionHeading", function() {
    return {
        restrict: "EA",
        transclude: true,
        template: "",
        replace: true,
        require: "^accordionGroup",
        link: function(a, b, c, d, e) {
            d.setHeading(e(a, angular.noop));
        }
    };
}).directive("accordionTransclude", function() {
    return {
        require: "^accordionGroup",
        link: function(a, b, c, d) {
            a.$watch(function() {
                return d[c.accordionTransclude];
            }, function(a) {
                if (a) {
                    b.find("span").html("");
                    b.find("span").append(a);
                }
            });
        }
    };
});

angular.module("ui.bootstrap.alert", []).controller("AlertController", [ "$scope", "$attrs", function(a, b) {
    a.closeable = !!b.close;
    this.close = a.close;
} ]).directive("alert", function() {
    return {
        controller: "AlertController",
        controllerAs: "alert",
        templateUrl: function(a, b) {
            return b.templateUrl || "template/alert/alert.html";
        },
        transclude: true,
        replace: true,
        scope: {
            type: "@",
            close: "&"
        }
    };
}).directive("dismissOnTimeout", [ "$timeout", function(a) {
    return {
        require: "alert",
        link: function(b, c, d, e) {
            a(function() {
                e.close();
            }, parseInt(d.dismissOnTimeout, 10));
        }
    };
} ]);

angular.module("ui.bootstrap.bindHtml", []).value("$bindHtmlUnsafeSuppressDeprecated", false).directive("bindHtmlUnsafe", [ "$log", "$bindHtmlUnsafeSuppressDeprecated", function(a, b) {
    return function(c, d, e) {
        if (!b) {
            a.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead");
        }
        d.addClass("ng-binding").data("$binding", e.bindHtmlUnsafe);
        c.$watch(e.bindHtmlUnsafe, function f(a) {
            d.html(a || "");
        });
    };
} ]);

angular.module("ui.bootstrap.buttons", []).constant("buttonConfig", {
    activeClass: "active",
    toggleEvent: "click"
}).controller("ButtonsController", [ "buttonConfig", function(a) {
    this.activeClass = a.activeClass || "active";
    this.toggleEvent = a.toggleEvent || "click";
} ]).directive("btnRadio", function() {
    return {
        require: [ "btnRadio", "ngModel" ],
        controller: "ButtonsController",
        controllerAs: "buttons",
        link: function(a, b, c, d) {
            var e = d[0], f = d[1];
            b.find("input").css({
                display: "none"
            });
            f.$render = function() {
                b.toggleClass(e.activeClass, angular.equals(f.$modelValue, a.$eval(c.btnRadio)));
            };
            b.bind(e.toggleEvent, function() {
                if (c.disabled) {
                    return;
                }
                var d = b.hasClass(e.activeClass);
                if (!d || angular.isDefined(c.uncheckable)) {
                    a.$apply(function() {
                        f.$setViewValue(d ? null : a.$eval(c.btnRadio));
                        f.$render();
                    });
                }
            });
        }
    };
}).directive("btnCheckbox", [ "$document", function(a) {
    return {
        require: [ "btnCheckbox", "ngModel" ],
        controller: "ButtonsController",
        controllerAs: "button",
        link: function(b, c, d, e) {
            var f = e[0], g = e[1];
            c.find("input").css({
                display: "none"
            });
            function h() {
                return j(d.btnCheckboxTrue, true);
            }
            function i() {
                return j(d.btnCheckboxFalse, false);
            }
            function j(a, c) {
                var d = b.$eval(a);
                return angular.isDefined(d) ? d : c;
            }
            g.$render = function() {
                c.toggleClass(f.activeClass, angular.equals(g.$modelValue, h()));
            };
            c.bind(f.toggleEvent, function() {
                if (d.disabled) {
                    return;
                }
                b.$apply(function() {
                    g.$setViewValue(c.hasClass(f.activeClass) ? i() : h());
                    g.$render();
                });
            });
            c.on("keypress", function(e) {
                if (d.disabled || e.which !== 32 || a[0].activeElement !== c[0]) {
                    return;
                }
                b.$apply(function() {
                    g.$setViewValue(c.hasClass(f.activeClass) ? i() : h());
                    g.$render();
                });
            });
        }
    };
} ]);

angular.module("ui.bootstrap.carousel", []).controller("CarouselController", [ "$scope", "$element", "$interval", "$animate", function(a, b, c, d) {
    var e = this, f = e.slides = a.slides = [], g = angular.version.minor >= 4, h = "uib-noTransition", i = "uib-slideDirection", j = -1, k, l;
    e.currentSlide = null;
    var m = false;
    e.select = a.select = function(b, c) {
        var d = a.indexOfSlide(b);
        if (c === undefined) {
            c = d > e.getCurrentIndex() ? "next" : "prev";
        }
        if (b && b !== e.currentSlide && !a.$currentTransition) {
            n(b, d, c);
        }
    };
    function n(b, c, f) {
        if (m) {
            return;
        }
        angular.extend(b, {
            direction: f,
            active: true
        });
        angular.extend(e.currentSlide || {}, {
            direction: f,
            active: false
        });
        if (d.enabled() && !a.noTransition && !a.$currentTransition && b.$element && e.slides.length > 1) {
            b.$element.data(i, b.direction);
            if (e.currentSlide && e.currentSlide.$element) {
                e.currentSlide.$element.data(i, b.direction);
            }
            a.$currentTransition = true;
            if (g) {
                d.on("addClass", b.$element, function(b, c) {
                    if (c === "close") {
                        a.$currentTransition = null;
                        d.off("addClass", b);
                    }
                });
            } else {
                b.$element.one("$animate:close", function h() {
                    a.$currentTransition = null;
                });
            }
        }
        e.currentSlide = b;
        j = c;
        p();
    }
    a.$on("$destroy", function() {
        m = true;
    });
    function o(a) {
        if (angular.isUndefined(f[a].index)) {
            return f[a];
        }
        var b, c = f.length;
        for (b = 0; b < f.length; ++b) {
            if (f[b].index == a) {
                return f[b];
            }
        }
    }
    e.getCurrentIndex = function() {
        if (e.currentSlide && angular.isDefined(e.currentSlide.index)) {
            return +e.currentSlide.index;
        }
        return j;
    };
    a.indexOfSlide = function(a) {
        return angular.isDefined(a.index) ? +a.index : f.indexOf(a);
    };
    a.next = function() {
        var b = (e.getCurrentIndex() + 1) % f.length;
        if (b === 0 && a.noWrap()) {
            a.pause();
            return;
        }
        return e.select(o(b), "next");
    };
    a.prev = function() {
        var b = e.getCurrentIndex() - 1 < 0 ? f.length - 1 : e.getCurrentIndex() - 1;
        if (a.noWrap() && b === f.length - 1) {
            a.pause();
            return;
        }
        return e.select(o(b), "prev");
    };
    a.isActive = function(a) {
        return e.currentSlide === a;
    };
    a.$watch("interval", p);
    a.$on("$destroy", q);
    function p() {
        q();
        var b = +a.interval;
        if (!isNaN(b) && b > 0) {
            k = c(r, b);
        }
    }
    function q() {
        if (k) {
            c.cancel(k);
            k = null;
        }
    }
    function r() {
        var b = +a.interval;
        if (l && !isNaN(b) && b > 0 && f.length) {
            a.next();
        } else {
            a.pause();
        }
    }
    a.play = function() {
        if (!l) {
            l = true;
            p();
        }
    };
    a.pause = function() {
        if (!a.noPause) {
            l = false;
            q();
        }
    };
    e.addSlide = function(b, c) {
        b.$element = c;
        f.push(b);
        if (f.length === 1 || b.active) {
            e.select(f[f.length - 1]);
            if (f.length == 1) {
                a.play();
            }
        } else {
            b.active = false;
        }
    };
    e.removeSlide = function(a) {
        if (angular.isDefined(a.index)) {
            f.sort(function(a, b) {
                return +a.index > +b.index;
            });
        }
        var b = f.indexOf(a);
        f.splice(b, 1);
        if (f.length > 0 && a.active) {
            if (b >= f.length) {
                e.select(f[b - 1]);
            } else {
                e.select(f[b]);
            }
        } else if (j > b) {
            j--;
        }
        if (f.length === 0) {
            e.currentSlide = null;
        }
    };
    a.$watch("noTransition", function(a) {
        b.data(h, a);
    });
} ]).directive("carousel", [ function() {
    return {
        restrict: "EA",
        transclude: true,
        replace: true,
        controller: "CarouselController",
        controllerAs: "carousel",
        require: "carousel",
        templateUrl: function(a, b) {
            return b.templateUrl || "template/carousel/carousel.html";
        },
        scope: {
            interval: "=",
            noTransition: "=",
            noPause: "=",
            noWrap: "&"
        }
    };
} ]).directive("slide", function() {
    return {
        require: "^carousel",
        restrict: "EA",
        transclude: true,
        replace: true,
        templateUrl: function(a, b) {
            return b.templateUrl || "template/carousel/slide.html";
        },
        scope: {
            active: "=?",
            actual: "=?",
            index: "=?"
        },
        link: function(a, b, c, d) {
            d.addSlide(a, b);
            a.$on("$destroy", function() {
                d.removeSlide(a);
            });
            a.$watch("active", function(b) {
                if (b) {
                    d.select(a);
                }
            });
        }
    };
}).animation(".item", [ "$injector", "$animate", function(a, b) {
    var c = "uib-noTransition", d = "uib-slideDirection", e = null;
    if (a.has("$animateCss")) {
        e = a.get("$animateCss");
    }
    function f(a, b, c) {
        a.removeClass(b);
        if (c) {
            c();
        }
    }
    return {
        beforeAddClass: function(a, g, h) {
            if (g == "active" && a.parent() && !a.parent().data(c)) {
                var i = false;
                var j = a.data(d);
                var k = j == "next" ? "left" : "right";
                var l = f.bind(this, a, k + " " + j, h);
                a.addClass(j);
                if (e) {
                    e(a, {
                        addClass: k
                    }).start().done(l);
                } else {
                    b.addClass(a, k).then(function() {
                        if (!i) {
                            l();
                        }
                        h();
                    });
                }
                return function() {
                    i = true;
                };
            }
            h();
        },
        beforeRemoveClass: function(a, g, h) {
            if (g === "active" && a.parent() && !a.parent().data(c)) {
                var i = false;
                var j = a.data(d);
                var k = j == "next" ? "left" : "right";
                var l = f.bind(this, a, k, h);
                if (e) {
                    e(a, {
                        addClass: k
                    }).start().done(l);
                } else {
                    b.addClass(a, k).then(function() {
                        if (!i) {
                            l();
                        }
                        h();
                    });
                }
                return function() {
                    i = true;
                };
            }
            h();
        }
    };
} ]);

angular.module("ui.bootstrap.dateparser", []).service("dateParser", [ "$log", "$locale", "orderByFilter", function(a, b, c) {
    var d = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;
    this.parsers = {};
    var e = {
        yyyy: {
            regex: "\\d{4}",
            apply: function(a) {
                this.year = +a;
            }
        },
        yy: {
            regex: "\\d{2}",
            apply: function(a) {
                this.year = +a + 2e3;
            }
        },
        y: {
            regex: "\\d{1,4}",
            apply: function(a) {
                this.year = +a;
            }
        },
        MMMM: {
            regex: b.DATETIME_FORMATS.MONTH.join("|"),
            apply: function(a) {
                this.month = b.DATETIME_FORMATS.MONTH.indexOf(a);
            }
        },
        MMM: {
            regex: b.DATETIME_FORMATS.SHORTMONTH.join("|"),
            apply: function(a) {
                this.month = b.DATETIME_FORMATS.SHORTMONTH.indexOf(a);
            }
        },
        MM: {
            regex: "0[1-9]|1[0-2]",
            apply: function(a) {
                this.month = a - 1;
            }
        },
        M: {
            regex: "[1-9]|1[0-2]",
            apply: function(a) {
                this.month = a - 1;
            }
        },
        dd: {
            regex: "[0-2][0-9]{1}|3[0-1]{1}",
            apply: function(a) {
                this.date = +a;
            }
        },
        d: {
            regex: "[1-2]?[0-9]{1}|3[0-1]{1}",
            apply: function(a) {
                this.date = +a;
            }
        },
        EEEE: {
            regex: b.DATETIME_FORMATS.DAY.join("|")
        },
        EEE: {
            regex: b.DATETIME_FORMATS.SHORTDAY.join("|")
        },
        HH: {
            regex: "(?:0|1)[0-9]|2[0-3]",
            apply: function(a) {
                this.hours = +a;
            }
        },
        hh: {
            regex: "0[0-9]|1[0-2]",
            apply: function(a) {
                this.hours = +a;
            }
        },
        H: {
            regex: "1?[0-9]|2[0-3]",
            apply: function(a) {
                this.hours = +a;
            }
        },
        h: {
            regex: "[0-9]|1[0-2]",
            apply: function(a) {
                this.hours = +a;
            }
        },
        mm: {
            regex: "[0-5][0-9]",
            apply: function(a) {
                this.minutes = +a;
            }
        },
        m: {
            regex: "[0-9]|[1-5][0-9]",
            apply: function(a) {
                this.minutes = +a;
            }
        },
        sss: {
            regex: "[0-9][0-9][0-9]",
            apply: function(a) {
                this.milliseconds = +a;
            }
        },
        ss: {
            regex: "[0-5][0-9]",
            apply: function(a) {
                this.seconds = +a;
            }
        },
        s: {
            regex: "[0-9]|[1-5][0-9]",
            apply: function(a) {
                this.seconds = +a;
            }
        },
        a: {
            regex: b.DATETIME_FORMATS.AMPMS.join("|"),
            apply: function(a) {
                if (this.hours === 12) {
                    this.hours = 0;
                }
                if (a === "PM") {
                    this.hours += 12;
                }
            }
        }
    };
    function f(a) {
        var b = [], d = a.split("");
        angular.forEach(e, function(c, e) {
            var f = a.indexOf(e);
            if (f > -1) {
                a = a.split("");
                d[f] = "(" + c.regex + ")";
                a[f] = "$";
                for (var g = f + 1, h = f + e.length; g < h; g++) {
                    d[g] = "";
                    a[g] = "$";
                }
                a = a.join("");
                b.push({
                    index: f,
                    apply: c.apply
                });
            }
        });
        return {
            regex: new RegExp("^" + d.join("") + "$"),
            map: c(b, "index")
        };
    }
    this.parse = function(c, e, h) {
        if (!angular.isString(c) || !e) {
            return c;
        }
        e = b.DATETIME_FORMATS[e] || e;
        e = e.replace(d, "\\$&");
        if (!this.parsers[e]) {
            this.parsers[e] = f(e);
        }
        var i = this.parsers[e], j = i.regex, k = i.map, l = c.match(j);
        if (l && l.length) {
            var m, n;
            if (angular.isDate(h) && !isNaN(h.getTime())) {
                m = {
                    year: h.getFullYear(),
                    month: h.getMonth(),
                    date: h.getDate(),
                    hours: h.getHours(),
                    minutes: h.getMinutes(),
                    seconds: h.getSeconds(),
                    milliseconds: h.getMilliseconds()
                };
            } else {
                if (h) {
                    a.warn("dateparser:", "baseDate is not a valid date");
                }
                m = {
                    year: 1900,
                    month: 0,
                    date: 1,
                    hours: 0,
                    minutes: 0,
                    seconds: 0,
                    milliseconds: 0
                };
            }
            for (var o = 1, p = l.length; o < p; o++) {
                var q = k[o - 1];
                if (q.apply) {
                    q.apply.call(m, l[o]);
                }
            }
            if (g(m.year, m.month, m.date)) {
                n = new Date(m.year, m.month, m.date, m.hours, m.minutes, m.seconds, m.milliseconds || 0);
            }
            return n;
        }
    };
    function g(a, b, c) {
        if (c < 1) {
            return false;
        }
        if (b === 1 && c > 28) {
            return c === 29 && (a % 4 === 0 && a % 100 !== 0 || a % 400 === 0);
        }
        if (b === 3 || b === 5 || b === 8 || b === 10) {
            return c < 31;
        }
        return true;
    }
} ]);

angular.module("ui.bootstrap.position", []).factory("$position", [ "$document", "$window", function(a, b) {
    function c(a, c) {
        if (a.currentStyle) {
            return a.currentStyle[c];
        } else if (b.getComputedStyle) {
            return b.getComputedStyle(a)[c];
        }
        return a.style[c];
    }
    function d(a) {
        return (c(a, "position") || "static") === "static";
    }
    var e = function(b) {
        var c = a[0];
        var e = b.offsetParent || c;
        while (e && e !== c && d(e)) {
            e = e.offsetParent;
        }
        return e || c;
    };
    return {
        position: function(b) {
            var c = this.offset(b);
            var d = {
                top: 0,
                left: 0
            };
            var f = e(b[0]);
            if (f != a[0]) {
                d = this.offset(angular.element(f));
                d.top += f.clientTop - f.scrollTop;
                d.left += f.clientLeft - f.scrollLeft;
            }
            var g = b[0].getBoundingClientRect();
            return {
                width: g.width || b.prop("offsetWidth"),
                height: g.height || b.prop("offsetHeight"),
                top: c.top - d.top,
                left: c.left - d.left
            };
        },
        offset: function(c) {
            var d = c[0].getBoundingClientRect();
            return {
                width: d.width || c.prop("offsetWidth"),
                height: d.height || c.prop("offsetHeight"),
                top: d.top + (b.pageYOffset || a[0].documentElement.scrollTop),
                left: d.left + (b.pageXOffset || a[0].documentElement.scrollLeft)
            };
        },
        positionElements: function(a, b, c, d) {
            var e = c.split("-");
            var f = e[0], g = e[1] || "center";
            var h, i, j, k;
            h = d ? this.offset(a) : this.position(a);
            i = b.prop("offsetWidth");
            j = b.prop("offsetHeight");
            var l = {
                center: function() {
                    return h.left + h.width / 2 - i / 2;
                },
                left: function() {
                    return h.left;
                },
                right: function() {
                    return h.left + h.width;
                }
            };
            var m = {
                center: function() {
                    return h.top + h.height / 2 - j / 2;
                },
                top: function() {
                    return h.top;
                },
                bottom: function() {
                    return h.top + h.height;
                }
            };
            switch (f) {
              case "right":
                k = {
                    top: m[g](),
                    left: l[f]()
                };
                break;

              case "left":
                k = {
                    top: m[g](),
                    left: h.left - i
                };
                break;

              case "bottom":
                k = {
                    top: m[f](),
                    left: l[g]()
                };
                break;

              default:
                k = {
                    top: h.top - j,
                    left: l[g]()
                };
                break;
            }
            return k;
        }
    };
} ]);

angular.module("ui.bootstrap.datepicker", [ "ui.bootstrap.dateparser", "ui.bootstrap.position" ]).value("$datepickerSuppressError", false).constant("datepickerConfig", {
    formatDay: "dd",
    formatMonth: "MMMM",
    formatYear: "yyyy",
    formatDayHeader: "EEE",
    formatDayTitle: "MMMM yyyy",
    formatMonthTitle: "yyyy",
    datepickerMode: "day",
    minMode: "day",
    maxMode: "year",
    showWeeks: true,
    startingDay: 0,
    yearRange: 20,
    minDate: null,
    maxDate: null,
    shortcutPropagation: false
}).controller("DatepickerController", [ "$scope", "$attrs", "$parse", "$interpolate", "$log", "dateFilter", "datepickerConfig", "$datepickerSuppressError", function(a, b, c, d, e, f, g, h) {
    var i = this, j = {
        $setViewValue: angular.noop
    };
    this.modes = [ "day", "month", "year" ];
    angular.forEach([ "formatDay", "formatMonth", "formatYear", "formatDayHeader", "formatDayTitle", "formatMonthTitle", "showWeeks", "startingDay", "yearRange", "shortcutPropagation" ], function(c, e) {
        i[c] = angular.isDefined(b[c]) ? e < 6 ? d(b[c])(a.$parent) : a.$parent.$eval(b[c]) : g[c];
    });
    angular.forEach([ "minDate", "maxDate" ], function(d) {
        if (b[d]) {
            a.$parent.$watch(c(b[d]), function(a) {
                i[d] = a ? new Date(a) : null;
                i.refreshView();
            });
        } else {
            i[d] = g[d] ? new Date(g[d]) : null;
        }
    });
    angular.forEach([ "minMode", "maxMode" ], function(d) {
        if (b[d]) {
            a.$parent.$watch(c(b[d]), function(c) {
                i[d] = angular.isDefined(c) ? c : b[d];
                a[d] = i[d];
                if (d == "minMode" && i.modes.indexOf(a.datepickerMode) < i.modes.indexOf(i[d]) || d == "maxMode" && i.modes.indexOf(a.datepickerMode) > i.modes.indexOf(i[d])) {
                    a.datepickerMode = i[d];
                }
            });
        } else {
            i[d] = g[d] || null;
            a[d] = i[d];
        }
    });
    a.datepickerMode = a.datepickerMode || g.datepickerMode;
    a.uniqueId = "datepicker-" + a.$id + "-" + Math.floor(Math.random() * 1e4);
    if (angular.isDefined(b.initDate)) {
        this.activeDate = a.$parent.$eval(b.initDate) || new Date();
        a.$parent.$watch(b.initDate, function(a) {
            if (a && (j.$isEmpty(j.$modelValue) || j.$invalid)) {
                i.activeDate = a;
                i.refreshView();
            }
        });
    } else {
        this.activeDate = new Date();
    }
    a.isActive = function(b) {
        if (i.compare(b.date, i.activeDate) === 0) {
            a.activeDateId = b.uid;
            return true;
        }
        return false;
    };
    this.init = function(a) {
        j = a;
        j.$render = function() {
            i.render();
        };
    };
    this.render = function() {
        if (j.$viewValue) {
            var a = new Date(j.$viewValue), b = !isNaN(a);
            if (b) {
                this.activeDate = a;
            } else if (!h) {
                e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
            }
        }
        this.refreshView();
    };
    this.refreshView = function() {
        if (this.element) {
            this._refreshView();
            var a = j.$viewValue ? new Date(j.$viewValue) : null;
            j.$setValidity("dateDisabled", !a || this.element && !this.isDisabled(a));
        }
    };
    this.createDateObject = function(a, b) {
        var c = j.$viewValue ? new Date(j.$viewValue) : null;
        return {
            date: a,
            label: f(a, b),
            selected: c && this.compare(a, c) === 0,
            disabled: this.isDisabled(a),
            current: this.compare(a, new Date()) === 0,
            customClass: this.customClass(a)
        };
    };
    this.isDisabled = function(c) {
        return this.minDate && this.compare(c, this.minDate) < 0 || this.maxDate && this.compare(c, this.maxDate) > 0 || b.dateDisabled && a.dateDisabled({
            date: c,
            mode: a.datepickerMode
        });
    };
    this.customClass = function(b) {
        return a.customClass({
            date: b,
            mode: a.datepickerMode
        });
    };
    this.split = function(a, b) {
        var c = [];
        while (a.length > 0) {
            c.push(a.splice(0, b));
        }
        return c;
    };
    this.fixTimeZone = function(a) {
        var b = a.getHours();
        a.setHours(b === 23 ? b + 2 : 0);
    };
    a.select = function(b) {
        if (a.datepickerMode === i.minMode) {
            var c = j.$viewValue ? new Date(j.$viewValue) : new Date(0, 0, 0, 0, 0, 0, 0);
            c.setFullYear(b.getFullYear(), b.getMonth(), b.getDate());
            j.$setViewValue(c);
            j.$render();
        } else {
            i.activeDate = b;
            a.datepickerMode = i.modes[i.modes.indexOf(a.datepickerMode) - 1];
        }
    };
    a.move = function(a) {
        var b = i.activeDate.getFullYear() + a * (i.step.years || 0), c = i.activeDate.getMonth() + a * (i.step.months || 0);
        i.activeDate.setFullYear(b, c, 1);
        i.refreshView();
    };
    a.toggleMode = function(b) {
        b = b || 1;
        if (a.datepickerMode === i.maxMode && b === 1 || a.datepickerMode === i.minMode && b === -1) {
            return;
        }
        a.datepickerMode = i.modes[i.modes.indexOf(a.datepickerMode) + b];
    };
    a.keys = {
        13: "enter",
        32: "space",
        33: "pageup",
        34: "pagedown",
        35: "end",
        36: "home",
        37: "left",
        38: "up",
        39: "right",
        40: "down"
    };
    var k = function() {
        i.element[0].focus();
    };
    a.$on("datepicker.focus", k);
    a.keydown = function(b) {
        var c = a.keys[b.which];
        if (!c || b.shiftKey || b.altKey) {
            return;
        }
        b.preventDefault();
        if (!i.shortcutPropagation) {
            b.stopPropagation();
        }
        if (c === "enter" || c === "space") {
            if (i.isDisabled(i.activeDate)) {
                return;
            }
            a.select(i.activeDate);
            k();
        } else if (b.ctrlKey && (c === "up" || c === "down")) {
            a.toggleMode(c === "up" ? 1 : -1);
            k();
        } else {
            i.handleKeyDown(c, b);
            i.refreshView();
        }
    };
} ]).directive("datepicker", function() {
    return {
        restrict: "EA",
        replace: true,
        templateUrl: function(a, b) {
            return b.templateUrl || "template/datepicker/datepicker.html";
        },
        scope: {
            datepickerMode: "=?",
            dateDisabled: "&",
            customClass: "&",
            shortcutPropagation: "&?"
        },
        require: [ "datepicker", "^ngModel" ],
        controller: "DatepickerController",
        controllerAs: "datepicker",
        link: function(a, b, c, d) {
            var e = d[0], f = d[1];
            e.init(f);
        }
    };
}).directive("daypicker", [ "dateFilter", function(a) {
    return {
        restrict: "EA",
        replace: true,
        templateUrl: "template/datepicker/day.html",
        require: "^datepicker",
        link: function(b, c, d, e) {
            b.showWeeks = e.showWeeks;
            e.step = {
                months: 1
            };
            e.element = c;
            var f = [ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];
            function g(a, b) {
                return b === 1 && a % 4 === 0 && (a % 100 !== 0 || a % 400 === 0) ? 29 : f[b];
            }
            function h(a, b) {
                var c = new Array(b), d = new Date(a), f = 0, g;
                while (f < b) {
                    g = new Date(d);
                    e.fixTimeZone(g);
                    c[f++] = g;
                    d.setDate(d.getDate() + 1);
                }
                return c;
            }
            e._refreshView = function() {
                var c = e.activeDate.getFullYear(), d = e.activeDate.getMonth(), f = new Date(c, d, 1), g = e.startingDay - f.getDay(), j = g > 0 ? 7 - g : -g, k = new Date(f);
                if (j > 0) {
                    k.setDate(-j + 1);
                }
                var l = h(k, 42);
                for (var m = 0; m < 42; m++) {
                    l[m] = angular.extend(e.createDateObject(l[m], e.formatDay), {
                        secondary: l[m].getMonth() !== d,
                        uid: b.uniqueId + "-" + m
                    });
                }
                b.labels = new Array(7);
                for (var n = 0; n < 7; n++) {
                    b.labels[n] = {
                        abbr: a(l[n].date, e.formatDayHeader),
                        full: a(l[n].date, "EEEE")
                    };
                }
                b.title = a(e.activeDate, e.formatDayTitle);
                b.rows = e.split(l, 7);
                if (b.showWeeks) {
                    b.weekNumbers = [];
                    var o = (4 + 7 - e.startingDay) % 7, p = b.rows.length;
                    for (var q = 0; q < p; q++) {
                        b.weekNumbers.push(i(b.rows[q][o].date));
                    }
                }
            };
            e.compare = function(a, b) {
                return new Date(a.getFullYear(), a.getMonth(), a.getDate()) - new Date(b.getFullYear(), b.getMonth(), b.getDate());
            };
            function i(a) {
                var b = new Date(a);
                b.setDate(b.getDate() + 4 - (b.getDay() || 7));
                var c = b.getTime();
                b.setMonth(0);
                b.setDate(1);
                return Math.floor(Math.round((c - b) / 864e5) / 7) + 1;
            }
            e.handleKeyDown = function(a, b) {
                var c = e.activeDate.getDate();
                if (a === "left") {
                    c = c - 1;
                } else if (a === "up") {
                    c = c - 7;
                } else if (a === "right") {
                    c = c + 1;
                } else if (a === "down") {
                    c = c + 7;
                } else if (a === "pageup" || a === "pagedown") {
                    var d = e.activeDate.getMonth() + (a === "pageup" ? -1 : 1);
                    e.activeDate.setMonth(d, 1);
                    c = Math.min(g(e.activeDate.getFullYear(), e.activeDate.getMonth()), c);
                } else if (a === "home") {
                    c = 1;
                } else if (a === "end") {
                    c = g(e.activeDate.getFullYear(), e.activeDate.getMonth());
                }
                e.activeDate.setDate(c);
            };
            e.refreshView();
        }
    };
} ]).directive("monthpicker", [ "dateFilter", function(a) {
    return {
        restrict: "EA",
        replace: true,
        templateUrl: "template/datepicker/month.html",
        require: "^datepicker",
        link: function(b, c, d, e) {
            e.step = {
                years: 1
            };
            e.element = c;
            e._refreshView = function() {
                var c = new Array(12), d = e.activeDate.getFullYear(), f;
                for (var g = 0; g < 12; g++) {
                    f = new Date(d, g, 1);
                    e.fixTimeZone(f);
                    c[g] = angular.extend(e.createDateObject(f, e.formatMonth), {
                        uid: b.uniqueId + "-" + g
                    });
                }
                b.title = a(e.activeDate, e.formatMonthTitle);
                b.rows = e.split(c, 3);
            };
            e.compare = function(a, b) {
                return new Date(a.getFullYear(), a.getMonth()) - new Date(b.getFullYear(), b.getMonth());
            };
            e.handleKeyDown = function(a, b) {
                var c = e.activeDate.getMonth();
                if (a === "left") {
                    c = c - 1;
                } else if (a === "up") {
                    c = c - 3;
                } else if (a === "right") {
                    c = c + 1;
                } else if (a === "down") {
                    c = c + 3;
                } else if (a === "pageup" || a === "pagedown") {
                    var d = e.activeDate.getFullYear() + (a === "pageup" ? -1 : 1);
                    e.activeDate.setFullYear(d);
                } else if (a === "home") {
                    c = 0;
                } else if (a === "end") {
                    c = 11;
                }
                e.activeDate.setMonth(c);
            };
            e.refreshView();
        }
    };
} ]).directive("yearpicker", [ "dateFilter", function(a) {
    return {
        restrict: "EA",
        replace: true,
        templateUrl: "template/datepicker/year.html",
        require: "^datepicker",
        link: function(a, b, c, d) {
            var e = d.yearRange;
            d.step = {
                years: e
            };
            d.element = b;
            function f(a) {
                return parseInt((a - 1) / e, 10) * e + 1;
            }
            d._refreshView = function() {
                var b = new Array(e), c;
                for (var g = 0, h = f(d.activeDate.getFullYear()); g < e; g++) {
                    c = new Date(h + g, 0, 1);
                    d.fixTimeZone(c);
                    b[g] = angular.extend(d.createDateObject(c, d.formatYear), {
                        uid: a.uniqueId + "-" + g
                    });
                }
                a.title = [ b[0].label, b[e - 1].label ].join(" - ");
                a.rows = d.split(b, 5);
            };
            d.compare = function(a, b) {
                return a.getFullYear() - b.getFullYear();
            };
            d.handleKeyDown = function(a, b) {
                var c = d.activeDate.getFullYear();
                if (a === "left") {
                    c = c - 1;
                } else if (a === "up") {
                    c = c - 5;
                } else if (a === "right") {
                    c = c + 1;
                } else if (a === "down") {
                    c = c + 5;
                } else if (a === "pageup" || a === "pagedown") {
                    c += (a === "pageup" ? -1 : 1) * d.step.years;
                } else if (a === "home") {
                    c = f(d.activeDate.getFullYear());
                } else if (a === "end") {
                    c = f(d.activeDate.getFullYear()) + e - 1;
                }
                d.activeDate.setFullYear(c);
            };
            d.refreshView();
        }
    };
} ]).constant("datepickerPopupConfig", {
    datepickerPopup: "yyyy-MM-dd",
    datepickerPopupTemplateUrl: "template/datepicker/popup.html",
    datepickerTemplateUrl: "template/datepicker/datepicker.html",
    html5Types: {
        date: "yyyy-MM-dd",
        "datetime-local": "yyyy-MM-ddTHH:mm:ss.sss",
        month: "yyyy-MM"
    },
    currentText: "Today",
    clearText: "Clear",
    closeText: "Done",
    closeOnDateSelection: true,
    appendToBody: false,
    showButtonBar: true,
    onOpenFocus: true
}).directive("datepickerPopup", [ "$compile", "$parse", "$document", "$rootScope", "$position", "dateFilter", "dateParser", "datepickerPopupConfig", "$timeout", function(a, b, c, d, e, f, g, h, i) {
    return {
        restrict: "EA",
        require: "ngModel",
        scope: {
            isOpen: "=?",
            currentText: "@",
            clearText: "@",
            closeText: "@",
            dateDisabled: "&",
            customClass: "&"
        },
        link: function(j, k, l, m) {
            var n, o = angular.isDefined(l.closeOnDateSelection) ? j.$parent.$eval(l.closeOnDateSelection) : h.closeOnDateSelection, p = angular.isDefined(l.datepickerAppendToBody) ? j.$parent.$eval(l.datepickerAppendToBody) : h.appendToBody, q = angular.isDefined(l.onOpenFocus) ? j.$parent.$eval(l.onOpenFocus) : h.onOpenFocus, r = angular.isDefined(l.datepickerPopupTemplateUrl) ? l.datepickerPopupTemplateUrl : h.datepickerPopupTemplateUrl, s = angular.isDefined(l.datepickerTemplateUrl) ? l.datepickerTemplateUrl : h.datepickerTemplateUrl, t = {};
            j.showButtonBar = angular.isDefined(l.showButtonBar) ? j.$parent.$eval(l.showButtonBar) : h.showButtonBar;
            j.getText = function(a) {
                return j[a + "Text"] || h[a + "Text"];
            };
            j.isDisabled = function(a) {
                if (a === "today") {
                    a = new Date();
                }
                return j.watchData.minDate && j.compare(a, t.minDate) < 0 || j.watchData.maxDate && j.compare(a, t.maxDate) > 0;
            };
            j.compare = function(a, b) {
                return new Date(a.getFullYear(), a.getMonth(), a.getDate()) - new Date(b.getFullYear(), b.getMonth(), b.getDate());
            };
            var u = false;
            if (h.html5Types[l.type]) {
                n = h.html5Types[l.type];
                u = true;
            } else {
                n = l.datepickerPopup || h.datepickerPopup;
                l.$observe("datepickerPopup", function(a, b) {
                    var c = a || h.datepickerPopup;
                    if (c !== n) {
                        n = c;
                        m.$modelValue = null;
                        if (!n) {
                            throw new Error("datepickerPopup must have a date format specified.");
                        }
                    }
                });
            }
            if (!n) {
                throw new Error("datepickerPopup must have a date format specified.");
            }
            if (u && l.datepickerPopup) {
                throw new Error("HTML5 date input types do not support custom formats.");
            }
            var v = angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");
            v.attr({
                "ng-model": "date",
                "ng-change": "dateSelection(date)",
                "template-url": r
            });
            function w(a) {
                return a.replace(/([A-Z])/g, function(a) {
                    return "-" + a.toLowerCase();
                });
            }
            var x = angular.element(v.children()[0]);
            x.attr("template-url", s);
            if (u) {
                if (l.type === "month") {
                    x.attr("datepicker-mode", '"month"');
                    x.attr("min-mode", "month");
                }
            }
            if (l.datepickerOptions) {
                var y = j.$parent.$eval(l.datepickerOptions);
                if (y && y.initDate) {
                    j.initDate = y.initDate;
                    x.attr("init-date", "initDate");
                    delete y.initDate;
                }
                angular.forEach(y, function(a, b) {
                    x.attr(w(b), a);
                });
            }
            j.watchData = {};
            angular.forEach([ "minMode", "maxMode", "minDate", "maxDate", "datepickerMode", "initDate", "shortcutPropagation" ], function(a) {
                if (l[a]) {
                    var c = b(l[a]);
                    j.$parent.$watch(c, function(b) {
                        j.watchData[a] = b;
                        if (a === "minDate" || a === "maxDate") {
                            t[a] = new Date(b);
                        }
                    });
                    x.attr(w(a), "watchData." + a);
                    if (a === "datepickerMode") {
                        var d = c.assign;
                        j.$watch("watchData." + a, function(a, b) {
                            if (angular.isFunction(d) && a !== b) {
                                d(j.$parent, a);
                            }
                        });
                    }
                }
            });
            if (l.dateDisabled) {
                x.attr("date-disabled", "dateDisabled({ date: date, mode: mode })");
            }
            if (l.showWeeks) {
                x.attr("show-weeks", l.showWeeks);
            }
            if (l.customClass) {
                x.attr("custom-class", "customClass({ date: date, mode: mode })");
            }
            function z(a) {
                if (angular.isNumber(a)) {
                    a = new Date(a);
                }
                if (!a) {
                    return null;
                } else if (angular.isDate(a) && !isNaN(a)) {
                    return a;
                } else if (angular.isString(a)) {
                    var b = g.parse(a, n, j.date);
                    if (isNaN(b)) {
                        return undefined;
                    } else {
                        return b;
                    }
                } else {
                    return undefined;
                }
            }
            function A(a, b) {
                var c = a || b;
                if (!l.ngRequired && !c) {
                    return true;
                }
                if (angular.isNumber(c)) {
                    c = new Date(c);
                }
                if (!c) {
                    return true;
                } else if (angular.isDate(c) && !isNaN(c)) {
                    return true;
                } else if (angular.isString(c)) {
                    var d = g.parse(c, n);
                    return !isNaN(d);
                } else {
                    return false;
                }
            }
            if (!u) {
                m.$$parserName = "date";
                m.$validators.date = A;
                m.$parsers.unshift(z);
                m.$formatters.push(function(a) {
                    j.date = a;
                    return m.$isEmpty(a) ? a : f(a, n);
                });
            } else {
                m.$formatters.push(function(a) {
                    j.date = a;
                    return a;
                });
            }
            j.dateSelection = function(a) {
                if (angular.isDefined(a)) {
                    j.date = a;
                }
                var b = j.date ? f(j.date, n) : null;
                k.val(b);
                m.$setViewValue(b);
                if (o) {
                    j.isOpen = false;
                    k[0].focus();
                }
            };
            m.$viewChangeListeners.push(function() {
                j.date = g.parse(m.$viewValue, n, j.date);
            });
            var B = function(a) {
                if (j.isOpen && !(k[0].contains(a.target) || v[0].contains(a.target))) {
                    j.$apply(function() {
                        j.isOpen = false;
                    });
                }
            };
            var C = function(a) {
                if (a.which === 27 && j.isOpen) {
                    a.preventDefault();
                    a.stopPropagation();
                    j.$apply(function() {
                        j.isOpen = false;
                    });
                    k[0].focus();
                } else if (a.which === 40 && !j.isOpen) {
                    a.preventDefault();
                    a.stopPropagation();
                    j.$apply(function() {
                        j.isOpen = true;
                    });
                }
            };
            k.bind("keydown", C);
            j.keydown = function(a) {
                if (a.which === 27) {
                    j.isOpen = false;
                    k[0].focus();
                }
            };
            j.$watch("isOpen", function(a) {
                if (a) {
                    j.position = p ? e.offset(k) : e.position(k);
                    j.position.top = j.position.top + k.prop("offsetHeight");
                    i(function() {
                        if (q) {
                            j.$broadcast("datepicker.focus");
                        }
                        c.bind("click", B);
                    }, 0, false);
                } else {
                    c.unbind("click", B);
                }
            });
            j.select = function(a) {
                if (a === "today") {
                    var b = new Date();
                    if (angular.isDate(j.date)) {
                        a = new Date(j.date);
                        a.setFullYear(b.getFullYear(), b.getMonth(), b.getDate());
                    } else {
                        a = new Date(b.setHours(0, 0, 0, 0));
                    }
                }
                j.dateSelection(a);
            };
            j.close = function() {
                j.isOpen = false;
                k[0].focus();
            };
            var D = a(v)(j);
            v.remove();
            if (p) {
                c.find("body").append(D);
            } else {
                k.after(D);
            }
            j.$on("$destroy", function() {
                if (j.isOpen === true) {
                    if (!d.$$phase) {
                        j.$apply(function() {
                            j.isOpen = false;
                        });
                    }
                }
                D.remove();
                k.unbind("keydown", C);
                c.unbind("click", B);
            });
        }
    };
} ]).directive("datepickerPopupWrap", function() {
    return {
        restrict: "EA",
        replace: true,
        transclude: true,
        templateUrl: function(a, b) {
            return b.templateUrl || "template/datepicker/popup.html";
        }
    };
});

angular.module("ui.bootstrap.dropdown", [ "ui.bootstrap.position" ]).constant("dropdownConfig", {
    openClass: "open"
}).service("dropdownService", [ "$document", "$rootScope", function(a, b) {
    var c = null;
    this.open = function(b) {
        if (!c) {
            a.bind("click", d);
            a.bind("keydown", e);
        }
        if (c && c !== b) {
            c.isOpen = false;
        }
        c = b;
    };
    this.close = function(b) {
        if (c === b) {
            c = null;
            a.unbind("click", d);
            a.unbind("keydown", e);
        }
    };
    var d = function(a) {
        if (!c) {
            return;
        }
        if (a && c.getAutoClose() === "disabled") {
            return;
        }
        var d = c.getToggleElement();
        if (a && d && d[0].contains(a.target)) {
            return;
        }
        var e = c.getDropdownElement();
        if (a && c.getAutoClose() === "outsideClick" && e && e[0].contains(a.target)) {
            return;
        }
        c.isOpen = false;
        if (!b.$$phase) {
            c.$apply();
        }
    };
    var e = function(a) {
        if (a.which === 27) {
            c.focusToggleElement();
            d();
        } else if (c.isKeynavEnabled() && /(38|40)/.test(a.which) && c.isOpen) {
            a.preventDefault();
            a.stopPropagation();
            c.focusDropdownEntry(a.which);
        }
    };
} ]).controller("DropdownController", [ "$scope", "$attrs", "$parse", "dropdownConfig", "dropdownService", "$animate", "$position", "$document", "$compile", "$templateRequest", function(a, b, c, d, e, f, g, h, i, j) {
    var k = this, l = a.$new(), m, n = d.openClass, o, p = angular.noop, q = b.onToggle ? c(b.onToggle) : angular.noop, r = false, s = false, t = null, u = h.find("body");
    this.init = function(d) {
        k.$element = d;
        if (b.isOpen) {
            o = c(b.isOpen);
            p = o.assign;
            a.$watch(o, function(a) {
                l.isOpen = !!a;
            });
        }
        r = angular.isDefined(b.dropdownAppendToBody);
        s = angular.isDefined(b.keyboardNav);
        if (r && k.dropdownMenu) {
            u.append(k.dropdownMenu);
            u.addClass("dropdown");
            d.on("$destroy", function e() {
                k.dropdownMenu.remove();
            });
        }
    };
    this.toggle = function(a) {
        return l.isOpen = arguments.length ? !!a : !l.isOpen;
    };
    this.isOpen = function() {
        return l.isOpen;
    };
    l.getToggleElement = function() {
        return k.toggleElement;
    };
    l.getAutoClose = function() {
        return b.autoClose || "always";
    };
    l.getElement = function() {
        return k.$element;
    };
    l.isKeynavEnabled = function() {
        return s;
    };
    l.focusDropdownEntry = function(a) {
        var b = k.dropdownMenu ? angular.element(k.dropdownMenu).find("a") : angular.element(k.$element).find("ul").eq(0).find("a");
        switch (a) {
          case 40:
            {
                if (!angular.isNumber(k.selectedOption)) {
                    k.selectedOption = 0;
                } else {
                    k.selectedOption = k.selectedOption === b.length - 1 ? k.selectedOption : k.selectedOption + 1;
                }
                break;
            }

          case 38:
            {
                if (!angular.isNumber(k.selectedOption)) {
                    k.selectedOption = b.length - 1;
                } else {
                    k.selectedOption = k.selectedOption === 0 ? 0 : k.selectedOption - 1;
                }
                break;
            }
        }
        b[k.selectedOption].focus();
    };
    l.getDropdownElement = function() {
        return k.dropdownMenu;
    };
    l.focusToggleElement = function() {
        if (k.toggleElement) {
            k.toggleElement[0].focus();
        }
    };
    l.$watch("isOpen", function(b, c) {
        if (r && k.dropdownMenu) {
            var d = g.positionElements(k.$element, k.dropdownMenu, "bottom-left", true);
            var h = {
                top: d.top + "px",
                display: b ? "block" : "none"
            };
            var o = k.dropdownMenu.hasClass("dropdown-menu-right");
            if (!o) {
                h.left = d.left + "px";
                h.right = "auto";
            } else {
                h.left = "auto";
                h.right = window.innerWidth - (d.left + k.$element.prop("offsetWidth")) + "px";
            }
            k.dropdownMenu.css(h);
        }
        var s = r ? u : k.$element;
        f[b ? "addClass" : "removeClass"](s, n).then(function() {
            if (angular.isDefined(b) && b !== c) {
                q(a, {
                    open: !!b
                });
            }
        });
        if (b) {
            if (k.dropdownMenuTemplateUrl) {
                j(k.dropdownMenuTemplateUrl).then(function(a) {
                    m = l.$new();
                    i(a.trim())(m, function(a) {
                        var b = a;
                        k.dropdownMenu.replaceWith(b);
                        k.dropdownMenu = b;
                    });
                });
            }
            l.focusToggleElement();
            e.open(l);
        } else {
            if (k.dropdownMenuTemplateUrl) {
                if (m) {
                    m.$destroy();
                }
                var t = angular.element('<ul class="dropdown-menu"></ul>');
                k.dropdownMenu.replaceWith(t);
                k.dropdownMenu = t;
            }
            e.close(l);
            k.selectedOption = null;
        }
        if (angular.isFunction(p)) {
            p(a, b);
        }
    });
    a.$on("$locationChangeSuccess", function() {
        if (l.getAutoClose() !== "disabled") {
            l.isOpen = false;
        }
    });
    var v = a.$on("$destroy", function() {
        l.$destroy();
    });
    l.$on("$destroy", v);
} ]).directive("dropdown", function() {
    return {
        controller: "DropdownController",
        link: function(a, b, c, d) {
            d.init(b);
            b.addClass("dropdown");
        }
    };
}).directive("dropdownMenu", function() {
    return {
        restrict: "AC",
        require: "?^dropdown",
        link: function(a, b, c, d) {
            if (!d) {
                return;
            }
            var e = c.templateUrl;
            if (e) {
                d.dropdownMenuTemplateUrl = e;
            }
            if (!d.dropdownMenu) {
                d.dropdownMenu = b;
            }
        }
    };
}).directive("keyboardNav", function() {
    return {
        restrict: "A",
        require: "?^dropdown",
        link: function(a, b, c, d) {
            b.bind("keydown", function(a) {
                if ([ 38, 40 ].indexOf(a.which) !== -1) {
                    a.preventDefault();
                    a.stopPropagation();
                    var b = d.dropdownMenu.find("a");
                    switch (a.which) {
                      case 40:
                        {
                            if (!angular.isNumber(d.selectedOption)) {
                                d.selectedOption = 0;
                            } else {
                                d.selectedOption = d.selectedOption === b.length - 1 ? d.selectedOption : d.selectedOption + 1;
                            }
                            break;
                        }

                      case 38:
                        {
                            if (!angular.isNumber(d.selectedOption)) {
                                d.selectedOption = b.length - 1;
                            } else {
                                d.selectedOption = d.selectedOption === 0 ? 0 : d.selectedOption - 1;
                            }
                            break;
                        }
                    }
                    b[d.selectedOption].focus();
                }
            });
        }
    };
}).directive("dropdownToggle", function() {
    return {
        require: "?^dropdown",
        link: function(a, b, c, d) {
            if (!d) {
                return;
            }
            b.addClass("dropdown-toggle");
            d.toggleElement = b;
            var e = function(e) {
                e.preventDefault();
                if (!b.hasClass("disabled") && !c.disabled) {
                    a.$apply(function() {
                        d.toggle();
                    });
                }
            };
            b.bind("click", e);
            b.attr({
                "aria-haspopup": true,
                "aria-expanded": false
            });
            a.$watch(d.isOpen, function(a) {
                b.attr("aria-expanded", !!a);
            });
            a.$on("$destroy", function() {
                b.unbind("click", e);
            });
        }
    };
});

angular.module("ui.bootstrap.modal", []).factory("$$stackedMap", function() {
    return {
        createNew: function() {
            var a = [];
            return {
                add: function(b, c) {
                    a.push({
                        key: b,
                        value: c
                    });
                },
                get: function(b) {
                    for (var c = 0; c < a.length; c++) {
                        if (b == a[c].key) {
                            return a[c];
                        }
                    }
                },
                keys: function() {
                    var b = [];
                    for (var c = 0; c < a.length; c++) {
                        b.push(a[c].key);
                    }
                    return b;
                },
                top: function() {
                    return a[a.length - 1];
                },
                remove: function(b) {
                    var c = -1;
                    for (var d = 0; d < a.length; d++) {
                        if (b == a[d].key) {
                            c = d;
                            break;
                        }
                    }
                    return a.splice(c, 1)[0];
                },
                removeTop: function() {
                    return a.splice(a.length - 1, 1)[0];
                },
                length: function() {
                    return a.length;
                }
            };
        }
    };
}).factory("$$multiMap", function() {
    return {
        createNew: function() {
            var a = {};
            return {
                entries: function() {
                    return Object.keys(a).map(function(b) {
                        return {
                            key: b,
                            value: a[b]
                        };
                    });
                },
                get: function(b) {
                    return a[b];
                },
                hasKey: function(b) {
                    return !!a[b];
                },
                keys: function() {
                    return Object.keys(a);
                },
                put: function(b, c) {
                    if (!a[b]) {
                        a[b] = [];
                    }
                    a[b].push(c);
                },
                remove: function(b, c) {
                    var d = a[b];
                    if (!d) {
                        return;
                    }
                    var e = d.indexOf(c);
                    if (e !== -1) {
                        d.splice(e, 1);
                    }
                    if (!d.length) {
                        delete a[b];
                    }
                }
            };
        }
    };
}).directive("modalBackdrop", [ "$animate", "$injector", "$modalStack", function(a, b, c) {
    var d = null;
    if (b.has("$animateCss")) {
        d = b.get("$animateCss");
    }
    return {
        restrict: "EA",
        replace: true,
        templateUrl: "template/modal/backdrop.html",
        compile: function(a, b) {
            a.addClass(b.backdropClass);
            return e;
        }
    };
    function e(b, e, f) {
        if (f.modalInClass) {
            if (d) {
                d(e, {
                    addClass: f.modalInClass
                }).start();
            } else {
                a.addClass(e, f.modalInClass);
            }
            b.$on(c.NOW_CLOSING_EVENT, function(b, c) {
                var g = c();
                if (d) {
                    d(e, {
                        removeClass: f.modalInClass
                    }).start().then(g);
                } else {
                    a.removeClass(e, f.modalInClass).then(g);
                }
            });
        }
    }
} ]).directive("modalWindow", [ "$modalStack", "$q", "$animate", "$injector", function(a, b, c, d) {
    var e = null;
    if (d.has("$animateCss")) {
        e = d.get("$animateCss");
    }
    return {
        restrict: "EA",
        scope: {
            index: "@"
        },
        replace: true,
        transclude: true,
        templateUrl: function(a, b) {
            return b.templateUrl || "template/modal/window.html";
        },
        link: function(d, f, g) {
            f.addClass(g.windowClass || "");
            d.size = g.size;
            d.close = function(b) {
                var c = a.getTop();
                if (c && c.value.backdrop && c.value.backdrop !== "static" && b.target === b.currentTarget) {
                    b.preventDefault();
                    b.stopPropagation();
                    a.dismiss(c.key, "backdrop click");
                }
            };
            d.$isRendered = true;
            var h = b.defer();
            g.$observe("modalRender", function(a) {
                if (a == "true") {
                    h.resolve();
                }
            });
            h.promise.then(function() {
                var h = null;
                if (g.modalInClass) {
                    if (e) {
                        h = e(f, {
                            addClass: g.modalInClass
                        }).start();
                    } else {
                        h = c.addClass(f, g.modalInClass);
                    }
                    d.$on(a.NOW_CLOSING_EVENT, function(a, b) {
                        var d = b();
                        if (e) {
                            e(f, {
                                removeClass: g.modalInClass
                            }).start().then(d);
                        } else {
                            c.removeClass(f, g.modalInClass).then(d);
                        }
                    });
                }
                b.when(h).then(function() {
                    var a = f[0].querySelectorAll("[autofocus]");
                    if (a.length) {
                        a[0].focus();
                    } else {
                        f[0].focus();
                    }
                });
                var i = a.getTop();
                if (i) {
                    a.modalRendered(i.key);
                }
            });
        }
    };
} ]).directive("modalAnimationClass", [ function() {
    return {
        compile: function(a, b) {
            if (b.modalAnimation) {
                a.addClass(b.modalAnimationClass);
            }
        }
    };
} ]).directive("modalTransclude", function() {
    return {
        link: function(a, b, c, d, e) {
            e(a.$parent, function(a) {
                b.empty();
                b.append(a);
            });
        }
    };
}).factory("$modalStack", [ "$animate", "$timeout", "$document", "$compile", "$rootScope", "$q", "$injector", "$$multiMap", "$$stackedMap", function(a, b, c, d, e, f, g, h, i) {
    var j = null;
    if (g.has("$animateCss")) {
        j = g.get("$animateCss");
    }
    var k = "modal-open";
    var l, m;
    var n = i.createNew();
    var o = h.createNew();
    var p = {
        NOW_CLOSING_EVENT: "modal.stack.now-closing"
    };
    var q;
    var r = 0;
    var s = "a[href], area[href], input:not([disabled]), " + "button:not([disabled]),select:not([disabled]), textarea:not([disabled]), " + "iframe, object, embed, *[tabindex], *[contenteditable=true]";
    function t() {
        var a = -1;
        var b = n.keys();
        for (var c = 0; c < b.length; c++) {
            if (n.get(b[c]).value.backdrop) {
                a = c;
            }
        }
        return a;
    }
    e.$watch(t, function(a) {
        if (m) {
            m.index = a;
        }
    });
    function u(a, b) {
        var d = c.find("body").eq(0);
        var e = n.get(a).value;
        n.remove(a);
        w(e.modalDomEl, e.modalScope, function() {
            var b = e.openedClass || k;
            o.remove(b, a);
            d.toggleClass(b, o.hasKey(b));
        });
        v();
        if (b && b.focus) {
            b.focus();
        } else {
            d.focus();
        }
    }
    function v() {
        if (l && t() == -1) {
            var a = m;
            w(l, m, function() {
                a = null;
            });
            l = undefined;
            m = undefined;
        }
    }
    function w(b, c, d) {
        var e;
        var g = null;
        var h = function() {
            if (!e) {
                e = f.defer();
                g = e.promise;
            }
            return function a() {
                e.resolve();
            };
        };
        c.$broadcast(p.NOW_CLOSING_EVENT, h);
        return f.when(g).then(i);
        function i() {
            if (i.done) {
                return;
            }
            i.done = true;
            if (j) {
                j(b, {
                    event: "leave"
                }).start().then(function() {
                    b.remove();
                });
            } else {
                a.leave(b);
            }
            c.$destroy();
            if (d) {
                d();
            }
        }
    }
    c.bind("keydown", function(a) {
        if (a.isDefaultPrevented()) {
            return a;
        }
        var b = n.top();
        if (b && b.value.keyboard) {
            switch (a.which) {
              case 27:
                {
                    a.preventDefault();
                    e.$apply(function() {
                        p.dismiss(b.key, "escape key press");
                    });
                    break;
                }

              case 9:
                {
                    p.loadFocusElementList(b);
                    var c = false;
                    if (a.shiftKey) {
                        if (p.isFocusInFirstItem(a)) {
                            c = p.focusLastFocusableElement();
                        }
                    } else {
                        if (p.isFocusInLastItem(a)) {
                            c = p.focusFirstFocusableElement();
                        }
                    }
                    if (c) {
                        a.preventDefault();
                        a.stopPropagation();
                    }
                    break;
                }
            }
        }
    });
    p.open = function(a, b) {
        var f = c[0].activeElement, g = b.openedClass || k;
        n.add(a, {
            deferred: b.deferred,
            renderDeferred: b.renderDeferred,
            modalScope: b.scope,
            backdrop: b.backdrop,
            keyboard: b.keyboard,
            openedClass: b.openedClass
        });
        o.put(g, a);
        var h = c.find("body").eq(0), i = t();
        if (i >= 0 && !l) {
            m = e.$new(true);
            m.index = i;
            var j = angular.element('<div modal-backdrop="modal-backdrop"></div>');
            j.attr("backdrop-class", b.backdropClass);
            if (b.animation) {
                j.attr("modal-animation", "true");
            }
            l = d(j)(m);
            h.append(l);
        }
        var q = angular.element('<div modal-window="modal-window"></div>');
        q.attr({
            "template-url": b.windowTemplateUrl,
            "window-class": b.windowClass,
            size: b.size,
            index: n.length() - 1,
            animate: "animate"
        }).html(b.content);
        if (b.animation) {
            q.attr("modal-animation", "true");
        }
        var r = d(q)(b.scope);
        n.top().value.modalDomEl = r;
        n.top().value.modalOpener = f;
        h.append(r);
        h.addClass(g);
        p.clearFocusListCache();
    };
    function x(a, b, c) {
        return !a.value.modalScope.$broadcast("modal.closing", b, c).defaultPrevented;
    }
    p.close = function(a, b) {
        var c = n.get(a);
        if (c && x(c, b, true)) {
            c.value.modalScope.$$uibDestructionScheduled = true;
            c.value.deferred.resolve(b);
            u(a, c.value.modalOpener);
            return true;
        }
        return !c;
    };
    p.dismiss = function(a, b) {
        var c = n.get(a);
        if (c && x(c, b, false)) {
            c.value.modalScope.$$uibDestructionScheduled = true;
            c.value.deferred.reject(b);
            u(a, c.value.modalOpener);
            return true;
        }
        return !c;
    };
    p.dismissAll = function(a) {
        var b = this.getTop();
        while (b && this.dismiss(b.key, a)) {
            b = this.getTop();
        }
    };
    p.getTop = function() {
        return n.top();
    };
    p.modalRendered = function(a) {
        var b = n.get(a);
        if (b) {
            b.value.renderDeferred.resolve();
        }
    };
    p.focusFirstFocusableElement = function() {
        if (q.length > 0) {
            q[0].focus();
            return true;
        }
        return false;
    };
    p.focusLastFocusableElement = function() {
        if (q.length > 0) {
            q[q.length - 1].focus();
            return true;
        }
        return false;
    };
    p.isFocusInFirstItem = function(a) {
        if (q.length > 0) {
            return (a.target || a.srcElement) == q[0];
        }
        return false;
    };
    p.isFocusInLastItem = function(a) {
        if (q.length > 0) {
            return (a.target || a.srcElement) == q[q.length - 1];
        }
        return false;
    };
    p.clearFocusListCache = function() {
        q = [];
        r = 0;
    };
    p.loadFocusElementList = function(a) {
        if (q === undefined || !q.length0) {
            if (a) {
                var b = a.value.modalDomEl;
                if (b && b.length) {
                    q = b[0].querySelectorAll(s);
                }
            }
        }
    };
    return p;
} ]).provider("$modal", function() {
    var a = {
        options: {
            animation: true,
            backdrop: true,
            keyboard: true
        },
        $get: [ "$injector", "$rootScope", "$q", "$templateRequest", "$controller", "$modalStack", function(b, c, d, e, f, g) {
            var h = {};
            function i(a) {
                return a.template ? d.when(a.template) : e(angular.isFunction(a.templateUrl) ? a.templateUrl() : a.templateUrl);
            }
            function j(a) {
                var c = [];
                angular.forEach(a, function(a) {
                    if (angular.isFunction(a) || angular.isArray(a)) {
                        c.push(d.when(b.invoke(a)));
                    } else if (angular.isString(a)) {
                        c.push(d.when(b.get(a)));
                    } else {
                        c.push(d.when(a));
                    }
                });
                return c;
            }
            var k = null;
            h.getPromiseChain = function() {
                return k;
            };
            h.open = function(b) {
                var e = d.defer();
                var h = d.defer();
                var l = d.defer();
                var m = {
                    result: e.promise,
                    opened: h.promise,
                    rendered: l.promise,
                    close: function(a) {
                        return g.close(m, a);
                    },
                    dismiss: function(a) {
                        return g.dismiss(m, a);
                    }
                };
                b = angular.extend({}, a.options, b);
                b.resolve = b.resolve || {};
                if (!b.template && !b.templateUrl) {
                    throw new Error("One of template or templateUrl options is required.");
                }
                var n = d.all([ i(b) ].concat(j(b.resolve)));
                var o;
                o = k = d.all([ k ]).then(function() {
                    return n;
                }, function() {
                    return n;
                }).then(function p(a) {
                    var d = (b.scope || c).$new();
                    d.$close = m.close;
                    d.$dismiss = m.dismiss;
                    d.$on("$destroy", function() {
                        if (!d.$$uibDestructionScheduled) {
                            d.$dismiss("$uibUnscheduledDestruction");
                        }
                    });
                    var i, j = {};
                    var k = 1;
                    if (b.controller) {
                        j.$scope = d;
                        j.$modalInstance = m;
                        angular.forEach(b.resolve, function(b, c) {
                            j[c] = a[k++];
                        });
                        i = f(b.controller, j);
                        if (b.controllerAs) {
                            if (b.bindToController) {
                                angular.extend(i, d);
                            }
                            d[b.controllerAs] = i;
                        }
                    }
                    g.open(m, {
                        scope: d,
                        deferred: e,
                        renderDeferred: l,
                        content: a[0],
                        animation: b.animation,
                        backdrop: b.backdrop,
                        keyboard: b.keyboard,
                        backdropClass: b.backdropClass,
                        windowClass: b.windowClass,
                        windowTemplateUrl: b.windowTemplateUrl,
                        size: b.size,
                        openedClass: b.openedClass
                    });
                    h.resolve(true);
                }, function q(a) {
                    h.reject(a);
                    e.reject(a);
                }).finally(function() {
                    if (k === o) {
                        k = null;
                    }
                });
                return m;
            };
            return h;
        } ]
    };
    return a;
});

angular.module("ui.bootstrap.pagination", []).controller("PaginationController", [ "$scope", "$attrs", "$parse", function(a, b, c) {
    var d = this, e = {
        $setViewValue: angular.noop
    }, f = b.numPages ? c(b.numPages).assign : angular.noop;
    this.init = function(g, h) {
        e = g;
        this.config = h;
        e.$render = function() {
            d.render();
        };
        if (b.itemsPerPage) {
            a.$parent.$watch(c(b.itemsPerPage), function(b) {
                d.itemsPerPage = parseInt(b, 10);
                a.totalPages = d.calculateTotalPages();
            });
        } else {
            this.itemsPerPage = h.itemsPerPage;
        }
        a.$watch("totalItems", function() {
            a.totalPages = d.calculateTotalPages();
        });
        a.$watch("totalPages", function(b) {
            f(a.$parent, b);
            if (a.page > b) {
                a.selectPage(b);
            } else {
                e.$render();
            }
        });
    };
    this.calculateTotalPages = function() {
        var b = this.itemsPerPage < 1 ? 1 : Math.ceil(a.totalItems / this.itemsPerPage);
        return Math.max(b || 0, 1);
    };
    this.render = function() {
        a.page = parseInt(e.$viewValue, 10) || 1;
    };
    a.selectPage = function(b, c) {
        if (c) {
            c.preventDefault();
        }
        var d = !a.ngDisabled || !c;
        if (d && a.page !== b && b > 0 && b <= a.totalPages) {
            if (c && c.target) {
                c.target.blur();
            }
            e.$setViewValue(b);
            e.$render();
        }
    };
    a.getText = function(b) {
        return a[b + "Text"] || d.config[b + "Text"];
    };
    a.noPrevious = function() {
        return a.page === 1;
    };
    a.noNext = function() {
        return a.page === a.totalPages;
    };
} ]).constant("paginationConfig", {
    itemsPerPage: 10,
    boundaryLinks: false,
    directionLinks: true,
    firstText: "First",
    previousText: "Previous",
    nextText: "Next",
    lastText: "Last",
    rotate: true
}).directive("pagination", [ "$parse", "paginationConfig", function(a, b) {
    return {
        restrict: "EA",
        scope: {
            totalItems: "=",
            firstText: "@",
            previousText: "@",
            nextText: "@",
            lastText: "@",
            ngDisabled: "="
        },
        require: [ "pagination", "?ngModel" ],
        controller: "PaginationController",
        controllerAs: "pagination",
        templateUrl: function(a, b) {
            return b.templateUrl || "template/pagination/pagination.html";
        },
        replace: true,
        link: function(c, d, e, f) {
            var g = f[0], h = f[1];
            if (!h) {
                return;
            }
            var i = angular.isDefined(e.maxSize) ? c.$parent.$eval(e.maxSize) : b.maxSize, j = angular.isDefined(e.rotate) ? c.$parent.$eval(e.rotate) : b.rotate;
            c.boundaryLinks = angular.isDefined(e.boundaryLinks) ? c.$parent.$eval(e.boundaryLinks) : b.boundaryLinks;
            c.directionLinks = angular.isDefined(e.directionLinks) ? c.$parent.$eval(e.directionLinks) : b.directionLinks;
            g.init(h, b);
            if (e.maxSize) {
                c.$parent.$watch(a(e.maxSize), function(a) {
                    i = parseInt(a, 10);
                    g.render();
                });
            }
            function k(a, b, c) {
                return {
                    number: a,
                    text: b,
                    active: c
                };
            }
            function l(a, b) {
                var c = [];
                var d = 1, e = b;
                var f = angular.isDefined(i) && i < b;
                if (f) {
                    if (j) {
                        d = Math.max(a - Math.floor(i / 2), 1);
                        e = d + i - 1;
                        if (e > b) {
                            e = b;
                            d = e - i + 1;
                        }
                    } else {
                        d = (Math.ceil(a / i) - 1) * i + 1;
                        e = Math.min(d + i - 1, b);
                    }
                }
                for (var g = d; g <= e; g++) {
                    var h = k(g, g, g === a);
                    c.push(h);
                }
                if (f && !j) {
                    if (d > 1) {
                        var l = k(d - 1, "...", false);
                        c.unshift(l);
                    }
                    if (e < b) {
                        var m = k(e + 1, "...", false);
                        c.push(m);
                    }
                }
                return c;
            }
            var m = g.render;
            g.render = function() {
                m();
                if (c.page > 0 && c.page <= c.totalPages) {
                    c.pages = l(c.page, c.totalPages);
                }
            };
        }
    };
} ]).constant("pagerConfig", {
    itemsPerPage: 10,
    previousText: "« Previous",
    nextText: "Next »",
    align: true
}).directive("pager", [ "pagerConfig", function(a) {
    return {
        restrict: "EA",
        scope: {
            totalItems: "=",
            previousText: "@",
            nextText: "@",
            ngDisabled: "="
        },
        require: [ "pager", "?ngModel" ],
        controller: "PaginationController",
        controllerAs: "pagination",
        templateUrl: function(a, b) {
            return b.templateUrl || "template/pagination/pager.html";
        },
        replace: true,
        link: function(b, c, d, e) {
            var f = e[0], g = e[1];
            if (!g) {
                return;
            }
            b.align = angular.isDefined(d.align) ? b.$parent.$eval(d.align) : a.align;
            f.init(g, a);
        }
    };
} ]);

angular.module("ui.bootstrap.tooltip", [ "ui.bootstrap.position", "ui.bootstrap.bindHtml" ]).provider("$tooltip", function() {
    var a = {
        placement: "top",
        animation: true,
        popupDelay: 0,
        useContentExp: false
    };
    var b = {
        mouseenter: "mouseleave",
        click: "click",
        focus: "blur",
        none: ""
    };
    var c = {};
    this.options = function(a) {
        angular.extend(c, a);
    };
    this.setTriggers = function e(a) {
        angular.extend(b, a);
    };
    function d(a) {
        var b = /[A-Z]/g;
        var c = "-";
        return a.replace(b, function(a, b) {
            return (b ? c : "") + a.toLowerCase();
        });
    }
    this.$get = [ "$window", "$compile", "$timeout", "$document", "$position", "$interpolate", "$rootScope", "$parse", function(e, f, g, h, i, j, k, l) {
        return function m(e, n, o, p) {
            p = angular.extend({}, a, c, p);
            function q(a) {
                var c = (a || p.trigger || o).split(" ");
                var d = c.map(function(a) {
                    return b[a] || a;
                });
                return {
                    show: c,
                    hide: d
                };
            }
            var r = d(e);
            var s = j.startSymbol();
            var t = j.endSymbol();
            var u = "<div " + r + "-popup " + 'title="' + s + "title" + t + '" ' + (p.useContentExp ? 'content-exp="contentExp()" ' : 'content="' + s + "content" + t + '" ') + 'placement="' + s + "placement" + t + '" ' + 'popup-class="' + s + "popupClass" + t + '" ' + 'animation="animation" ' + 'is-open="isOpen"' + 'origin-scope="origScope" ' + ">" + "</div>";
            return {
                restrict: "EA",
                compile: function(a, b) {
                    var c = f(u);
                    return function d(a, b, f, j) {
                        var m;
                        var o;
                        var r;
                        var s;
                        var t;
                        var u = angular.isDefined(p.appendToBody) ? p.appendToBody : false;
                        var v = q(undefined);
                        var w = angular.isDefined(f[n + "Enable"]);
                        var x = a.$new(true);
                        var y = false;
                        var z = angular.isDefined(f[n + "IsOpen"]) ? l(f[n + "IsOpen"]) : false;
                        var A = function() {
                            if (!m) {
                                return;
                            }
                            if (!t) {
                                t = g(function() {
                                    m.css({
                                        top: 0,
                                        left: 0,
                                        width: "auto",
                                        height: "auto"
                                    });
                                    var a = i.position(m);
                                    var c = i.positionElements(b, m, x.placement, u);
                                    c.top += "px";
                                    c.left += "px";
                                    c.width = a.width + "px";
                                    c.height = a.height + "px";
                                    m.css(c);
                                    t = null;
                                }, 0, false);
                            }
                        };
                        x.origScope = a;
                        x.isOpen = false;
                        function B() {
                            if (!x.isOpen) {
                                C();
                            } else {
                                D();
                            }
                        }
                        function C() {
                            if (w && !a.$eval(f[n + "Enable"])) {
                                return;
                            }
                            I();
                            if (x.popupDelay) {
                                if (!s) {
                                    s = g(E, x.popupDelay, false);
                                }
                            } else {
                                E();
                            }
                        }
                        function D() {
                            F();
                            if (!k.$$phase) {
                                k.$digest();
                            }
                        }
                        function E() {
                            s = null;
                            if (r) {
                                g.cancel(r);
                                r = null;
                            }
                            if (!(p.useContentExp ? x.contentExp() : x.content)) {
                                return angular.noop;
                            }
                            G();
                            x.isOpen = true;
                            if (z) {
                                z.assign(x.origScope, x.isOpen);
                            }
                            if (!k.$$phase) {
                                x.$apply();
                            }
                            m.css({
                                display: "block"
                            });
                            A();
                        }
                        function F() {
                            x.isOpen = false;
                            if (z) {
                                z.assign(x.origScope, x.isOpen);
                            }
                            g.cancel(s);
                            s = null;
                            g.cancel(t);
                            t = null;
                            if (x.animation) {
                                if (!r) {
                                    r = g(H, 500);
                                }
                            } else {
                                H();
                            }
                        }
                        function G() {
                            if (m) {
                                H();
                            }
                            o = x.$new();
                            m = c(o, function(a) {
                                if (u) {
                                    h.find("body").append(a);
                                } else {
                                    b.after(a);
                                }
                            });
                            if (p.useContentExp) {
                                o.$watch("contentExp()", function(a) {
                                    if (!a && x.isOpen) {
                                        F();
                                    }
                                });
                                o.$watch(function() {
                                    if (!y) {
                                        y = true;
                                        o.$$postDigest(function() {
                                            y = false;
                                            if (x.isOpen) {
                                                A();
                                            }
                                        });
                                    }
                                });
                            }
                        }
                        function H() {
                            r = null;
                            if (m) {
                                m.remove();
                                m = null;
                            }
                            if (o) {
                                o.$destroy();
                                o = null;
                            }
                        }
                        function I() {
                            J();
                            K();
                            L();
                        }
                        x.contentExp = function() {
                            return a.$eval(f[e]);
                        };
                        if (!p.useContentExp) {
                            f.$observe(e, function(a) {
                                x.content = a;
                                if (!a && x.isOpen) {
                                    F();
                                } else {
                                    A();
                                }
                            });
                        }
                        f.$observe("disabled", function(a) {
                            if (s && a) {
                                g.cancel(s);
                                s = null;
                            }
                            if (a && x.isOpen) {
                                F();
                            }
                        });
                        f.$observe(n + "Title", function(a) {
                            x.title = a;
                            A();
                        });
                        f.$observe(n + "Placement", function() {
                            if (x.isOpen) {
                                K();
                                A();
                            }
                        });
                        if (z) {
                            a.$watch(z, function(a) {
                                if (a !== x.isOpen) {
                                    B();
                                }
                            });
                        }
                        function J() {
                            x.popupClass = f[n + "Class"];
                        }
                        function K() {
                            var a = f[n + "Placement"];
                            x.placement = angular.isDefined(a) ? a : p.placement;
                        }
                        function L() {
                            var a = f[n + "PopupDelay"];
                            var b = parseInt(a, 10);
                            x.popupDelay = !isNaN(b) ? b : p.popupDelay;
                        }
                        var M = function() {
                            v.show.forEach(function(a) {
                                b.unbind(a, C);
                            });
                            v.hide.forEach(function(a) {
                                b.unbind(a, D);
                            });
                        };
                        function N() {
                            var a = f[n + "Trigger"];
                            M();
                            v = q(a);
                            if (v.show !== "none") {
                                v.show.forEach(function(a, c) {
                                    if (a === v.hide[c]) {
                                        b[0].addEventListener(a, B);
                                    } else if (a) {
                                        b[0].addEventListener(a, C);
                                        b[0].addEventListener(v.hide[c], D);
                                    }
                                });
                            }
                        }
                        N();
                        var O = a.$eval(f[n + "Animation"]);
                        x.animation = angular.isDefined(O) ? !!O : p.animation;
                        var P = a.$eval(f[n + "AppendToBody"]);
                        u = angular.isDefined(P) ? P : u;
                        if (u) {
                            a.$on("$locationChangeSuccess", function Q() {
                                if (x.isOpen) {
                                    F();
                                }
                            });
                        }
                        a.$on("$destroy", function R() {
                            g.cancel(r);
                            g.cancel(s);
                            g.cancel(t);
                            M();
                            H();
                            x = null;
                        });
                    };
                }
            };
        };
    } ];
}).directive("tooltipTemplateTransclude", [ "$animate", "$sce", "$compile", "$templateRequest", function(a, b, c, d) {
    return {
        link: function(e, f, g) {
            var h = e.$eval(g.tooltipTemplateTranscludeScope);
            var i = 0, j, k, l;
            var m = function() {
                if (k) {
                    k.remove();
                    k = null;
                }
                if (j) {
                    j.$destroy();
                    j = null;
                }
                if (l) {
                    a.leave(l).then(function() {
                        k = null;
                    });
                    k = l;
                    l = null;
                }
            };
            e.$watch(b.parseAsResourceUrl(g.tooltipTemplateTransclude), function(b) {
                var g = ++i;
                if (b) {
                    d(b, true).then(function(d) {
                        if (g !== i) {
                            return;
                        }
                        var e = h.$new();
                        var k = d;
                        var n = c(k)(e, function(b) {
                            m();
                            a.enter(b, f);
                        });
                        j = e;
                        l = n;
                        j.$emit("$includeContentLoaded", b);
                    }, function() {
                        if (g === i) {
                            m();
                            e.$emit("$includeContentError", b);
                        }
                    });
                    e.$emit("$includeContentRequested", b);
                } else {
                    m();
                }
            });
            e.$on("$destroy", m);
        }
    };
} ]).directive("tooltipClasses", function() {
    return {
        restrict: "A",
        link: function(a, b, c) {
            if (a.placement) {
                b.addClass(a.placement);
            }
            if (a.popupClass) {
                b.addClass(a.popupClass);
            }
            if (a.animation()) {
                b.addClass(c.tooltipAnimationClass);
            }
        }
    };
}).directive("tooltipPopup", function() {
    return {
        restrict: "EA",
        replace: true,
        scope: {
            content: "@",
            placement: "@",
            popupClass: "@",
            animation: "&",
            isOpen: "&"
        },
        templateUrl: "template/tooltip/tooltip-popup.html"
    };
}).directive("tooltip", [ "$tooltip", function(a) {
    return a("tooltip", "tooltip", "mouseenter");
} ]).directive("tooltipTemplatePopup", function() {
    return {
        restrict: "EA",
        replace: true,
        scope: {
            contentExp: "&",
            placement: "@",
            popupClass: "@",
            animation: "&",
            isOpen: "&",
            originScope: "&"
        },
        templateUrl: "template/tooltip/tooltip-template-popup.html"
    };
}).directive("tooltipTemplate", [ "$tooltip", function(a) {
    return a("tooltipTemplate", "tooltip", "mouseenter", {
        useContentExp: true
    });
} ]).directive("tooltipHtmlPopup", function() {
    return {
        restrict: "EA",
        replace: true,
        scope: {
            contentExp: "&",
            placement: "@",
            popupClass: "@",
            animation: "&",
            isOpen: "&"
        },
        templateUrl: "template/tooltip/tooltip-html-popup.html"
    };
}).directive("tooltipHtml", [ "$tooltip", function(a) {
    return a("tooltipHtml", "tooltip", "mouseenter", {
        useContentExp: true
    });
} ]).directive("tooltipHtmlUnsafePopup", function() {
    return {
        restrict: "EA",
        replace: true,
        scope: {
            content: "@",
            placement: "@",
            popupClass: "@",
            animation: "&",
            isOpen: "&"
        },
        templateUrl: "template/tooltip/tooltip-html-unsafe-popup.html"
    };
}).value("tooltipHtmlUnsafeSuppressDeprecated", false).directive("tooltipHtmlUnsafe", [ "$tooltip", "tooltipHtmlUnsafeSuppressDeprecated", "$log", function(a, b, c) {
    if (!b) {
        c.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead.");
    }
    return a("tooltipHtmlUnsafe", "tooltip", "mouseenter");
} ]);

angular.module("ui.bootstrap.popover", [ "ui.bootstrap.tooltip" ]).directive("popoverTemplatePopup", function() {
    return {
        restrict: "EA",
        replace: true,
        scope: {
            title: "@",
            contentExp: "&",
            placement: "@",
            popupClass: "@",
            animation: "&",
            isOpen: "&",
            originScope: "&"
        },
        templateUrl: "template/popover/popover-template.html"
    };
}).directive("popoverTemplate", [ "$tooltip", function(a) {
    return a("popoverTemplate", "popover", "click", {
        useContentExp: true
    });
} ]).directive("popoverHtmlPopup", function() {
    return {
        restrict: "EA",
        replace: true,
        scope: {
            contentExp: "&",
            title: "@",
            placement: "@",
            popupClass: "@",
            animation: "&",
            isOpen: "&"
        },
        templateUrl: "template/popover/popover-html.html"
    };
}).directive("popoverHtml", [ "$tooltip", function(a) {
    return a("popoverHtml", "popover", "click", {
        useContentExp: true
    });
} ]).directive("popoverPopup", function() {
    return {
        restrict: "EA",
        replace: true,
        scope: {
            title: "@",
            content: "@",
            placement: "@",
            popupClass: "@",
            animation: "&",
            isOpen: "&"
        },
        templateUrl: "template/popover/popover.html"
    };
}).directive("popover", [ "$tooltip", function(a) {
    return a("popover", "popover", "click");
} ]);

angular.module("ui.bootstrap.progressbar", []).constant("progressConfig", {
    animate: true,
    max: 100
}).value("$progressSuppressWarning", false).controller("ProgressController", [ "$scope", "$attrs", "progressConfig", function(a, b, c) {
    var d = this, e = angular.isDefined(b.animate) ? a.$parent.$eval(b.animate) : c.animate;
    this.bars = [];
    a.max = angular.isDefined(a.max) ? a.max : c.max;
    this.addBar = function(b, c) {
        if (!e) {
            c.css({
                transition: "none"
            });
        }
        this.bars.push(b);
        b.max = a.max;
        b.$watch("value", function(a) {
            b.recalculatePercentage();
        });
        b.recalculatePercentage = function() {
            b.percent = +(100 * b.value / b.max).toFixed(2);
            var a = d.bars.reduce(function(a, b) {
                return a + b.percent;
            }, 0);
            if (a > 100) {
                b.percent -= a - 100;
            }
        };
        b.$on("$destroy", function() {
            c = null;
            d.removeBar(b);
        });
    };
    this.removeBar = function(a) {
        this.bars.splice(this.bars.indexOf(a), 1);
    };
    a.$watch("max", function(b) {
        d.bars.forEach(function(b) {
            b.max = a.max;
            b.recalculatePercentage();
        });
    });
} ]).directive("uibProgress", function() {
    return {
        restrict: "EA",
        replace: true,
        transclude: true,
        controller: "ProgressController",
        require: "uibProgress",
        scope: {
            max: "=?"
        },
        templateUrl: "template/progressbar/progress.html"
    };
}).directive("progress", [ "$log", "$progressSuppressWarning", function(a, b) {
    return {
        restrict: "EA",
        replace: true,
        transclude: true,
        controller: "ProgressController",
        require: "progress",
        scope: {
            max: "=?"
        },
        templateUrl: "template/progressbar/progress.html",
        link: function() {
            if (b) {
                a.warn("progress is now deprecated. Use uib-progress instead");
            }
        }
    };
} ]).directive("uibBar", function() {
    return {
        restrict: "EA",
        replace: true,
        transclude: true,
        require: "^uibProgress",
        scope: {
            value: "=",
            type: "@"
        },
        templateUrl: "template/progressbar/bar.html",
        link: function(a, b, c, d) {
            d.addBar(a, b);
        }
    };
}).directive("bar", [ "$log", "$progressSuppressWarning", function(a, b) {
    return {
        restrict: "EA",
        replace: true,
        transclude: true,
        require: "^progress",
        scope: {
            value: "=",
            type: "@"
        },
        templateUrl: "template/progressbar/bar.html",
        link: function(c, d, e, f) {
            if (b) {
                a.warn("bar is now deprecated. Use uib-bar instead");
            }
            f.addBar(c, d);
        }
    };
} ]).directive("progressbar", function() {
    return {
        restrict: "EA",
        replace: true,
        transclude: true,
        controller: "ProgressController",
        scope: {
            value: "=",
            max: "=?",
            type: "@"
        },
        templateUrl: "template/progressbar/progressbar.html",
        link: function(a, b, c, d) {
            d.addBar(a, angular.element(b.children()[0]));
        }
    };
});

angular.module("ui.bootstrap.rating", []).constant("ratingConfig", {
    max: 5,
    stateOn: null,
    stateOff: null,
    titles: [ "one", "two", "three", "four", "five" ]
}).controller("RatingController", [ "$scope", "$attrs", "ratingConfig", function(a, b, c) {
    var d = {
        $setViewValue: angular.noop
    };
    this.init = function(e) {
        d = e;
        d.$render = this.render;
        d.$formatters.push(function(a) {
            if (angular.isNumber(a) && a << 0 !== a) {
                a = Math.round(a);
            }
            return a;
        });
        this.stateOn = angular.isDefined(b.stateOn) ? a.$parent.$eval(b.stateOn) : c.stateOn;
        this.stateOff = angular.isDefined(b.stateOff) ? a.$parent.$eval(b.stateOff) : c.stateOff;
        var f = angular.isDefined(b.titles) ? a.$parent.$eval(b.titles) : c.titles;
        this.titles = angular.isArray(f) && f.length > 0 ? f : c.titles;
        var g = angular.isDefined(b.ratingStates) ? a.$parent.$eval(b.ratingStates) : new Array(angular.isDefined(b.max) ? a.$parent.$eval(b.max) : c.max);
        a.range = this.buildTemplateObjects(g);
    };
    this.buildTemplateObjects = function(a) {
        for (var b = 0, c = a.length; b < c; b++) {
            a[b] = angular.extend({
                index: b
            }, {
                stateOn: this.stateOn,
                stateOff: this.stateOff,
                title: this.getTitle(b)
            }, a[b]);
        }
        return a;
    };
    this.getTitle = function(a) {
        if (a >= this.titles.length) {
            return a + 1;
        } else {
            return this.titles[a];
        }
    };
    a.rate = function(b) {
        if (!a.readonly && b >= 0 && b <= a.range.length) {
            d.$setViewValue(d.$viewValue === b ? 0 : b);
            d.$render();
        }
    };
    a.enter = function(b) {
        if (!a.readonly) {
            a.value = b;
        }
        a.onHover({
            value: b
        });
    };
    a.reset = function() {
        a.value = d.$viewValue;
        a.onLeave();
    };
    a.onKeydown = function(b) {
        if (/(37|38|39|40)/.test(b.which)) {
            b.preventDefault();
            b.stopPropagation();
            a.rate(a.value + (b.which === 38 || b.which === 39 ? 1 : -1));
        }
    };
    this.render = function() {
        a.value = d.$viewValue;
    };
} ]).directive("rating", function() {
    return {
        restrict: "EA",
        require: [ "rating", "ngModel" ],
        scope: {
            readonly: "=?",
            onHover: "&",
            onLeave: "&"
        },
        controller: "RatingController",
        templateUrl: "template/rating/rating.html",
        replace: true,
        link: function(a, b, c, d) {
            var e = d[0], f = d[1];
            e.init(f);
        }
    };
});

angular.module("ui.bootstrap.tabs", []).controller("TabsetController", [ "$scope", function a(b) {
    var c = this, d = c.tabs = b.tabs = [];
    c.select = function(a) {
        angular.forEach(d, function(b) {
            if (b.active && b !== a) {
                b.active = false;
                b.onDeselect();
                a.selectCalled = false;
            }
        });
        a.active = true;
        if (!a.selectCalled) {
            a.onSelect();
            a.selectCalled = true;
        }
    };
    c.addTab = function f(a) {
        d.push(a);
        if (d.length === 1 && a.active !== false) {
            a.active = true;
        } else if (a.active) {
            c.select(a);
        } else {
            a.active = false;
        }
    };
    c.removeTab = function g(a) {
        var b = d.indexOf(a);
        if (a.active && d.length > 1 && !e) {
            var f = b == d.length - 1 ? b - 1 : b + 1;
            c.select(d[f]);
        }
        d.splice(b, 1);
    };
    var e;
    b.$on("$destroy", function() {
        e = true;
    });
} ]).directive("tabset", function() {
    return {
        restrict: "EA",
        transclude: true,
        replace: true,
        scope: {
            type: "@"
        },
        controller: "TabsetController",
        templateUrl: "template/tabs/tabset.html",
        link: function(a, b, c) {
            a.vertical = angular.isDefined(c.vertical) ? a.$parent.$eval(c.vertical) : false;
            a.justified = angular.isDefined(c.justified) ? a.$parent.$eval(c.justified) : false;
        }
    };
}).directive("tab", [ "$parse", "$log", function(a, b) {
    return {
        require: "^tabset",
        restrict: "EA",
        replace: true,
        templateUrl: "template/tabs/tab.html",
        transclude: true,
        scope: {
            active: "=?",
            heading: "@",
            onSelect: "&select",
            onDeselect: "&deselect"
        },
        controller: function() {},
        link: function(c, d, e, f, g) {
            c.$watch("active", function(a) {
                if (a) {
                    f.select(c);
                }
            });
            c.disabled = false;
            if (e.disable) {
                c.$parent.$watch(a(e.disable), function(a) {
                    c.disabled = !!a;
                });
            }
            if (e.disabled) {
                b.warn('Use of "disabled" attribute has been deprecated, please use "disable"');
                c.$parent.$watch(a(e.disabled), function(a) {
                    c.disabled = !!a;
                });
            }
            c.select = function() {
                if (!c.disabled) {
                    c.active = true;
                }
            };
            f.addTab(c);
            c.$on("$destroy", function() {
                f.removeTab(c);
            });
            c.$transcludeFn = g;
        }
    };
} ]).directive("tabHeadingTransclude", function() {
    return {
        restrict: "A",
        require: "^tab",
        link: function(a, b, c, d) {
            a.$watch("headingElement", function e(a) {
                if (a) {
                    b.html("");
                    b.append(a);
                }
            });
        }
    };
}).directive("tabContentTransclude", function() {
    return {
        restrict: "A",
        require: "^tabset",
        link: function(b, c, d) {
            var e = b.$eval(d.tabContentTransclude);
            e.$transcludeFn(e.$parent, function(b) {
                angular.forEach(b, function(b) {
                    if (a(b)) {
                        e.headingElement = b;
                    } else {
                        c.append(b);
                    }
                });
            });
        }
    };
    function a(a) {
        return a.tagName && (a.hasAttribute("tab-heading") || a.hasAttribute("data-tab-heading") || a.hasAttribute("x-tab-heading") || a.tagName.toLowerCase() === "tab-heading" || a.tagName.toLowerCase() === "data-tab-heading" || a.tagName.toLowerCase() === "x-tab-heading");
    }
});

angular.module("ui.bootstrap.timepicker", []).constant("timepickerConfig", {
    hourStep: 1,
    minuteStep: 1,
    showMeridian: true,
    meridians: null,
    readonlyInput: false,
    mousewheel: true,
    arrowkeys: true,
    showSpinners: true
}).controller("TimepickerController", [ "$scope", "$attrs", "$parse", "$log", "$locale", "timepickerConfig", function(a, b, c, d, e, f) {
    var g = new Date(), h = {
        $setViewValue: angular.noop
    }, i = angular.isDefined(b.meridians) ? a.$parent.$eval(b.meridians) : f.meridians || e.DATETIME_FORMATS.AMPMS;
    this.init = function(c, d) {
        h = c;
        h.$render = this.render;
        h.$formatters.unshift(function(a) {
            return a ? new Date(a) : null;
        });
        var e = d.eq(0), g = d.eq(1);
        var i = angular.isDefined(b.mousewheel) ? a.$parent.$eval(b.mousewheel) : f.mousewheel;
        if (i) {
            this.setupMousewheelEvents(e, g);
        }
        var j = angular.isDefined(b.arrowkeys) ? a.$parent.$eval(b.arrowkeys) : f.arrowkeys;
        if (j) {
            this.setupArrowkeyEvents(e, g);
        }
        a.readonlyInput = angular.isDefined(b.readonlyInput) ? a.$parent.$eval(b.readonlyInput) : f.readonlyInput;
        this.setupInputEvents(e, g);
    };
    var j = f.hourStep;
    if (b.hourStep) {
        a.$parent.$watch(c(b.hourStep), function(a) {
            j = parseInt(a, 10);
        });
    }
    var k = f.minuteStep;
    if (b.minuteStep) {
        a.$parent.$watch(c(b.minuteStep), function(a) {
            k = parseInt(a, 10);
        });
    }
    var l;
    a.$parent.$watch(c(b.min), function(a) {
        var b = new Date(a);
        l = isNaN(b) ? undefined : b;
    });
    var m;
    a.$parent.$watch(c(b.max), function(a) {
        var b = new Date(a);
        m = isNaN(b) ? undefined : b;
    });
    a.noIncrementHours = function() {
        var a = t(g, j * 60);
        return a > m || a < g && a < l;
    };
    a.noDecrementHours = function() {
        var a = t(g, -j * 60);
        return a < l || a > g && a > m;
    };
    a.noIncrementMinutes = function() {
        var a = t(g, k);
        return a > m || a < g && a < l;
    };
    a.noDecrementMinutes = function() {
        var a = t(g, -k);
        return a < l || a > g && a > m;
    };
    a.noToggleMeridian = function() {
        if (g.getHours() < 13) {
            return t(g, 12 * 60) > m;
        } else {
            return t(g, -12 * 60) < l;
        }
    };
    a.showMeridian = f.showMeridian;
    if (b.showMeridian) {
        a.$parent.$watch(c(b.showMeridian), function(b) {
            a.showMeridian = !!b;
            if (h.$error.time) {
                var c = n(), d = o();
                if (angular.isDefined(c) && angular.isDefined(d)) {
                    g.setHours(c);
                    q();
                }
            } else {
                s();
            }
        });
    }
    function n() {
        var b = parseInt(a.hours, 10);
        var c = a.showMeridian ? b > 0 && b < 13 : b >= 0 && b < 24;
        if (!c) {
            return undefined;
        }
        if (a.showMeridian) {
            if (b === 12) {
                b = 0;
            }
            if (a.meridian === i[1]) {
                b = b + 12;
            }
        }
        return b;
    }
    function o() {
        var b = parseInt(a.minutes, 10);
        return b >= 0 && b < 60 ? b : undefined;
    }
    function p(a) {
        return angular.isDefined(a) && a.toString().length < 2 ? "0" + a : a.toString();
    }
    this.setupMousewheelEvents = function(b, c) {
        var d = function(a) {
            if (a.originalEvent) {
                a = a.originalEvent;
            }
            var b = a.wheelDelta ? a.wheelDelta : -a.deltaY;
            return a.detail || b > 0;
        };
        b.bind("mousewheel wheel", function(b) {
            a.$apply(d(b) ? a.incrementHours() : a.decrementHours());
            b.preventDefault();
        });
        c.bind("mousewheel wheel", function(b) {
            a.$apply(d(b) ? a.incrementMinutes() : a.decrementMinutes());
            b.preventDefault();
        });
    };
    this.setupArrowkeyEvents = function(b, c) {
        b.bind("keydown", function(b) {
            if (b.which === 38) {
                b.preventDefault();
                a.incrementHours();
                a.$apply();
            } else if (b.which === 40) {
                b.preventDefault();
                a.decrementHours();
                a.$apply();
            }
        });
        c.bind("keydown", function(b) {
            if (b.which === 38) {
                b.preventDefault();
                a.incrementMinutes();
                a.$apply();
            } else if (b.which === 40) {
                b.preventDefault();
                a.decrementMinutes();
                a.$apply();
            }
        });
    };
    this.setupInputEvents = function(b, c) {
        if (a.readonlyInput) {
            a.updateHours = angular.noop;
            a.updateMinutes = angular.noop;
            return;
        }
        var d = function(b, c) {
            h.$setViewValue(null);
            h.$setValidity("time", false);
            if (angular.isDefined(b)) {
                a.invalidHours = b;
            }
            if (angular.isDefined(c)) {
                a.invalidMinutes = c;
            }
        };
        a.updateHours = function() {
            var a = n(), b = o();
            if (angular.isDefined(a) && angular.isDefined(b)) {
                g.setHours(a);
                if (g < l || g > m) {
                    d(true);
                } else {
                    q("h");
                }
            } else {
                d(true);
            }
        };
        b.bind("blur", function(b) {
            if (!a.invalidHours && a.hours < 10) {
                a.$apply(function() {
                    a.hours = p(a.hours);
                });
            }
        });
        a.updateMinutes = function() {
            var a = o(), b = n();
            if (angular.isDefined(a) && angular.isDefined(b)) {
                g.setMinutes(a);
                if (g < l || g > m) {
                    d(undefined, true);
                } else {
                    q("m");
                }
            } else {
                d(undefined, true);
            }
        };
        c.bind("blur", function(b) {
            if (!a.invalidMinutes && a.minutes < 10) {
                a.$apply(function() {
                    a.minutes = p(a.minutes);
                });
            }
        });
    };
    this.render = function() {
        var b = h.$viewValue;
        if (isNaN(b)) {
            h.$setValidity("time", false);
            d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
        } else {
            if (b) {
                g = b;
            }
            if (g < l || g > m) {
                h.$setValidity("time", false);
                a.invalidHours = true;
                a.invalidMinutes = true;
            } else {
                r();
            }
            s();
        }
    };
    function q(a) {
        r();
        h.$setViewValue(new Date(g));
        s(a);
    }
    function r() {
        h.$setValidity("time", true);
        a.invalidHours = false;
        a.invalidMinutes = false;
    }
    function s(b) {
        var c = g.getHours(), d = g.getMinutes();
        if (a.showMeridian) {
            c = c === 0 || c === 12 ? 12 : c % 12;
        }
        a.hours = b === "h" ? c : p(c);
        if (b !== "m") {
            a.minutes = p(d);
        }
        a.meridian = g.getHours() < 12 ? i[0] : i[1];
    }
    function t(a, b) {
        var c = new Date(a.getTime() + b * 6e4);
        var d = new Date(a);
        d.setHours(c.getHours(), c.getMinutes());
        return d;
    }
    function u(a) {
        g = t(g, a);
        q();
    }
    a.showSpinners = angular.isDefined(b.showSpinners) ? a.$parent.$eval(b.showSpinners) : f.showSpinners;
    a.incrementHours = function() {
        if (!a.noIncrementHours()) {
            u(j * 60);
        }
    };
    a.decrementHours = function() {
        if (!a.noDecrementHours()) {
            u(-j * 60);
        }
    };
    a.incrementMinutes = function() {
        if (!a.noIncrementMinutes()) {
            u(k);
        }
    };
    a.decrementMinutes = function() {
        if (!a.noDecrementMinutes()) {
            u(-k);
        }
    };
    a.toggleMeridian = function() {
        if (!a.noToggleMeridian()) {
            u(12 * 60 * (g.getHours() < 12 ? 1 : -1));
        }
    };
} ]).directive("timepicker", function() {
    return {
        restrict: "EA",
        require: [ "timepicker", "?^ngModel" ],
        controller: "TimepickerController",
        controllerAs: "timepicker",
        replace: true,
        scope: {},
        templateUrl: function(a, b) {
            return b.templateUrl || "template/timepicker/timepicker.html";
        },
        link: function(a, b, c, d) {
            var e = d[0], f = d[1];
            if (f) {
                e.init(f, b.find("input"));
            }
        }
    };
});

angular.module("ui.bootstrap.transition", []).value("$transitionSuppressDeprecated", false).factory("$transition", [ "$q", "$timeout", "$rootScope", "$log", "$transitionSuppressDeprecated", function(a, b, c, d, e) {
    if (!e) {
        d.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");
    }
    var f = function(d, e, g) {
        g = g || {};
        var h = a.defer();
        var i = f[g.animation ? "animationEndEventName" : "transitionEndEventName"];
        var j = function(a) {
            c.$apply(function() {
                d.unbind(i, j);
                h.resolve(d);
            });
        };
        if (i) {
            d.bind(i, j);
        }
        b(function() {
            if (angular.isString(e)) {
                d.addClass(e);
            } else if (angular.isFunction(e)) {
                e(d);
            } else if (angular.isObject(e)) {
                d.css(e);
            }
            if (!i) {
                h.resolve(d);
            }
        });
        h.promise.cancel = function() {
            if (i) {
                d.unbind(i, j);
            }
            h.reject("Transition cancelled");
        };
        return h.promise;
    };
    var g = document.createElement("trans");
    var h = {
        WebkitTransition: "webkitTransitionEnd",
        MozTransition: "transitionend",
        OTransition: "oTransitionEnd",
        transition: "transitionend"
    };
    var i = {
        WebkitTransition: "webkitAnimationEnd",
        MozTransition: "animationend",
        OTransition: "oAnimationEnd",
        transition: "animationend"
    };
    function j(a) {
        for (var b in a) {
            if (g.style[b] !== undefined) {
                return a[b];
            }
        }
    }
    f.transitionEndEventName = j(h);
    f.animationEndEventName = j(i);
    return f;
} ]);

angular.module("ui.bootstrap.typeahead", [ "ui.bootstrap.position" ]).factory("typeaheadParser", [ "$parse", function(a) {
    var b = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;
    return {
        parse: function(c) {
            var d = c.match(b);
            if (!d) {
                throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_"' + ' but got "' + c + '".');
            }
            return {
                itemName: d[3],
                source: a(d[4]),
                viewMapper: a(d[2] || d[1]),
                modelMapper: a(d[1])
            };
        }
    };
} ]).directive("typeahead", [ "$compile", "$parse", "$q", "$timeout", "$document", "$window", "$rootScope", "$position", "typeaheadParser", function(a, b, c, d, e, f, g, h, i) {
    var j = [ 9, 13, 27, 38, 40 ];
    var k = 200;
    return {
        require: [ "ngModel", "^?ngModelOptions" ],
        link: function(l, m, n, o) {
            var p = o[0];
            var q = o[1];
            var r = l.$eval(n.typeaheadMinLength);
            if (!r && r !== 0) {
                r = 1;
            }
            var s = l.$eval(n.typeaheadWaitMs) || 0;
            var t = l.$eval(n.typeaheadEditable) !== false;
            var u = b(n.typeaheadLoading).assign || angular.noop;
            var v = b(n.typeaheadOnSelect);
            var w = angular.isDefined(n.typeaheadSelectOnBlur) ? l.$eval(n.typeaheadSelectOnBlur) : false;
            var x = b(n.typeaheadNoResults).assign || angular.noop;
            var y = n.typeaheadInputFormatter ? b(n.typeaheadInputFormatter) : undefined;
            var z = n.typeaheadAppendToBody ? l.$eval(n.typeaheadAppendToBody) : false;
            var A = l.$eval(n.typeaheadFocusFirst) !== false;
            var B = n.typeaheadSelectOnExact ? l.$eval(n.typeaheadSelectOnExact) : false;
            var C = b(n.ngModel);
            var D = b(n.ngModel + "($$$p)");
            var E = function(a, b) {
                if (angular.isFunction(C(l)) && q && q.$options && q.$options.getterSetter) {
                    return D(a, {
                        $$$p: b
                    });
                } else {
                    return C.assign(a, b);
                }
            };
            var F = i.parse(n.typeahead);
            var G;
            var H;
            var I = l.$new();
            var J = l.$on("$destroy", function() {
                I.$destroy();
            });
            I.$on("$destroy", J);
            var K = "typeahead-" + I.$id + "-" + Math.floor(Math.random() * 1e4);
            m.attr({
                "aria-autocomplete": "list",
                "aria-expanded": false,
                "aria-owns": K
            });
            var L = angular.element("<div typeahead-popup></div>");
            L.attr({
                id: K,
                matches: "matches",
                active: "activeIdx",
                select: "select(activeIdx)",
                "move-in-progress": "moveInProgress",
                query: "query",
                position: "position"
            });
            if (angular.isDefined(n.typeaheadTemplateUrl)) {
                L.attr("template-url", n.typeaheadTemplateUrl);
            }
            if (angular.isDefined(n.typeaheadPopupTemplateUrl)) {
                L.attr("popup-template-url", n.typeaheadPopupTemplateUrl);
            }
            var M = function() {
                I.matches = [];
                I.activeIdx = -1;
                m.attr("aria-expanded", false);
            };
            var N = function(a) {
                return K + "-option-" + a;
            };
            I.$watch("activeIdx", function(a) {
                if (a < 0) {
                    m.removeAttr("aria-activedescendant");
                } else {
                    m.attr("aria-activedescendant", N(a));
                }
            });
            var O = function(a, b) {
                if (I.matches.length > b && a) {
                    return a.toUpperCase() === I.matches[b].label.toUpperCase();
                }
                return false;
            };
            var P = function(a) {
                var b = {
                    $viewValue: a
                };
                u(l, true);
                x(l, false);
                c.when(F.source(l, b)).then(function(c) {
                    var d = a === p.$viewValue;
                    if (d && G) {
                        if (c && c.length > 0) {
                            I.activeIdx = A ? 0 : -1;
                            x(l, false);
                            I.matches.length = 0;
                            for (var e = 0; e < c.length; e++) {
                                b[F.itemName] = c[e];
                                I.matches.push({
                                    id: N(e),
                                    label: F.viewMapper(I, b),
                                    model: c[e]
                                });
                            }
                            I.query = a;
                            S();
                            m.attr("aria-expanded", true);
                            if (B && I.matches.length === 1 && O(a, 0)) {
                                I.select(0);
                            }
                        } else {
                            M();
                            x(l, true);
                        }
                    }
                    if (d) {
                        u(l, false);
                    }
                }, function() {
                    M();
                    u(l, false);
                    x(l, true);
                });
            };
            if (z) {
                angular.element(f).bind("resize", R);
                e.find("body").bind("scroll", R);
            }
            var Q;
            I.moveInProgress = false;
            function R() {
                if (!I.moveInProgress) {
                    I.moveInProgress = true;
                    I.$digest();
                }
                if (Q) {
                    d.cancel(Q);
                }
                Q = d(function() {
                    if (I.matches.length) {
                        S();
                    }
                    I.moveInProgress = false;
                    I.$digest();
                }, k);
            }
            function S() {
                I.position = z ? h.offset(m) : h.position(m);
                I.position.top += m.prop("offsetHeight");
            }
            M();
            I.query = undefined;
            var T;
            var U = function(a) {
                T = d(function() {
                    P(a);
                }, s);
            };
            var V = function() {
                if (T) {
                    d.cancel(T);
                }
            };
            p.$parsers.unshift(function(a) {
                G = true;
                if (r === 0 || a && a.length >= r) {
                    if (s > 0) {
                        V();
                        U(a);
                    } else {
                        P(a);
                    }
                } else {
                    u(l, false);
                    V();
                    M();
                }
                if (t) {
                    return a;
                } else {
                    if (!a) {
                        p.$setValidity("editable", true);
                        return null;
                    } else {
                        p.$setValidity("editable", false);
                        return undefined;
                    }
                }
            });
            p.$formatters.push(function(a) {
                var b, c;
                var d = {};
                if (!t) {
                    p.$setValidity("editable", true);
                }
                if (y) {
                    d.$model = a;
                    return y(l, d);
                } else {
                    d[F.itemName] = a;
                    b = F.viewMapper(l, d);
                    d[F.itemName] = undefined;
                    c = F.viewMapper(l, d);
                    return b !== c ? b : a;
                }
            });
            I.select = function(a) {
                var b = {};
                var c, e;
                H = true;
                b[F.itemName] = e = I.matches[a].model;
                c = F.modelMapper(l, b);
                E(l, c);
                p.$setValidity("editable", true);
                p.$setValidity("parse", true);
                v(l, {
                    $item: e,
                    $model: c,
                    $label: F.viewMapper(l, b)
                });
                M();
                if (I.$eval(n.typeaheadFocusOnSelect) !== false) {
                    d(function() {
                        m[0].focus();
                    }, 0, false);
                }
            };
            m.bind("keydown", function(a) {
                if (I.matches.length === 0 || j.indexOf(a.which) === -1) {
                    return;
                }
                if (I.activeIdx === -1 && (a.which === 9 || a.which === 13)) {
                    M();
                    I.$digest();
                    return;
                }
                a.preventDefault();
                if (a.which === 40) {
                    I.activeIdx = (I.activeIdx + 1) % I.matches.length;
                    I.$digest();
                } else if (a.which === 38) {
                    I.activeIdx = (I.activeIdx > 0 ? I.activeIdx : I.matches.length) - 1;
                    I.$digest();
                } else if (a.which === 13 || a.which === 9) {
                    I.$apply(function() {
                        I.select(I.activeIdx);
                    });
                } else if (a.which === 27) {
                    a.stopPropagation();
                    M();
                    I.$digest();
                }
            });
            m.bind("blur", function() {
                if (w && I.matches.length && I.activeIdx !== -1 && !H) {
                    H = true;
                    I.$apply(function() {
                        I.select(I.activeIdx);
                    });
                }
                G = false;
                H = false;
            });
            var W = function(a) {
                if (m[0] !== a.target && a.which !== 3 && I.matches.length !== 0) {
                    M();
                    if (!g.$$phase) {
                        I.$digest();
                    }
                }
            };
            e.bind("click", W);
            l.$on("$destroy", function() {
                e.unbind("click", W);
                if (z) {
                    X.remove();
                }
                L.remove();
            });
            var X = a(L)(I);
            if (z) {
                e.find("body").append(X);
            } else {
                m.after(X);
            }
        }
    };
} ]).directive("typeaheadPopup", function() {
    return {
        restrict: "EA",
        scope: {
            matches: "=",
            query: "=",
            active: "=",
            position: "&",
            moveInProgress: "=",
            select: "&"
        },
        replace: true,
        templateUrl: function(a, b) {
            return b.popupTemplateUrl || "template/typeahead/typeahead-popup.html";
        },
        link: function(a, b, c) {
            a.templateUrl = c.templateUrl;
            a.isOpen = function() {
                return a.matches.length > 0;
            };
            a.isActive = function(b) {
                return a.active == b;
            };
            a.selectActive = function(b) {
                a.active = b;
            };
            a.selectMatch = function(b) {
                a.select({
                    activeIdx: b
                });
            };
        }
    };
}).directive("typeaheadMatch", [ "$templateRequest", "$compile", "$parse", function(a, b, c) {
    return {
        restrict: "EA",
        scope: {
            index: "=",
            match: "=",
            query: "="
        },
        link: function(d, e, f) {
            var g = c(f.templateUrl)(d.$parent) || "template/typeahead/typeahead-match.html";
            a(g).then(function(a) {
                b(a.trim())(d, function(a) {
                    e.replaceWith(a);
                });
            });
        }
    };
} ]).filter("typeaheadHighlight", [ "$sce", "$injector", "$log", function(a, b, c) {
    var d;
    d = b.has("$sanitize");
    function e(a) {
        return a.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
    }
    function f(a) {
        return /<.*>/g.test(a);
    }
    return function(b, g) {
        if (!d && f(b)) {
            c.warn("Unsafe use of typeahead please use ngSanitize");
        }
        b = g ? ("" + b).replace(new RegExp(e(g), "gi"), "<strong>$&</strong>") : b;
        if (!d) {
            b = a.trustAsHtml(b);
        }
        return b;
    };
} ]);

angular.module("template/accordion/accordion-group.html", []).run([ "$templateCache", function(a) {
    a.put("template/accordion/accordion-group.html", "<div class=\"panel {{panelClass || 'panel-default'}}\">\n" + '  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n' + '    <h4 class="panel-title">\n' + '      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n' + "    </h4>\n" + "  </div>\n" + '  <div class="panel-collapse collapse" collapse="!isOpen">\n' + '	  <div class="panel-body" ng-transclude></div>\n' + "  </div>\n" + "</div>\n" + "");
} ]);

angular.module("template/accordion/accordion.html", []).run([ "$templateCache", function(a) {
    a.put("template/accordion/accordion.html", '<div class="panel-group" ng-transclude></div>');
} ]);

angular.module("template/alert/alert.html", []).run([ "$templateCache", function(a) {
    a.put("template/alert/alert.html", "<div class=\"alert\" ng-class=\"['alert-' + (type || 'warning'), closeable ? 'alert-dismissible' : null]\" role=\"alert\">\n" + '    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n' + '        <span aria-hidden="true">&times;</span>\n' + '        <span class="sr-only">Close</span>\n' + "    </button>\n" + "    <div ng-transclude></div>\n" + "</div>\n" + "");
} ]);

angular.module("template/carousel/carousel.html", []).run([ "$templateCache", function(a) {
    a.put("template/carousel/carousel.html", '<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n' + '    <ol class="carousel-indicators" ng-show="slides.length > 1">\n' + '        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n' + "    </ol>\n" + '    <div class="carousel-inner" ng-transclude></div>\n' + '    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n' + '    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n' + "</div>\n" + "");
} ]);

angular.module("template/carousel/slide.html", []).run([ "$templateCache", function(a) {
    a.put("template/carousel/slide.html", '<div ng-class="{\n' + "    'active': active\n" + '  }" class="item text-center" ng-transclude></div>\n' + "");
} ]);

angular.module("template/datepicker/datepicker.html", []).run([ "$templateCache", function(a) {
    a.put("template/datepicker/datepicker.html", '<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n' + '  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n' + '  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n' + '  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n' + "</div>");
} ]);

angular.module("template/datepicker/day.html", []).run([ "$templateCache", function(a) {
    a.put("template/datepicker/day.html", '<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n' + "  <thead>\n" + "    <tr>\n" + '      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n' + '      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n' + '      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n' + "    </tr>\n" + "    <tr>\n" + '      <th ng-if="showWeeks" class="text-center"></th>\n' + '      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n' + "    </tr>\n" + "  </thead>\n" + "  <tbody>\n" + '    <tr ng-repeat="row in rows track by $index">\n' + '      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n' + '      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n' + '        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n' + "      </td>\n" + "    </tr>\n" + "  </tbody>\n" + "</table>\n" + "");
} ]);

angular.module("template/datepicker/month.html", []).run([ "$templateCache", function(a) {
    a.put("template/datepicker/month.html", '<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n' + "  <thead>\n" + "    <tr>\n" + '      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n' + '      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n' + '      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n' + "    </tr>\n" + "  </thead>\n" + "  <tbody>\n" + '    <tr ng-repeat="row in rows track by $index">\n' + '      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n' + '        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n' + "      </td>\n" + "    </tr>\n" + "  </tbody>\n" + "</table>\n" + "");
} ]);

angular.module("template/datepicker/popup.html", []).run([ "$templateCache", function(a) {
    a.put("template/datepicker/popup.html", '<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n' + "	<li ng-transclude></li>\n" + '	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n' + '		<span class="btn-group pull-left">\n' + '			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n' + '			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n' + "		</span>\n" + '		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n' + "	</li>\n" + "</ul>\n" + "");
} ]);

angular.module("template/datepicker/year.html", []).run([ "$templateCache", function(a) {
    a.put("template/datepicker/year.html", '<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n' + "  <thead>\n" + "    <tr>\n" + '      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n' + '      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n' + '      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n' + "    </tr>\n" + "  </thead>\n" + "  <tbody>\n" + '    <tr ng-repeat="row in rows track by $index">\n' + '      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n' + '        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n' + "      </td>\n" + "    </tr>\n" + "  </tbody>\n" + "</table>\n" + "");
} ]);

angular.module("template/modal/backdrop.html", []).run([ "$templateCache", function(a) {
    a.put("template/modal/backdrop.html", '<div class="modal-backdrop"\n' + '     modal-animation-class="fade"\n' + '     modal-in-class="in"\n' + "     ng-style=\"{'z-index': 1040 + (index && 1 || 0) + index*10}\"\n" + "></div>\n" + "");
} ]);

angular.module("template/modal/window.html", []).run([ "$templateCache", function(a) {
    a.put("template/modal/window.html", '<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n' + '    modal-animation-class="fade"\n' + '    modal-in-class="in"\n' + "	ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\" ng-click=\"close($event)\">\n" + '    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n' + "</div>\n" + "");
} ]);

angular.module("template/pagination/pager.html", []).run([ "$templateCache", function(a) {
    a.put("template/pagination/pager.html", '<ul class="pager">\n' + '  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n' + '  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n' + "</ul>\n" + "");
} ]);

angular.module("template/pagination/pagination.html", []).run([ "$templateCache", function(a) {
    a.put("template/pagination/pagination.html", '<ul class="pagination">\n' + '  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n' + '  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n' + '  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n' + '  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n' + '  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n' + "</ul>\n" + "");
} ]);

angular.module("template/tooltip/tooltip-html-popup.html", []).run([ "$templateCache", function(a) {
    a.put("template/tooltip/tooltip-html-popup.html", '<div class="tooltip"\n' + '  tooltip-animation-class="fade"\n' + "  tooltip-classes\n" + '  ng-class="{ in: isOpen() }">\n' + '  <div class="tooltip-arrow"></div>\n' + '  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n' + "</div>\n" + "");
} ]);

angular.module("template/tooltip/tooltip-html-unsafe-popup.html", []).run([ "$templateCache", function(a) {
    a.put("template/tooltip/tooltip-html-unsafe-popup.html", '<div class="tooltip"\n' + '  tooltip-animation-class="fade"\n' + "  tooltip-classes\n" + '  ng-class="{ in: isOpen() }">\n' + '  <div class="tooltip-arrow"></div>\n' + '  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n' + "</div>\n" + "");
} ]);

angular.module("template/tooltip/tooltip-popup.html", []).run([ "$templateCache", function(a) {
    a.put("template/tooltip/tooltip-popup.html", '<div class="tooltip"\n' + '  tooltip-animation-class="fade"\n' + "  tooltip-classes\n" + '  ng-class="{ in: isOpen() }">\n' + '  <div class="tooltip-arrow"></div>\n' + '  <div class="tooltip-inner" ng-bind="content"></div>\n' + "</div>\n" + "");
} ]);

angular.module("template/tooltip/tooltip-template-popup.html", []).run([ "$templateCache", function(a) {
    a.put("template/tooltip/tooltip-template-popup.html", '<div class="tooltip"\n' + '  tooltip-animation-class="fade"\n' + "  tooltip-classes\n" + '  ng-class="{ in: isOpen() }">\n' + '  <div class="tooltip-arrow"></div>\n' + '  <div class="tooltip-inner"\n' + '    tooltip-template-transclude="contentExp()"\n' + '    tooltip-template-transclude-scope="originScope()"></div>\n' + "</div>\n" + "");
} ]);

angular.module("template/popover/popover-html.html", []).run([ "$templateCache", function(a) {
    a.put("template/popover/popover-html.html", '<div class="popover"\n' + '  tooltip-animation-class="fade"\n' + "  tooltip-classes\n" + '  ng-class="{ in: isOpen() }">\n' + '  <div class="arrow"></div>\n' + "\n" + '  <div class="popover-inner">\n' + '      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n' + '      <div class="popover-content" ng-bind-html="contentExp()"></div>\n' + "  </div>\n" + "</div>\n" + "");
} ]);

angular.module("template/popover/popover-template.html", []).run([ "$templateCache", function(a) {
    a.put("template/popover/popover-template.html", '<div class="popover"\n' + '  tooltip-animation-class="fade"\n' + "  tooltip-classes\n" + '  ng-class="{ in: isOpen() }">\n' + '  <div class="arrow"></div>\n' + "\n" + '  <div class="popover-inner">\n' + '      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n' + '      <div class="popover-content"\n' + '        tooltip-template-transclude="contentExp()"\n' + '        tooltip-template-transclude-scope="originScope()"></div>\n' + "  </div>\n" + "</div>\n" + "");
} ]);

angular.module("template/popover/popover.html", []).run([ "$templateCache", function(a) {
    a.put("template/popover/popover.html", '<div class="popover"\n' + '  tooltip-animation-class="fade"\n' + "  tooltip-classes\n" + '  ng-class="{ in: isOpen() }">\n' + '  <div class="arrow"></div>\n' + "\n" + '  <div class="popover-inner">\n' + '      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n' + '      <div class="popover-content" ng-bind="content"></div>\n' + "  </div>\n" + "</div>\n" + "");
} ]);

angular.module("template/progressbar/bar.html", []).run([ "$templateCache", function(a) {
    a.put("template/progressbar/bar.html", '<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n' + "");
} ]);

angular.module("template/progressbar/progress.html", []).run([ "$templateCache", function(a) {
    a.put("template/progressbar/progress.html", '<div class="progress" ng-transclude></div>');
} ]);

angular.module("template/progressbar/progressbar.html", []).run([ "$templateCache", function(a) {
    a.put("template/progressbar/progressbar.html", '<div class="progress">\n' + '  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n' + "</div>\n" + "");
} ]);

angular.module("template/rating/rating.html", []).run([ "$templateCache", function(a) {
    a.put("template/rating/rating.html", '<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n' + "    <span ng-repeat-start=\"r in range track by $index\" class=\"sr-only\">({{ $index < value ? '*' : ' ' }})</span>\n" + '    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n' + "</span>\n" + "");
} ]);

angular.module("template/tabs/tab.html", []).run([ "$templateCache", function(a) {
    a.put("template/tabs/tab.html", '<li ng-class="{active: active, disabled: disabled}">\n' + '  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n' + "</li>\n" + "");
} ]);

angular.module("template/tabs/tabset.html", []).run([ "$templateCache", function(a) {
    a.put("template/tabs/tabset.html", "<div>\n" + "  <ul class=\"nav nav-{{type || 'tabs'}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\" ng-transclude></ul>\n" + '  <div class="tab-content">\n' + '    <div class="tab-pane" \n' + '         ng-repeat="tab in tabs" \n' + '         ng-class="{active: tab.active}"\n' + '         tab-content-transclude="tab">\n' + "    </div>\n" + "  </div>\n" + "</div>\n" + "");
} ]);

angular.module("template/timepicker/timepicker.html", []).run([ "$templateCache", function(a) {
    a.put("template/timepicker/timepicker.html", "<table>\n" + "  <tbody>\n" + '    <tr class="text-center" ng-show="::showSpinners">\n' + '      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n' + "      <td>&nbsp;</td>\n" + '      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n' + '      <td ng-show="showMeridian"></td>\n' + "    </tr>\n" + "    <tr>\n" + '      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n' + '        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n' + "      </td>\n" + "      <td>:</td>\n" + '      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n' + '        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n' + "      </td>\n" + '      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n' + "    </tr>\n" + '    <tr class="text-center" ng-show="::showSpinners">\n' + '      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n' + "      <td>&nbsp;</td>\n" + '      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n' + '      <td ng-show="showMeridian"></td>\n' + "    </tr>\n" + "  </tbody>\n" + "</table>\n" + "");
} ]);

angular.module("template/typeahead/typeahead-match.html", []).run([ "$templateCache", function(a) {
    a.put("template/typeahead/typeahead-match.html", '<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n' + "");
} ]);

angular.module("template/typeahead/typeahead-popup.html", []).run([ "$templateCache", function(a) {
    a.put("template/typeahead/typeahead-popup.html", '<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n' + '    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n' + '        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n' + "    </li>\n" + "</ul>\n" + "");
} ]);

!angular.$$csp() && angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>');

(function() {
    angular.module("cropme", [ "ngSanitize", "ngTouch", "superswipe" ]);
}).call(this);

(function() {
    angular.module("cropme").directive("cropme", [ "$swipe", "$window", "$timeout", "$rootScope", "$q", "elementOffset", "canvasToBlob", function(a, b, c, d, e, f, g) {
        var h, i;
        i = 100;
        h = 8;
        return {
            template: "<div\n	class=\"step-1\"\n	ng-show=\"checkScopeVariables() && state == 'step-1'\"\n	ng-style=\"{'width': width + 'px', 'height': height + 'px'}\">\n	<dropbox ng-class=\"dropClass\"></dropbox>\n	<div class=\"cropme-error\" ng-bind-html=\"dropError\"></div>\n	<div class=\"cropme-file-input\">\n		<input type=\"file\"/>\n		<div\n			class=\"cropme-button\"\n			ng-class=\"{deactivated: dragOver}\"\n			ng-click=\"browseFiles()\">\n				Browse picture\n		</div>\n		<div class=\"cropme-or\">or</div>\n		<div class=\"cropme-label\" ng-class=\"iconClass\">{{dropText}}</div>\n	</div>\n</div>\n<div\n	class=\"step-2\"\n	ng-show=\"state == 'step-2'\"\n	ng-style=\"{'width': width + 'px', cursor: colResizePointer}\"\n	ng-mousemove=\"mousemove($event)\"\n	ng-mouseleave=\"deselect()\">\n	<img ng-src=\"{{imgSrc}}\" ng-style=\"{'width': width + 'px'}\" ng-show=\"imgLoaded\"/>\n	<div class=\"overlay-tile\" ng-style=\"{'top': 0, 'left': 0, 'width': xCropZone + 'px', 'height': yCropZone + 'px'}\"></div>\n	<div class=\"overlay-tile\" ng-style=\"{'top': 0, 'left': xCropZone + 'px', 'width': widthCropZone + 'px', 'height': yCropZone + 'px'}\"></div>\n	<div class=\"overlay-tile\" ng-style=\"{'top': 0, 'left': xCropZone + widthCropZone + 'px', 'right': 0, 'height': yCropZone + 'px'}\"></div>\n	<div class=\"overlay-tile\" ng-style=\"{'top': yCropZone + 'px', 'left': xCropZone + widthCropZone + 'px', 'right': 0, 'height': heightCropZone + 'px'}\"></div>\n	<div class=\"overlay-tile\" ng-style=\"{'top': yCropZone + heightCropZone + 'px', 'left': xCropZone + widthCropZone + 'px', 'right': 0, 'bottom': 0}\"></div>\n	<div class=\"overlay-tile\" ng-style=\"{'top': yCropZone + heightCropZone + 'px', 'left': xCropZone + 'px', 'width': widthCropZone + 'px', 'bottom': 0}\"></div>\n	<div class=\"overlay-tile\" ng-style=\"{'top': yCropZone + heightCropZone + 'px', 'left': 0, 'width': xCropZone + 'px', 'bottom': 0}\"></div>\n	<div class=\"overlay-tile\" ng-style=\"{'top': yCropZone + 'px', 'left': 0, 'width': xCropZone + 'px', 'height': heightCropZone + 'px'}\"></div>\n	<div class=\"overlay-border\" ng-style=\"{'top': (yCropZone - 2) + 'px', 'left': (xCropZone - 2) + 'px', 'width': widthCropZone + 'px', 'height': heightCropZone + 'px'}\"></div>\n</div>\n<div class=\"cropme-actions\" ng-show=\"state == 'step-2'\">\n	<button id=\"cropme-cancel\" ng-click=\"cancel($event)\">{{cancelLabel}}</button>\n	<button id=\"cropme-ok\" ng-click=\"ok($event)\">{{okLabel}}</button>\n</div>\n<canvas\n	width=\"{{destinationWidth}}\"\n	height=\"{{destinationHeight}}\"\n	ng-style=\"{'width': destinationWidth + 'px', 'height': destinationHeight + 'px'}\">\n</canvas>",
            restrict: "E",
            priority: 99,
            scope: {
                width: "@?",
                destinationWidth: "@",
                height: "@?",
                destinationHeight: "@?",
                iconClass: "@?",
                ratio: "@?",
                type: "@?",
                src: "@?",
                sendOriginal: "@?",
                sendCropped: "@?",
                id: "@?",
                okLabel: "@?",
                cancelLabel: "@?"
            },
            link: function(b, c, j) {
                var k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C, D, E, F, G, H, I;
                b.dropText = "Drop picture here";
                b.state = "step-1";
                r = null;
                v = null;
                w = null;
                I = null;
                y = c.find("img")[0];
                l = c.find("canvas")[0];
                p = l.getContext("2d");
                F = function() {
                    return b.sendCropped === undefined || b.sendCropped === "true";
                };
                G = function() {
                    return b.sendOriginal === "true";
                };
                H = function(a, c) {
                    I = b.width / a;
                    w = c * I;
                    b.widthCropZone = Math.round(b.destinationWidth * I);
                    b.heightCropZone = Math.round((b.destinationHeight || i) * I);
                    b.xCropZone = Math.round((b.width - b.widthCropZone) / 2);
                    return b.yCropZone = Math.round((b.height - b.heightCropZone) / 2);
                };
                b.checkScopeVariables = function() {
                    if (b.destinationHeight && !b.ratio) {
                        b.ratio = b.destinationHeight / b.destinationWidth;
                    } else if (b.ratio) {
                        b.destinationHeight = b.destinationWidth * b.ratio;
                    }
                    if (b.ratio && !b.height) {
                        b.height = b.width * b.ratio;
                    }
                    b.type || (b.type = "png");
                    b.okLabel || (b.okLabel = "Ok");
                    b.cancelLabel || (b.cancelLabel = "Cancel");
                    return true;
                };
                x = c[0].getElementsByClassName("step-2")[0];
                s = function() {
                    return f(x);
                };
                k = c.find("input");
                k.bind("change", function() {
                    var a;
                    a = this.files[0];
                    return b.$apply(function() {
                        return b.setFiles(a);
                    });
                });
                k.bind("click", function(a) {
                    a.stopPropagation();
                    return k.val("");
                });
                b.browseFiles = function() {
                    return k[0].click();
                };
                b.setFiles = function(a) {
                    var c;
                    if (!a.type.match(/^image\//)) {
                        return b.dropError = "Wrong file type, please select an image.";
                    }
                    b.filename = a.name;
                    b.dropError = "";
                    c = new FileReader();
                    c.onload = function(a) {
                        return b.$apply(function() {
                            return A(a.target.result, true);
                        });
                    };
                    return c.readAsDataURL(a);
                };
                A = function(a, c) {
                    var e;
                    if (c == null) {
                        c = false;
                    }
                    if (!a) {
                        return;
                    }
                    b.state = "step-2";
                    if (a !== b.imgSrc) {
                        b.imgSrc = a;
                        b.imgLoaded = false;
                        e = new Image();
                        e.onerror = function() {
                            return b.$apply(function() {
                                b.cancel();
                                return b.dropError = "Unsupported type of image";
                            });
                        };
                        e.onload = function() {
                            var a, c, f;
                            f = e.width;
                            c = e.height;
                            a = [];
                            if (f < b.width) {
                                a.push("The image you dropped has a width of " + f + ", but the minimum is " + b.width + ".");
                            }
                            i = Math.min(b.height, b.destinationHeight);
                            if (c < i) {
                                a.push("The image you dropped has a height of " + c + ", but the minimum is " + i + ".");
                            }
                            return b.$apply(function() {
                                if (a.length) {
                                    b.cancel();
                                    return b.dropError = a.join("<br/>");
                                } else {
                                    b.imgLoaded = true;
                                    d.$broadcast("cropme:loaded", f, c);
                                    return H(f, c);
                                }
                            });
                        };
                        if (!c) {
                            e.crossOrigin = "anonymous";
                        }
                        return e.src = a;
                    }
                };
                C = function(a) {
                    var c;
                    c = s();
                    b.xCropZone = a.x - c.left - b.widthCropZone / 2;
                    b.yCropZone = a.y - c.top - b.heightCropZone / 2;
                    return m();
                };
                B = {
                    top: function(a) {
                        var c;
                        c = a.y - s().top;
                        b.heightCropZone += b.yCropZone - c;
                        b.yCropZone = c;
                        o();
                        return m();
                    },
                    right: function(a) {
                        var c;
                        c = a.x - s().left;
                        b.widthCropZone = c - b.xCropZone;
                        n();
                        return m();
                    },
                    bottom: function(a) {
                        var c;
                        c = a.y - s().top;
                        b.heightCropZone = c - b.yCropZone;
                        o();
                        return m();
                    },
                    left: function(a) {
                        var c;
                        c = a.x - s().left;
                        b.widthCropZone += b.xCropZone - c;
                        b.xCropZone = c;
                        n();
                        return m();
                    }
                };
                n = function() {
                    if (b.ratio) {
                        return b.heightCropZone = b.widthCropZone * b.ratio;
                    }
                };
                o = function() {
                    if (b.ratio) {
                        return b.widthCropZone = b.heightCropZone / b.ratio;
                    }
                };
                m = function() {
                    if (b.xCropZone < 0) {
                        b.xCropZone = 0;
                    }
                    if (b.yCropZone < 0) {
                        b.yCropZone = 0;
                    }
                    if (b.widthCropZone < b.destinationWidth * I) {
                        b.widthCropZone = b.destinationWidth * I;
                        n();
                    } else if (b.destinationHeight && b.heightCropZone < b.destinationHeight * I) {
                        b.heightCropZone = b.destinationHeight * I;
                        o();
                    }
                    if (b.xCropZone + b.widthCropZone > b.width) {
                        b.xCropZone = b.width - b.widthCropZone;
                        if (b.xCropZone < 0) {
                            b.widthCropZone = b.width;
                            b.xCropZone = 0;
                            n();
                        }
                    }
                    if (b.yCropZone + b.heightCropZone > w) {
                        b.yCropZone = w - b.heightCropZone;
                        if (b.yCropZone < 0) {
                            b.heightCropZone = w;
                            b.yCropZone = 0;
                            return o();
                        }
                    }
                };
                z = function(a) {
                    var c, d, e, f, g, h, i, j, k;
                    f = s();
                    j = b.xCropZone + f.left;
                    k = b.yCropZone + f.top;
                    i = b.widthCropZone;
                    e = b.heightCropZone;
                    g = {
                        x: j,
                        y: k
                    };
                    h = {
                        x: j + i,
                        y: k
                    };
                    c = {
                        x: j,
                        y: k + e
                    };
                    d = {
                        x: j + i,
                        y: k + e
                    };
                    return D(a, j, i, k, "top") || E(a, k, e, j + i, "right") || D(a, j, i, k + e, "bottom") || E(a, k, e, j, "left");
                };
                D = function(a, b, c, d, e) {
                    if (a.x >= b && a.x <= b + c && Math.abs(a.y - d) <= h) {
                        return e;
                    }
                };
                E = function(a, b, c, d, e) {
                    if (a.y >= b && a.y <= b + c && Math.abs(a.x - d) <= h) {
                        return e;
                    }
                };
                q = function(a) {
                    if (r) {
                        return b.$apply(function() {
                            return r(a);
                        });
                    }
                };
                t = function() {
                    var a;
                    a = e.defer();
                    if (F()) {
                        p.drawImage(y, b.xCropZone / I, b.yCropZone / I, b.croppedWidth, b.croppedHeight, 0, 0, b.destinationWidth, b.destinationHeight);
                        g(l, function(b) {
                            return a.resolve(b);
                        }, "image/" + b.type);
                    } else {
                        a.resolve();
                    }
                    return a.promise;
                };
                u = function() {
                    var a, c, d;
                    a = e.defer();
                    if (G()) {
                        c = document.createElement("canvas");
                        d = c.getContext("2d");
                        c.width = y.naturalWidth;
                        c.height = y.naturalHeight;
                        d.drawImage(y, 0, 0);
                        g(c, function(b) {
                            return a.resolve(b);
                        }, "image/" + b.type);
                    } else {
                        a.resolve();
                    }
                    return a.promise;
                };
                b.mousemove = function(a) {
                    return b.colResizePointer = function() {
                        switch (z({
                            x: a.pageX,
                            y: a.pageY
                        })) {
                          case "top":
                            return "ne-resize";

                          case "right":
                          case "bottom":
                            return "se-resize";

                          case "left":
                            return "sw-resize";

                          default:
                            return "move";
                        }
                    }();
                };
                a.bind(angular.element(c[0].getElementsByClassName("step-2")[0]), {
                    start: function(a) {
                        v = z(a);
                        if (v) {
                            r = B[v];
                        } else {
                            r = C;
                        }
                        return q(a);
                    },
                    move: function(a) {
                        return q(a);
                    },
                    end: function(a) {
                        q(a);
                        return r = null;
                    }
                });
                b.deselect = function() {
                    return r = null;
                };
                b.cancel = function(a) {
                    if (a) {
                        a.preventDefault();
                    }
                    b.dropText = "Drop files here";
                    b.dropClass = "";
                    b.state = "step-1";
                    delete b.imgSrc;
                    return delete b.filename;
                };
                b.ok = function(a) {
                    if (a) {
                        a.preventDefault();
                    }
                    b.croppedWidth = b.widthCropZone / I;
                    b.croppedHeight = b.heightCropZone / I;
                    return e.all([ t(), u() ]).then(function(a) {
                        var c;
                        c = {
                            x: b.xCropZone / I,
                            y: b.yCropZone / I,
                            height: b.croppedHeight,
                            width: b.croppedWidth,
                            destinationHeight: b.destinationHeight,
                            destinationWidth: b.destinationWidth,
                            filename: b.filename
                        };
                        if (a[0]) {
                            c.croppedImage = a[0];
                        }
                        if (a[1]) {
                            c.originalImage = a[1];
                        }
                        return d.$broadcast("cropme:done", c, "image/" + b.type, b.id);
                    });
                };
                b.$on("cropme:cancel", b.cancel);
                b.$on("cropme:ok", b.ok);
                return b.$watch("src", function() {
                    var a;
                    if (b.src) {
                        b.filename = b.src;
                        a = b.src.match(/\?/) ? "&" : "?";
                        return A("" + b.src + a + "crossOrigin");
                    }
                });
            }
        };
    } ]);
}).call(this);

(function() {
    angular.module("cropme").directive("dropbox", [ "elementOffset", function(a) {
        return {
            restrict: "E",
            link: function(b, c, d) {
                var e, f, g, h;
                g = a(c);
                h = function(a) {
                    a.stopPropagation();
                    a.preventDefault();
                    return b.$apply(function() {
                        b.dragOver = false;
                        b.dropText = "Drop files here";
                        return b.dropClass = "";
                    });
                };
                e = function(a) {
                    if (a.x > g.left && a.x < g.left + c[0].offsetWidth && a.y > g.top && a.y < g.top + c[0].offsetHeight) {
                        return;
                    }
                    return h(a);
                };
                f = c[0];
                b.dropText = "Drop files here";
                b.dragOver = false;
                f.addEventListener("dragenter", e, false);
                f.addEventListener("dragleave", e, false);
                f.addEventListener("dragover", function(a) {
                    var c;
                    a.stopPropagation();
                    a.preventDefault();
                    c = a.dataTransfer && a.dataTransfer.types && a.dataTransfer.types.indexOf("Files") >= 0;
                    return b.$apply(function() {
                        b.dragOver = true;
                        b.dropText = c ? "Drop now" : "Only files are allowed";
                        return b.dropClass = c ? "over" : "not-available";
                    });
                }, false);
                return f.addEventListener("drop", function(a) {
                    var c;
                    h(a);
                    c = a.dataTransfer.files;
                    return b.$apply(function() {
                        var a, d, e;
                        if (c.length > 0) {
                            for (d = 0, e = c.length; d < e; d++) {
                                a = c[d];
                                if (a.type.match(/^image\//)) {
                                    b.dropText = "Loading image...";
                                    b.dropClass = "loading";
                                    return b.setFiles(a);
                                }
                                b.dropError = "Wrong file type, please drop at least an image.";
                            }
                        }
                    });
                }, false);
            }
        };
    } ]);
}).call(this);

(function() {
    "use strict";
    angular.module("cropme").service("canvasToBlob", function() {
        var a, b, c;
        c = /\s*;\s*base64\s*(?:;|$)/i;
        a = void 0;
        b = function(b) {
            var c, d, e, f, g, h, i, j, k, l;
            g = b.length;
            c = new Uint8Array(g / 4 * 3 | 0);
            e = 0;
            h = 0;
            f = [ 0, 0 ];
            k = 0;
            j = 0;
            i = void 0;
            d = void 0;
            l = void 0;
            while (g--) {
                d = b.charCodeAt(e++);
                i = a[d - 43];
                if (i !== 255 && i !== l) {
                    f[1] = f[0];
                    f[0] = d;
                    j = j << 6 | i;
                    k++;
                    if (k === 4) {
                        c[h++] = j >>> 16;
                        if (f[1] !== 61) {
                            c[h++] = j >>> 8;
                        }
                        if (f[0] !== 61) {
                            c[h++] = j;
                        }
                        k = 0;
                    }
                }
            }
            return c;
        };
        a = new Uint8Array([ 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, 0, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51 ]);
        return function(a, d, e) {
            var f, g, h, i, j, k;
            if (!e) {
                e = "image/png";
            }
            if (a.mozGetAsFile) {
                d(a.mozGetAsFile("canvas", e));
                return;
            }
            f = Array.prototype.slice.call(arguments, 1);
            i = a.toDataURL(e);
            j = i.indexOf(",");
            h = i.substring(j + 1);
            k = c.test(i.substring(0, j));
            g = void 0;
            if (Blob.fake) {
                g = new Blob();
                if (k) {
                    g.encoding = "base64";
                } else {
                    g.encoding = "URI";
                }
                g.data = h;
                g.size = h.length;
            } else if (Uint8Array) {
                if (k) {
                    g = new Blob([ b(h) ], {
                        type: e
                    });
                } else {
                    g = new Blob([ decodeURIComponent(h) ], {
                        type: e
                    });
                }
            }
            return d(g);
        };
    });
}).call(this);

(function() {
    "use strict";
    angular.module("cropme").service("elementOffset", function() {
        return function(a) {
            var b, c, d, e, f, g;
            if (a[0]) {
                a = a[0];
            }
            d = 0;
            c = 0;
            f = 0;
            e = 0;
            g = a.offsetWidth;
            b = a.offsetHeight;
            while (a) {
                d += a.offsetTop - a.scrollTop;
                c += a.offsetLeft - a.scrollLeft;
                a = a.offsetParent;
            }
            return {
                top: d,
                left: c,
                right: c + g,
                bottom: d + b
            };
        };
    });
}).call(this);

(function() {
    "use strict";
    angular.module("angular-loading-bar", [ "cfp.loadingBarInterceptor" ]);
    angular.module("chieffancypants.loadingBar", [ "cfp.loadingBarInterceptor" ]);
    angular.module("cfp.loadingBarInterceptor", [ "cfp.loadingBar" ]).config([ "$httpProvider", function(a) {
        var b = [ "$q", "$cacheFactory", "$timeout", "$rootScope", "$log", "cfpLoadingBar", function(b, c, d, e, f, g) {
            var h = 0;
            var i = 0;
            var j = g.latencyThreshold;
            var k;
            function l() {
                d.cancel(k);
                g.complete();
                i = 0;
                h = 0;
            }
            function m(b) {
                var d;
                var e = c.get("$http");
                var f = a.defaults;
                if ((b.cache || f.cache) && b.cache !== false && (b.method === "GET" || b.method === "JSONP")) {
                    d = angular.isObject(b.cache) ? b.cache : angular.isObject(f.cache) ? f.cache : e;
                }
                var g = d !== undefined ? d.get(b.url) !== undefined : false;
                if (b.cached !== undefined && g !== b.cached) {
                    return b.cached;
                }
                b.cached = g;
                return g;
            }
            return {
                request: function(a) {
                    if (!a.ignoreLoadingBar && !m(a)) {
                        e.$broadcast("cfpLoadingBar:loading", {
                            url: a.url
                        });
                        if (h === 0) {
                            k = d(function() {
                                g.start();
                            }, j);
                        }
                        h++;
                        g.set(i / h);
                    }
                    return a;
                },
                response: function(a) {
                    if (!a || !a.config) {
                        f.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50");
                        return a;
                    }
                    if (!a.config.ignoreLoadingBar && !m(a.config)) {
                        i++;
                        e.$broadcast("cfpLoadingBar:loaded", {
                            url: a.config.url,
                            result: a
                        });
                        if (i >= h) {
                            l();
                        } else {
                            g.set(i / h);
                        }
                    }
                    return a;
                },
                responseError: function(a) {
                    if (!a || !a.config) {
                        f.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50");
                        return b.reject(a);
                    }
                    if (!a.config.ignoreLoadingBar && !m(a.config)) {
                        i++;
                        e.$broadcast("cfpLoadingBar:loaded", {
                            url: a.config.url,
                            result: a
                        });
                        if (i >= h) {
                            l();
                        } else {
                            g.set(i / h);
                        }
                    }
                    return b.reject(a);
                }
            };
        } ];
        a.interceptors.push(b);
    } ]);
    angular.module("cfp.loadingBar", []).provider("cfpLoadingBar", function() {
        this.autoIncrement = true;
        this.includeSpinner = true;
        this.includeBar = true;
        this.latencyThreshold = 100;
        this.startSize = .02;
        this.parentSelector = "body";
        this.spinnerTemplate = '<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>';
        this.loadingBarTemplate = '<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>';
        this.$get = [ "$injector", "$document", "$timeout", "$rootScope", function(a, b, c, d) {
            var e;
            var f = this.parentSelector, g = angular.element(this.loadingBarTemplate), h = g.find("div").eq(0), i = angular.element(this.spinnerTemplate);
            var j, k, l = false, m = 0;
            var n = this.autoIncrement;
            var o = this.includeSpinner;
            var p = this.includeBar;
            var q = this.startSize;
            function r() {
                if (!e) {
                    e = a.get("$animate");
                }
                var h = b.find(f).eq(0);
                c.cancel(k);
                if (l) {
                    return;
                }
                d.$broadcast("cfpLoadingBar:started");
                l = true;
                if (p) {
                    e.enter(g, h, angular.element(h[0].lastChild));
                }
                if (o) {
                    e.enter(i, h, angular.element(h[0].lastChild));
                }
                s(q);
            }
            function s(a) {
                if (!l) {
                    return;
                }
                var b = a * 100 + "%";
                h.css("width", b);
                m = a;
                if (n) {
                    c.cancel(j);
                    j = c(function() {
                        t();
                    }, 250);
                }
            }
            function t() {
                if (u() >= 1) {
                    return;
                }
                var a = 0;
                var b = u();
                if (b >= 0 && b < .25) {
                    a = (Math.random() * (5 - 3 + 1) + 3) / 100;
                } else if (b >= .25 && b < .65) {
                    a = Math.random() * 3 / 100;
                } else if (b >= .65 && b < .9) {
                    a = Math.random() * 2 / 100;
                } else if (b >= .9 && b < .99) {
                    a = .005;
                } else {
                    a = 0;
                }
                var c = u() + a;
                s(c);
            }
            function u() {
                return m;
            }
            function v() {
                m = 0;
                l = false;
            }
            function w() {
                if (!e) {
                    e = a.get("$animate");
                }
                d.$broadcast("cfpLoadingBar:completed");
                s(1);
                c.cancel(k);
                k = c(function() {
                    var a = e.leave(g, v);
                    if (a && a.then) {
                        a.then(v);
                    }
                    e.leave(i);
                }, 500);
            }
            return {
                start: r,
                set: s,
                status: u,
                inc: t,
                complete: w,
                autoIncrement: this.autoIncrement,
                includeSpinner: this.includeSpinner,
                latencyThreshold: this.latencyThreshold,
                parentSelector: this.parentSelector,
                startSize: this.startSize
            };
        } ];
    });
})();

(function(a, b, c) {
    "use strict";
    var d = b.module("ngRoute", [ "ng" ]).provider("$route", f), e = b.$$minErr("ngRoute");
    function f() {
        function a(a, c) {
            return b.extend(Object.create(a), c);
        }
        var c = {};
        this.when = function(a, e) {
            var f = b.copy(e);
            if (b.isUndefined(f.reloadOnSearch)) {
                f.reloadOnSearch = true;
            }
            if (b.isUndefined(f.caseInsensitiveMatch)) {
                f.caseInsensitiveMatch = this.caseInsensitiveMatch;
            }
            c[a] = b.extend(f, a && d(a, f));
            if (a) {
                var g = a[a.length - 1] == "/" ? a.substr(0, a.length - 1) : a + "/";
                c[g] = b.extend({
                    redirectTo: a
                }, d(g, f));
            }
            return this;
        };
        this.caseInsensitiveMatch = false;
        function d(a, b) {
            var c = b.caseInsensitiveMatch, d = {
                originalPath: a,
                regexp: a
            }, e = d.keys = [];
            a = a.replace(/([().])/g, "\\$1").replace(/(\/)?:(\w+)([\?\*])?/g, function(a, b, c, d) {
                var f = d === "?" ? d : null;
                var g = d === "*" ? d : null;
                e.push({
                    name: c,
                    optional: !!f
                });
                b = b || "";
                return "" + (f ? "" : b) + "(?:" + (f ? b : "") + (g && "(.+?)" || "([^/]+)") + (f || "") + ")" + (f || "");
            }).replace(/([\/$\*])/g, "\\$1");
            d.regexp = new RegExp("^" + a + "$", c ? "i" : "");
            return d;
        }
        this.otherwise = function(a) {
            if (typeof a === "string") {
                a = {
                    redirectTo: a
                };
            }
            this.when(null, a);
            return this;
        };
        this.$get = [ "$rootScope", "$location", "$routeParams", "$q", "$injector", "$templateRequest", "$sce", function(d, f, g, h, i, j, k) {
            var l = false, m, n, o = {
                routes: c,
                reload: function() {
                    l = true;
                    d.$evalAsync(function() {
                        q();
                        r();
                    });
                },
                updateParams: function(a) {
                    if (this.current && this.current.$$route) {
                        a = b.extend({}, this.current.params, a);
                        f.path(t(this.current.$$route.originalPath, a));
                        f.search(a);
                    } else {
                        throw e("norout", "Tried updating route when with no current route");
                    }
                }
            };
            d.$on("$locationChangeStart", q);
            d.$on("$locationChangeSuccess", r);
            return o;
            function p(a, b) {
                var c = b.keys, d = {};
                if (!b.regexp) return null;
                var e = b.regexp.exec(a);
                if (!e) return null;
                for (var f = 1, g = e.length; f < g; ++f) {
                    var h = c[f - 1];
                    var i = e[f];
                    if (h && i) {
                        d[h.name] = i;
                    }
                }
                return d;
            }
            function q(a) {
                var c = o.current;
                m = s();
                n = m && c && m.$$route === c.$$route && b.equals(m.pathParams, c.pathParams) && !m.reloadOnSearch && !l;
                if (!n && (c || m)) {
                    if (d.$broadcast("$routeChangeStart", m, c).defaultPrevented) {
                        if (a) {
                            a.preventDefault();
                        }
                    }
                }
            }
            function r() {
                var a = o.current;
                var c = m;
                if (n) {
                    a.params = c.params;
                    b.copy(a.params, g);
                    d.$broadcast("$routeUpdate", a);
                } else if (c || a) {
                    l = false;
                    o.current = c;
                    if (c) {
                        if (c.redirectTo) {
                            if (b.isString(c.redirectTo)) {
                                f.path(t(c.redirectTo, c.params)).search(c.params).replace();
                            } else {
                                f.url(c.redirectTo(c.pathParams, f.path(), f.search())).replace();
                            }
                        }
                    }
                    h.when(c).then(function() {
                        if (c) {
                            var a = b.extend({}, c.resolve), d, e;
                            b.forEach(a, function(c, d) {
                                a[d] = b.isString(c) ? i.get(c) : i.invoke(c, null, null, d);
                            });
                            if (b.isDefined(d = c.template)) {
                                if (b.isFunction(d)) {
                                    d = d(c.params);
                                }
                            } else if (b.isDefined(e = c.templateUrl)) {
                                if (b.isFunction(e)) {
                                    e = e(c.params);
                                }
                                if (b.isDefined(e)) {
                                    c.loadedTemplateUrl = k.valueOf(e);
                                    d = j(e);
                                }
                            }
                            if (b.isDefined(d)) {
                                a["$template"] = d;
                            }
                            return h.all(a);
                        }
                    }).then(function(e) {
                        if (c == o.current) {
                            if (c) {
                                c.locals = e;
                                b.copy(c.params, g);
                            }
                            d.$broadcast("$routeChangeSuccess", c, a);
                        }
                    }, function(b) {
                        if (c == o.current) {
                            d.$broadcast("$routeChangeError", c, a, b);
                        }
                    });
                }
            }
            function s() {
                var d, e;
                b.forEach(c, function(c, g) {
                    if (!e && (d = p(f.path(), c))) {
                        e = a(c, {
                            params: b.extend({}, f.search(), d),
                            pathParams: d
                        });
                        e.$$route = c;
                    }
                });
                return e || c[null] && a(c[null], {
                    params: {},
                    pathParams: {}
                });
            }
            function t(a, c) {
                var d = [];
                b.forEach((a || "").split(":"), function(a, b) {
                    if (b === 0) {
                        d.push(a);
                    } else {
                        var e = a.match(/(\w+)(?:[?*])?(.*)/);
                        var f = e[1];
                        d.push(c[f]);
                        d.push(e[2] || "");
                        delete c[f];
                    }
                });
                return d.join("");
            }
        } ];
    }
    d.provider("$routeParams", g);
    function g() {
        this.$get = function() {
            return {};
        };
    }
    d.directive("ngView", h);
    d.directive("ngView", i);
    h.$inject = [ "$route", "$anchorScroll", "$animate" ];
    function h(a, c, d) {
        return {
            restrict: "ECA",
            terminal: true,
            priority: 400,
            transclude: "element",
            link: function(e, f, g, h, i) {
                var j, k, l, m = g.autoscroll, n = g.onload || "";
                e.$on("$routeChangeSuccess", p);
                p();
                function o() {
                    if (l) {
                        d.cancel(l);
                        l = null;
                    }
                    if (j) {
                        j.$destroy();
                        j = null;
                    }
                    if (k) {
                        l = d.leave(k);
                        l.then(function() {
                            l = null;
                        });
                        k = null;
                    }
                }
                function p() {
                    var g = a.current && a.current.locals, h = g && g.$template;
                    if (b.isDefined(h)) {
                        var l = e.$new();
                        var p = a.current;
                        var q = i(l, function(a) {
                            d.enter(a, null, k || f).then(function g() {
                                if (b.isDefined(m) && (!m || e.$eval(m))) {
                                    c();
                                }
                            });
                            o();
                        });
                        k = q;
                        j = p.scope = l;
                        j.$emit("$viewContentLoaded");
                        j.$eval(n);
                    } else {
                        o();
                    }
                }
            }
        };
    }
    i.$inject = [ "$compile", "$controller", "$route" ];
    function i(a, b, c) {
        return {
            restrict: "ECA",
            priority: -400,
            link: function(d, e) {
                var f = c.current, g = f.locals;
                e.html(g.$template);
                var h = a(e.contents());
                if (f.controller) {
                    g.$scope = d;
                    var i = b(f.controller, g);
                    if (f.controllerAs) {
                        d[f.controllerAs] = i;
                    }
                    e.data("$ngControllerController", i);
                    e.children().data("$ngControllerController", i);
                }
                h(d);
            }
        };
    }
})(window, window.angular);

angular.module("btford.socket-io", []).provider("socketFactory", function() {
    "use strict";
    var a = "socket:", b;
    this.$get = [ "$rootScope", "$timeout", function(b, c) {
        var d = function(a, b) {
            return b ? function() {
                var d = arguments;
                c(function() {
                    b.apply(a, d);
                }, 0);
            } : angular.noop;
        };
        return function e(c) {
            c = c || {};
            var e = c.ioSocket || io.connect();
            var f = c.prefix === undefined ? a : c.prefix;
            var g = c.scope || b;
            var h = function(a, b) {
                e.on(a, b.__ng = d(e, b));
            };
            var i = function(a, b) {
                e.once(a, b.__ng = d(e, b));
            };
            var j = {
                on: h,
                addListener: h,
                once: i,
                emit: function(a, b, c) {
                    var f = arguments.length - 1;
                    var c = arguments[f];
                    if (typeof c == "function") {
                        c = d(e, c);
                        arguments[f] = c;
                    }
                    return e.emit.apply(e, arguments);
                },
                removeListener: function(a, b) {
                    if (b && b.__ng) {
                        arguments[1] = b.__ng;
                    }
                    return e.removeListener.apply(e, arguments);
                },
                removeAllListeners: function() {
                    return e.removeAllListeners.apply(e, arguments);
                },
                disconnect: function(a) {
                    return e.disconnect(a);
                },
                connect: function() {
                    return e.connect();
                },
                forward: function(a, b) {
                    if (a instanceof Array === false) {
                        a = [ a ];
                    }
                    if (!b) {
                        b = g;
                    }
                    a.forEach(function(a) {
                        var c = f + a;
                        var g = d(e, function() {
                            Array.prototype.unshift.call(arguments, c);
                            b.$broadcast.apply(b, arguments);
                        });
                        b.$on("$destroy", function() {
                            e.removeListener(a, g);
                        });
                        e.on(a, g);
                    });
                }
            };
            return j;
        };
    } ];
});

(function(a, b) {
    "use strict";
    var c = window.angulartics || (window.angulartics = {});
    c.waitForVendorCount = 0;
    c.waitForVendorApi = function(a, b, d, e, f) {
        if (!f) {
            c.waitForVendorCount++;
        }
        if (!e) {
            e = d;
            d = undefined;
        }
        if (!Object.prototype.hasOwnProperty.call(window, a) || d !== undefined && window[a][d] === undefined) {
            setTimeout(function() {
                c.waitForVendorApi(a, b, d, e, true);
            }, b);
        } else {
            c.waitForVendorCount--;
            e(window[a]);
        }
    };
    a.module("angulartics", []).provider("$analytics", function() {
        var b = {
            pageTracking: {
                autoTrackFirstPage: true,
                autoTrackVirtualPages: true,
                trackRelativePath: false,
                autoBasePath: false,
                basePath: ""
            },
            eventTracking: {},
            bufferFlushDelay: 1e3,
            developerMode: false
        };
        var d = [ "pageTrack", "eventTrack", "setAlias", "setUsername", "setAlias", "setUserProperties", "setUserPropertiesOnce", "setSuperProperties", "setSuperPropertiesOnce" ];
        var e = {};
        var f = {};
        var g = function(a) {
            return function() {
                if (c.waitForVendorCount) {
                    if (!e[a]) {
                        e[a] = [];
                    }
                    e[a].push(arguments);
                }
            };
        };
        var h = function(b, c) {
            if (!f[b]) {
                f[b] = [];
            }
            f[b].push(c);
            return function() {
                var c = arguments;
                a.forEach(f[b], function(a) {
                    a.apply(this, c);
                }, this);
            };
        };
        var i = {
            settings: b
        };
        var j = function(a, b) {
            if (b) {
                setTimeout(a, b);
            } else {
                a();
            }
        };
        var k = {
            $get: function() {
                return i;
            },
            api: i,
            settings: b,
            virtualPageviews: function(a) {
                this.settings.pageTracking.autoTrackVirtualPages = a;
            },
            firstPageview: function(a) {
                this.settings.pageTracking.autoTrackFirstPage = a;
            },
            withBase: function(b) {
                this.settings.pageTracking.basePath = b ? a.element("base").attr("href").slice(0, -1) : "";
            },
            withAutoBase: function(a) {
                this.settings.pageTracking.autoBasePath = a;
            },
            developerMode: function(a) {
                this.settings.developerMode = a;
            }
        };
        var l = function(c, d) {
            i[c] = h(c, d);
            var f = b[c];
            var g = f ? f.bufferFlushDelay : null;
            var k = g !== null ? g : b.bufferFlushDelay;
            a.forEach(e[c], function(a, b) {
                j(function() {
                    d.apply(this, a);
                }, b * k);
            });
        };
        var m = function(a) {
            return a.replace(/^./, function(a) {
                return a.toUpperCase();
            });
        };
        var n = function(a) {
            var b = "register" + m(a);
            k[b] = function(b) {
                l(a, b);
            };
            i[a] = h(a, g(a));
        };
        a.forEach(d, n);
        return k;
    }).run([ "$rootScope", "$window", "$analytics", "$injector", function(b, c, d, e) {
        if (d.settings.pageTracking.autoTrackFirstPage) {
            e.invoke([ "$location", function(a) {
                var b = true;
                if (e.has("$route")) {
                    var f = e.get("$route");
                    for (var g in f.routes) {
                        b = false;
                        break;
                    }
                } else if (e.has("$state")) {
                    var h = e.get("$state");
                    for (var i in h.get()) {
                        b = false;
                        break;
                    }
                }
                if (b) {
                    if (d.settings.pageTracking.autoBasePath) {
                        d.settings.pageTracking.basePath = c.location.pathname;
                    }
                    if (d.settings.trackRelativePath) {
                        var j = d.settings.pageTracking.basePath + a.url();
                        d.pageTrack(j, a);
                    } else {
                        d.pageTrack(a.absUrl(), a);
                    }
                }
            } ]);
        }
        if (d.settings.pageTracking.autoTrackVirtualPages) {
            e.invoke([ "$location", function(a) {
                if (d.settings.pageTracking.autoBasePath) {
                    d.settings.pageTracking.basePath = c.location.pathname + "#";
                }
                if (e.has("$route")) {
                    b.$on("$routeChangeSuccess", function(b, c) {
                        if (c && (c.$$route || c).redirectTo) return;
                        var e = d.settings.pageTracking.basePath + a.url();
                        d.pageTrack(e, a);
                    });
                }
                if (e.has("$state")) {
                    b.$on("$stateChangeSuccess", function(b, c) {
                        var e = d.settings.pageTracking.basePath + a.url();
                        d.pageTrack(e, a);
                    });
                }
            } ]);
        }
        if (d.settings.developerMode) {
            a.forEach(d, function(a, b) {
                if (typeof a === "function") {
                    d[b] = function() {};
                }
            });
        }
    } ]).directive("analyticsOn", [ "$analytics", function(b) {
        function c(a) {
            return [ "a:", "button:", "button:button", "button:submit", "input:button", "input:submit" ].indexOf(a.tagName.toLowerCase() + ":" + (a.type || "")) >= 0;
        }
        function d(a) {
            if (c(a)) return "click";
            return "click";
        }
        function e(a) {
            if (c(a)) return a.innerText || a.value;
            return a.id || a.name || a.tagName;
        }
        function f(a) {
            return a.substr(0, 9) === "analytics" && [ "On", "Event", "If", "Properties", "EventType" ].indexOf(a.substr(9)) === -1;
        }
        function g(a) {
            var b = a.slice(9);
            if (typeof b !== "undefined" && b !== null && b.length > 0) {
                return b.substring(0, 1).toLowerCase() + b.substring(1);
            } else {
                return b;
            }
        }
        return {
            restrict: "A",
            link: function(c, h, i) {
                var j = i.analyticsOn || d(h[0]);
                var k = {};
                a.forEach(i.$attr, function(a, b) {
                    if (f(b)) {
                        k[g(b)] = i[b];
                        i.$observe(b, function(a) {
                            k[g(b)] = a;
                        });
                    }
                });
                a.element(h[0]).bind(j, function(d) {
                    var f = i.analyticsEvent || e(h[0]);
                    k.eventType = d.type;
                    if (i.analyticsIf) {
                        if (!c.$eval(i.analyticsIf)) {
                            return;
                        }
                    }
                    if (i.analyticsProperties) {
                        a.extend(k, c.$eval(i.analyticsProperties));
                    }
                    b.eventTrack(f, k);
                });
            }
        };
    } ]);
})(angular);

(function(a) {
    "use strict";
    a.module("angulartics.google.analytics", [ "angulartics" ]).config([ "$analyticsProvider", function(b) {
        b.settings.trackRelativePath = true;
        b.settings.ga = {
            additionalAccountNames: undefined
        };
        b.registerPageTrack(function(c) {
            if (window._gaq) _gaq.push([ "_trackPageview", c ]);
            if (window.ga) {
                ga("send", "pageview", c);
                a.forEach(b.settings.ga.additionalAccountNames, function(a) {
                    ga(a + ".send", "pageview", c);
                });
            }
        });
        b.registerEventTrack(function(c, d) {
            if (!d || !d.category) {
                return;
            }
            if (d.value) {
                var e = parseInt(d.value, 10);
                d.value = isNaN(e) ? 0 : e;
            }
            if (window.ga) {
                var f = {
                    eventCategory: d.category || null,
                    eventAction: c || null,
                    eventLabel: d.label || null,
                    eventValue: d.value || null,
                    nonInteraction: d.noninteraction || null
                };
                for (var g = 1; g <= 20; g++) {
                    if (d["dimension" + g.toString()]) {
                        f["dimension" + g.toString()] = d["dimension" + g.toString()];
                    }
                    if (d["metric" + g.toString()]) {
                        f["metric" + g.toString()] = d["metric" + g.toString()];
                    }
                }
                ga("send", "event", f);
                a.forEach(b.settings.ga.additionalAccountNames, function(a) {
                    ga(a + ".send", "event", f);
                });
            } else if (window._gaq) {
                _gaq.push([ "_trackEvent", d.category, c, d.label, d.value, d.noninteraction ]);
            }
        });
    } ]);
})(angular);

Date.CultureStrings = Date.CultureStrings || {};

Date.CultureStrings["en-NZ"] = {
    name: "en-NZ",
    englishName: "English (New Zealand)",
    nativeName: "English (New Zealand)",
    Sunday: "Sunday",
    Monday: "Monday",
    Tuesday: "Tuesday",
    Wednesday: "Wednesday",
    Thursday: "Thursday",
    Friday: "Friday",
    Saturday: "Saturday",
    Sun: "Sun",
    Mon: "Mon",
    Tue: "Tue",
    Wed: "Wed",
    Thu: "Thu",
    Fri: "Fri",
    Sat: "Sat",
    Su: "Su",
    Mo: "Mo",
    Tu: "Tu",
    We: "We",
    Th: "Th",
    Fr: "Fr",
    Sa: "Sa",
    S_Sun_Initial: "S",
    M_Mon_Initial: "M",
    T_Tue_Initial: "T",
    W_Wed_Initial: "W",
    T_Thu_Initial: "T",
    F_Fri_Initial: "F",
    S_Sat_Initial: "S",
    January: "January",
    February: "February",
    March: "March",
    April: "April",
    May: "May",
    June: "June",
    July: "July",
    August: "August",
    September: "September",
    October: "October",
    November: "November",
    December: "December",
    Jan_Abbr: "Jan",
    Feb_Abbr: "Feb",
    Mar_Abbr: "Mar",
    Apr_Abbr: "Apr",
    May_Abbr: "May",
    Jun_Abbr: "Jun",
    Jul_Abbr: "Jul",
    Aug_Abbr: "Aug",
    Sep_Abbr: "Sep",
    Oct_Abbr: "Oct",
    Nov_Abbr: "Nov",
    Dec_Abbr: "Dec",
    AM: "a.m.",
    PM: "p.m.",
    firstDayOfWeek: 1,
    twoDigitYearMax: 2029,
    mdy: "dmy",
    "M/d/yyyy": "d/MM/yyyy",
    "dddd, MMMM dd, yyyy": "dddd, d MMMM yyyy",
    "h:mm tt": "h:mm tt",
    "h:mm:ss tt": "h:mm:ss tt",
    "dddd, MMMM dd, yyyy h:mm:ss tt": "dddd, d MMMM yyyy h:mm:ss tt",
    "yyyy-MM-ddTHH:mm:ss": "yyyy-MM-ddTHH:mm:ss",
    "yyyy-MM-dd HH:mm:ssZ": "yyyy-MM-dd HH:mm:ssZ",
    "ddd, dd MMM yyyy HH:mm:ss": "ddd, dd MMM yyyy HH:mm:ss",
    "MMMM dd": "dd MMMM",
    "MMMM, yyyy": "MMMM yyyy",
    "/jan(uary)?/": "jan(uary)?",
    "/feb(ruary)?/": "feb(ruary)?",
    "/mar(ch)?/": "mar(ch)?",
    "/apr(il)?/": "apr(il)?",
    "/may/": "may",
    "/jun(e)?/": "jun(e)?",
    "/jul(y)?/": "jul(y)?",
    "/aug(ust)?/": "aug(ust)?",
    "/sep(t(ember)?)?/": "sep(t(ember)?)?",
    "/oct(ober)?/": "oct(ober)?",
    "/nov(ember)?/": "nov(ember)?",
    "/dec(ember)?/": "dec(ember)?",
    "/^su(n(day)?)?/": "^su(n(day)?)?",
    "/^mo(n(day)?)?/": "^mo(n(day)?)?",
    "/^tu(e(s(day)?)?)?/": "^tu(e(s(day)?)?)?",
    "/^we(d(nesday)?)?/": "^we(d(nesday)?)?",
    "/^th(u(r(s(day)?)?)?)?/": "^th(u(r(s(day)?)?)?)?",
    "/^fr(i(day)?)?/": "^fr(i(day)?)?",
    "/^sa(t(urday)?)?/": "^sa(t(urday)?)?",
    "/^next/": "^next",
    "/^last|past|prev(ious)?/": "^last|past|prev(ious)?",
    "/^(\\+|aft(er)?|from|hence)/": "^(\\+|aft(er)?|from|hence)",
    "/^(\\-|bef(ore)?|ago)/": "^(\\-|bef(ore)?|ago)",
    "/^yes(terday)?/": "^yes(terday)?",
    "/^t(od(ay)?)?/": "^t(od(ay)?)?",
    "/^tom(orrow)?/": "^tom(orrow)?",
    "/^n(ow)?/": "^n(ow)?",
    "/^ms|milli(second)?s?/": "^ms|milli(second)?s?",
    "/^sec(ond)?s?/": "^sec(ond)?s?",
    "/^mn|min(ute)?s?/": "^mn|min(ute)?s?",
    "/^h(our)?s?/": "^h(our)?s?",
    "/^w(eek)?s?/": "^w(eek)?s?",
    "/^m(onth)?s?/": "^m(onth)?s?",
    "/^d(ay)?s?/": "^d(ay)?s?",
    "/^y(ear)?s?/": "^y(ear)?s?",
    "/^(a|p)/": "^(a|p)",
    "/^(a\\.?m?\\.?|p\\.?m?\\.?)/": "^(a\\.?m?\\.?|p\\.?m?\\.?)",
    "/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/": "^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)",
    "/^\\s*(st|nd|rd|th)/": "^\\s*(st|nd|rd|th)",
    "/^\\s*(\\:|a(?!u|p)|p)/": "^\\s*(\\:|a(?!u|p)|p)",
    LINT: "LINT",
    TOT: "TOT",
    CHAST: "CHAST",
    NZST: "NZST",
    NFT: "NFT",
    SBT: "SBT",
    AEST: "AEST",
    ACST: "ACST",
    JST: "JST",
    CWST: "CWST",
    CT: "CT",
    ICT: "ICT",
    MMT: "MMT",
    BIOT: "BST",
    NPT: "NPT",
    IST: "IST",
    PKT: "PKT",
    AFT: "AFT",
    MSK: "MSK",
    IRST: "IRST",
    FET: "FET",
    EET: "EET",
    CET: "CET",
    UTC: "UTC",
    GMT: "GMT",
    CVT: "CVT",
    GST: "GST",
    BRT: "BRT",
    NST: "NST",
    AST: "AST",
    EST: "EST",
    CST: "CST",
    MST: "MST",
    PST: "PST",
    AKST: "AKST",
    MIT: "MIT",
    HST: "HST",
    SST: "SST",
    BIT: "BIT",
    CHADT: "CHADT",
    NZDT: "NZDT",
    AEDT: "AEDT",
    ACDT: "ACDT",
    AZST: "AZST",
    IRDT: "IRDT",
    EEST: "EEST",
    CEST: "CEST",
    BST: "BST",
    PMDT: "PMDT",
    ADT: "ADT",
    NDT: "NDT",
    EDT: "EDT",
    CDT: "CDT",
    MDT: "MDT",
    PDT: "PDT",
    AKDT: "AKDT",
    HADT: "HADT"
};

Date.CultureStrings.lang = "en-NZ";

(function() {
    var a = Date;
    var b = Date.CultureStrings ? Date.CultureStrings.lang : null;
    var c = {};
    var d = {
        getFromKey: function(a, b) {
            var c;
            if (Date.CultureStrings && Date.CultureStrings[b] && Date.CultureStrings[b][a]) {
                c = Date.CultureStrings[b][a];
            } else {
                c = d.buildFromDefault(a);
            }
            if (a.charAt(0) === "/") {
                c = d.buildFromRegex(a, b);
            }
            return c;
        },
        getFromObjectValues: function(a, b) {
            var c, e = {};
            for (c in a) {
                if (a.hasOwnProperty(c)) {
                    e[c] = d.getFromKey(a[c], b);
                }
            }
            return e;
        },
        getFromObjectKeys: function(a, b) {
            var c, e = {};
            for (c in a) {
                if (a.hasOwnProperty(c)) {
                    e[d.getFromKey(c, b)] = a[c];
                }
            }
            return e;
        },
        getFromArray: function(a, b) {
            var c = [];
            for (var e = 0; e < a.length; e++) {
                if (e in a) {
                    c[e] = d.getFromKey(a[e], b);
                }
            }
            return c;
        },
        buildFromDefault: function(a) {
            var b, c, d, e;
            switch (a) {
              case "name":
                b = "en-US";
                break;

              case "englishName":
                b = "English (United States)";
                break;

              case "nativeName":
                b = "English (United States)";
                break;

              case "twoDigitYearMax":
                b = 2049;
                break;

              case "firstDayOfWeek":
                b = 0;
                break;

              default:
                b = a;
                d = a.split("_");
                c = d.length;
                if (c > 1 && a.charAt(0) !== "/") {
                    e = d[c - 1].toLowerCase();
                    if (e === "initial" || e === "abbr") {
                        b = d[0];
                    }
                }
                break;
            }
            return b;
        },
        buildFromRegex: function(a, b) {
            var c;
            if (Date.CultureStrings && Date.CultureStrings[b] && Date.CultureStrings[b][a]) {
                c = new RegExp(Date.CultureStrings[b][a], "i");
            } else {
                c = new RegExp(a.replace(new RegExp("/", "g"), ""), "i");
            }
            return c;
        }
    };
    var e = function(a, b) {
        for (var c in b) {
            if (b.hasOwnProperty(c)) {
                a[c] = b[c];
            }
        }
    };
    var f = function(a, e) {
        var f = e ? e : b;
        c[a] = a;
        if (typeof a === "object") {
            if (a instanceof Array) {
                return d.getFromArray(a, f);
            } else {
                return d.getFromObjectKeys(a, f);
            }
        } else {
            return d.getFromKey(a, f);
        }
    };
    var g = function(a) {
        var b = Date.Config.i18n + a + ".js";
        var c = document.getElementsByTagName("head")[0] || document.documentElement;
        var d = document.createElement("script");
        d.src = b;
        var e = false;
        var f = {
            done: function() {}
        };
        d.onload = d.onreadystatechange = function() {
            if (!e && (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")) {
                f.done();
                c.removeChild(d);
            }
        };
        setTimeout(function() {
            c.insertBefore(d, c.firstChild);
        }, 0);
        return {
            done: function(a) {
                f.done = function() {
                    if (a) {
                        setTimeout(a, 0);
                    }
                };
            }
        };
    };
    var h = {
        buildFromMethodHash: function(a) {
            var b;
            for (b in a) {
                if (a.hasOwnProperty(b)) {
                    a[b] = h[a[b]]();
                }
            }
            return a;
        },
        timeZoneDST: function() {
            var a = {
                CHADT: "+1345",
                NZDT: "+1300",
                AEDT: "+1100",
                ACDT: "+1030",
                AZST: "+0500",
                IRDT: "+0430",
                EEST: "+0300",
                CEST: "+0200",
                BST: "+0100",
                PMDT: "-0200",
                ADT: "-0300",
                NDT: "-0230",
                EDT: "-0400",
                CDT: "-0500",
                MDT: "-0600",
                PDT: "-0700",
                AKDT: "-0800",
                HADT: "-0900"
            };
            return f(a);
        },
        timeZoneStandard: function() {
            var a = {
                LINT: "+1400",
                TOT: "+1300",
                CHAST: "+1245",
                NZST: "+1200",
                NFT: "+1130",
                SBT: "+1100",
                AEST: "+1000",
                ACST: "+0930",
                JST: "+0900",
                CWST: "+0845",
                CT: "+0800",
                ICT: "+0700",
                MMT: "+0630",
                BST: "+0600",
                NPT: "+0545",
                IST: "+0530",
                PKT: "+0500",
                AFT: "+0430",
                MSK: "+0400",
                IRST: "+0330",
                FET: "+0300",
                EET: "+0200",
                CET: "+0100",
                GMT: "+0000",
                UTC: "+0000",
                CVT: "-0100",
                GST: "-0200",
                BRT: "-0300",
                NST: "-0330",
                AST: "-0400",
                EST: "-0500",
                CST: "-0600",
                MST: "-0700",
                PST: "-0800",
                AKST: "-0900",
                MIT: "-0930",
                HST: "-1000",
                SST: "-1100",
                BIT: "-1200"
            };
            return f(a);
        },
        timeZones: function(a) {
            var b;
            a.timezones = [];
            for (b in a.abbreviatedTimeZoneStandard) {
                if (a.abbreviatedTimeZoneStandard.hasOwnProperty(b)) {
                    a.timezones.push({
                        name: b,
                        offset: a.abbreviatedTimeZoneStandard[b]
                    });
                }
            }
            for (b in a.abbreviatedTimeZoneDST) {
                if (a.abbreviatedTimeZoneDST.hasOwnProperty(b)) {
                    a.timezones.push({
                        name: b,
                        offset: a.abbreviatedTimeZoneDST[b],
                        dst: true
                    });
                }
            }
            return a.timezones;
        },
        days: function() {
            return f([ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ]);
        },
        dayAbbr: function() {
            return f([ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ]);
        },
        dayShortNames: function() {
            return f([ "Su", "Mo", "Tu", "We", "Th", "Fr", "Sa" ]);
        },
        dayFirstLetters: function() {
            return f([ "S_Sun_Initial", "M_Mon_Initial", "T_Tues_Initial", "W_Wed_Initial", "T_Thu_Initial", "F_Fri_Initial", "S_Sat_Initial" ]);
        },
        months: function() {
            return f([ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ]);
        },
        monthAbbr: function() {
            return f([ "Jan_Abbr", "Feb_Abbr", "Mar_Abbr", "Apr_Abbr", "May_Abbr", "Jun_Abbr", "Jul_Abbr", "Aug_Abbr", "Sep_Abbr", "Oct_Abbr", "Nov_Abbr", "Dec_Abbr" ]);
        },
        formatPatterns: function() {
            return d.getFromObjectValues({
                shortDate: "M/d/yyyy",
                longDate: "dddd, MMMM dd, yyyy",
                shortTime: "h:mm tt",
                longTime: "h:mm:ss tt",
                fullDateTime: "dddd, MMMM dd, yyyy h:mm:ss tt",
                sortableDateTime: "yyyy-MM-ddTHH:mm:ss",
                universalSortableDateTime: "yyyy-MM-dd HH:mm:ssZ",
                rfc1123: "ddd, dd MMM yyyy HH:mm:ss",
                monthDay: "MMMM dd",
                yearMonth: "MMMM, yyyy"
            }, Date.i18n.currentLanguage());
        },
        regex: function() {
            return d.getFromObjectValues({
                inTheMorning: "/( in the )(morn(ing)?)\\b/",
                thisMorning: "/(this )(morn(ing)?)\\b/",
                amThisMorning: "/(\b\\d(am)? )(this )(morn(ing)?)/",
                inTheEvening: "/( in the )(even(ing)?)\\b/",
                thisEvening: "/(this )(even(ing)?)\\b/",
                pmThisEvening: "/(\b\\d(pm)? )(this )(even(ing)?)/",
                jan: "/jan(uary)?/",
                feb: "/feb(ruary)?/",
                mar: "/mar(ch)?/",
                apr: "/apr(il)?/",
                may: "/may/",
                jun: "/jun(e)?/",
                jul: "/jul(y)?/",
                aug: "/aug(ust)?/",
                sep: "/sep(t(ember)?)?/",
                oct: "/oct(ober)?/",
                nov: "/nov(ember)?/",
                dec: "/dec(ember)?/",
                sun: "/^su(n(day)?)?/",
                mon: "/^mo(n(day)?)?/",
                tue: "/^tu(e(s(day)?)?)?/",
                wed: "/^we(d(nesday)?)?/",
                thu: "/^th(u(r(s(day)?)?)?)?/",
                fri: "/fr(i(day)?)?/",
                sat: "/^sa(t(urday)?)?/",
                future: "/^next/",
                past: "/^last|past|prev(ious)?/",
                add: "/^(\\+|aft(er)?|from|hence)/",
                subtract: "/^(\\-|bef(ore)?|ago)/",
                yesterday: "/^yes(terday)?/",
                today: "/^t(od(ay)?)?/",
                tomorrow: "/^tom(orrow)?/",
                now: "/^n(ow)?/",
                millisecond: "/^ms|milli(second)?s?/",
                second: "/^sec(ond)?s?/",
                minute: "/^mn|min(ute)?s?/",
                hour: "/^h(our)?s?/",
                week: "/^w(eek)?s?/",
                month: "/^m(onth)?s?/",
                day: "/^d(ay)?s?/",
                year: "/^y(ear)?s?/",
                shortMeridian: "/^(a|p)/",
                longMeridian: "/^(a\\.?m?\\.?|p\\.?m?\\.?)/",
                timezone: "/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/",
                ordinalSuffix: "/^\\s*(st|nd|rd|th)/",
                timeContext: "/^\\s*(\\:|a(?!u|p)|p)/"
            }, Date.i18n.currentLanguage());
        }
    };
    var i = function() {
        var a = d.getFromObjectValues({
            name: "name",
            englishName: "englishName",
            nativeName: "nativeName",
            amDesignator: "AM",
            pmDesignator: "PM",
            firstDayOfWeek: "firstDayOfWeek",
            twoDigitYearMax: "twoDigitYearMax",
            dateElementOrder: "mdy"
        }, Date.i18n.currentLanguage());
        var b = h.buildFromMethodHash({
            dayNames: "days",
            abbreviatedDayNames: "dayAbbr",
            shortestDayNames: "dayShortNames",
            firstLetterDayNames: "dayFirstLetters",
            monthNames: "months",
            abbreviatedMonthNames: "monthAbbr",
            formatPatterns: "formatPatterns",
            regexPatterns: "regex",
            abbreviatedTimeZoneDST: "timeZoneDST",
            abbreviatedTimeZoneStandard: "timeZoneStandard"
        });
        e(a, b);
        h.timeZones(a);
        return a;
    };
    a.i18n = {
        __: function(a, b) {
            return f(a, b);
        },
        currentLanguage: function() {
            return b || "en-US";
        },
        setLanguage: function(c, d, e) {
            var f = false;
            if (d || c === "en-US" || !!Date.CultureStrings && !!Date.CultureStrings[c]) {
                b = c;
                Date.CultureStrings = Date.CultureStrings || {};
                Date.CultureStrings.lang = c;
                Date.CultureInfo = new i();
            } else {
                if (!(!!Date.CultureStrings && !!Date.CultureStrings[c])) {
                    if (typeof exports !== "undefined" && this.exports !== exports) {
                        try {
                            require("../i18n/" + c + ".js");
                            b = c;
                            Date.CultureStrings.lang = c;
                            Date.CultureInfo = new i();
                        } catch (h) {
                            throw new Error("The DateJS IETF language tag '" + c + "' could not be loaded by Node. It likely does not exist.");
                        }
                    } else if (Date.Config && Date.Config.i18n) {
                        f = true;
                        g(c).done(function() {
                            b = c;
                            Date.CultureStrings = Date.CultureStrings || {};
                            Date.CultureStrings.lang = c;
                            Date.CultureInfo = new i();
                            a.Parsing.Normalizer.buildReplaceData();
                            if (a.Grammar) {
                                a.Grammar.buildGrammarFormats();
                            }
                            if (e) {
                                setTimeout(e, 0);
                            }
                        });
                    } else {
                        Date.console.error("The DateJS IETF language tag '" + c + "' is not available and has not been loaded.");
                        return false;
                    }
                }
            }
            a.Parsing.Normalizer.buildReplaceData();
            if (a.Grammar) {
                a.Grammar.buildGrammarFormats();
            }
            if (!f && e) {
                setTimeout(e, 0);
            }
        },
        getLoggedKeys: function() {
            return c;
        },
        updateCultureInfo: function() {
            Date.CultureInfo = new i();
        }
    };
    a.i18n.updateCultureInfo();
})();

(function() {
    var a = Date, b = a.prototype, c = function(a, b) {
        if (!b) {
            b = 2;
        }
        return ("000" + a).slice(b * -1);
    };
    if (typeof window !== "undefined" && typeof window.console !== "undefined" && typeof window.console.log !== "undefined") {
        a.console = console;
    } else {
        a.console = {
            log: function() {},
            error: function() {}
        };
    }
    a.Config = a.Config || {};
    a.initOverloads = function() {
        if (!a.now) {
            a._now = function d() {
                return new Date().getTime();
            };
        } else if (!a._now) {
            a._now = a.now;
        }
        a.now = function(b) {
            if (b) {
                return a.present();
            } else {
                return a._now();
            }
        };
        if (!b.toISOString) {
            b.toISOString = function() {
                return this.getUTCFullYear() + "-" + c(this.getUTCMonth() + 1) + "-" + c(this.getUTCDate()) + "T" + c(this.getUTCHours()) + ":" + c(this.getUTCMinutes()) + ":" + c(this.getUTCSeconds()) + "." + String((this.getUTCMilliseconds() / 1e3).toFixed(3)).slice(2, 5) + "Z";
            };
        }
        if (b._toString === undefined) {
            b._toString = b.toString;
        }
    };
    a.initOverloads();
    a.today = function() {
        return new Date().clearTime();
    };
    a.present = function() {
        return new Date();
    };
    a.compare = function(a, b) {
        if (isNaN(a) || isNaN(b)) {
            throw new Error(a + " - " + b);
        } else if (a instanceof Date && b instanceof Date) {
            return a < b ? -1 : a > b ? 1 : 0;
        } else {
            throw new TypeError(a + " - " + b);
        }
    };
    a.equals = function(a, b) {
        return a.compareTo(b) === 0;
    };
    a.getDayName = function(a) {
        return Date.CultureInfo.dayNames[a];
    };
    a.getDayNumberFromName = function(a) {
        var b = Date.CultureInfo.dayNames, c = Date.CultureInfo.abbreviatedDayNames, d = Date.CultureInfo.shortestDayNames, e = a.toLowerCase();
        for (var f = 0; f < b.length; f++) {
            if (b[f].toLowerCase() === e || c[f].toLowerCase() === e || d[f].toLowerCase() === e) {
                return f;
            }
        }
        return -1;
    };
    a.getMonthNumberFromName = function(a) {
        var b = Date.CultureInfo.monthNames, c = Date.CultureInfo.abbreviatedMonthNames, d = a.toLowerCase();
        for (var e = 0; e < b.length; e++) {
            if (b[e].toLowerCase() === d || c[e].toLowerCase() === d) {
                return e;
            }
        }
        return -1;
    };
    a.getMonthName = function(a) {
        return Date.CultureInfo.monthNames[a];
    };
    a.isLeapYear = function(a) {
        return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0;
    };
    a.getDaysInMonth = function(b, c) {
        if (!c && a.validateMonth(b)) {
            c = b;
            b = Date.today().getFullYear();
        }
        return [ 31, a.isLeapYear(b) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ][c];
    };
    b.getDaysInMonth = function() {
        return a.getDaysInMonth(this.getFullYear(), this.getMonth());
    };
    a.getTimezoneAbbreviation = function(a, b) {
        var c, d = b || false ? Date.CultureInfo.abbreviatedTimeZoneDST : Date.CultureInfo.abbreviatedTimeZoneStandard;
        for (c in d) {
            if (d.hasOwnProperty(c)) {
                if (d[c] === a) {
                    return c;
                }
            }
        }
        return null;
    };
    a.getTimezoneOffset = function(a, b) {
        var c, d = [], e = Date.CultureInfo.timezones;
        if (!a) {
            a = new Date().getTimezone();
        }
        for (c = 0; c < e.length; c++) {
            if (e[c].name === a.toUpperCase()) {
                d.push(c);
            }
        }
        if (!e[d[0]]) {
            return null;
        }
        if (d.length === 1 || !b) {
            return e[d[0]].offset;
        } else {
            for (c = 0; c < d.length; c++) {
                if (e[d[c]].dst) {
                    return e[d[c]].offset;
                }
            }
        }
    };
    a.getQuarter = function(a) {
        a = a || new Date();
        var b = [ 1, 2, 3, 4 ];
        return b[Math.floor(a.getMonth() / 3)];
    };
    a.getDaysLeftInQuarter = function(a) {
        a = a || new Date();
        var b = new Date(a);
        b.setMonth(b.getMonth() + 3 - b.getMonth() % 3, 0);
        return Math.floor((b - a) / 864e5);
    };
    var d = function(a, b, c, d) {
        d = d ? d : "Object";
        if (typeof a === "undefined") {
            return false;
        } else if (typeof a !== "number") {
            throw new TypeError(a + " is not a Number.");
        } else if (a < b || a > c) {
            return false;
        }
        return true;
    };
    a.validateMillisecond = function(a) {
        return d(a, 0, 999, "millisecond");
    };
    a.validateSecond = function(a) {
        return d(a, 0, 59, "second");
    };
    a.validateMinute = function(a) {
        return d(a, 0, 59, "minute");
    };
    a.validateHour = function(a) {
        return d(a, 0, 23, "hour");
    };
    a.validateDay = function(b, c, e) {
        if (c === undefined || c === null || e === undefined || e === null) {
            return false;
        }
        return d(b, 1, a.getDaysInMonth(c, e), "day");
    };
    a.validateWeek = function(a) {
        return d(a, 0, 53, "week");
    };
    a.validateMonth = function(a) {
        return d(a, 0, 11, "month");
    };
    a.validateYear = function(a) {
        return d(a, -271822, 275760, "year");
    };
    a.validateTimezone = function(a) {
        var b = {
            ACDT: 1,
            ACST: 1,
            ACT: 1,
            ADT: 1,
            AEDT: 1,
            AEST: 1,
            AFT: 1,
            AKDT: 1,
            AKST: 1,
            AMST: 1,
            AMT: 1,
            ART: 1,
            AST: 1,
            AWDT: 1,
            AWST: 1,
            AZOST: 1,
            AZT: 1,
            BDT: 1,
            BIOT: 1,
            BIT: 1,
            BOT: 1,
            BRT: 1,
            BST: 1,
            BTT: 1,
            CAT: 1,
            CCT: 1,
            CDT: 1,
            CEDT: 1,
            CEST: 1,
            CET: 1,
            CHADT: 1,
            CHAST: 1,
            CHOT: 1,
            ChST: 1,
            CHUT: 1,
            CIST: 1,
            CIT: 1,
            CKT: 1,
            CLST: 1,
            CLT: 1,
            COST: 1,
            COT: 1,
            CST: 1,
            CT: 1,
            CVT: 1,
            CWST: 1,
            CXT: 1,
            DAVT: 1,
            DDUT: 1,
            DFT: 1,
            EASST: 1,
            EAST: 1,
            EAT: 1,
            ECT: 1,
            EDT: 1,
            EEDT: 1,
            EEST: 1,
            EET: 1,
            EGST: 1,
            EGT: 1,
            EIT: 1,
            EST: 1,
            FET: 1,
            FJT: 1,
            FKST: 1,
            FKT: 1,
            FNT: 1,
            GALT: 1,
            GAMT: 1,
            GET: 1,
            GFT: 1,
            GILT: 1,
            GIT: 1,
            GMT: 1,
            GST: 1,
            GYT: 1,
            HADT: 1,
            HAEC: 1,
            HAST: 1,
            HKT: 1,
            HMT: 1,
            HOVT: 1,
            HST: 1,
            ICT: 1,
            IDT: 1,
            IOT: 1,
            IRDT: 1,
            IRKT: 1,
            IRST: 1,
            IST: 1,
            JST: 1,
            KGT: 1,
            KOST: 1,
            KRAT: 1,
            KST: 1,
            LHST: 1,
            LINT: 1,
            MAGT: 1,
            MART: 1,
            MAWT: 1,
            MDT: 1,
            MET: 1,
            MEST: 1,
            MHT: 1,
            MIST: 1,
            MIT: 1,
            MMT: 1,
            MSK: 1,
            MST: 1,
            MUT: 1,
            MVT: 1,
            MYT: 1,
            NCT: 1,
            NDT: 1,
            NFT: 1,
            NPT: 1,
            NST: 1,
            NT: 1,
            NUT: 1,
            NZDT: 1,
            NZST: 1,
            OMST: 1,
            ORAT: 1,
            PDT: 1,
            PET: 1,
            PETT: 1,
            PGT: 1,
            PHOT: 1,
            PHT: 1,
            PKT: 1,
            PMDT: 1,
            PMST: 1,
            PONT: 1,
            PST: 1,
            PYST: 1,
            PYT: 1,
            RET: 1,
            ROTT: 1,
            SAKT: 1,
            SAMT: 1,
            SAST: 1,
            SBT: 1,
            SCT: 1,
            SGT: 1,
            SLST: 1,
            SRT: 1,
            SST: 1,
            SYOT: 1,
            TAHT: 1,
            THA: 1,
            TFT: 1,
            TJT: 1,
            TKT: 1,
            TLT: 1,
            TMT: 1,
            TOT: 1,
            TVT: 1,
            UCT: 1,
            ULAT: 1,
            UTC: 1,
            UYST: 1,
            UYT: 1,
            UZT: 1,
            VET: 1,
            VLAT: 1,
            VOLT: 1,
            VOST: 1,
            VUT: 1,
            WAKT: 1,
            WAST: 1,
            WAT: 1,
            WEDT: 1,
            WEST: 1,
            WET: 1,
            WST: 1,
            YAKT: 1,
            YEKT: 1,
            Z: 1
        };
        return b[a] === 1;
    };
    a.validateTimezoneOffset = function(a) {
        return a > -841 && a < 721;
    };
})();

(function() {
    var a = Date, b = a.prototype, c = function(a, b) {
        if (!b) {
            b = 2;
        }
        return ("000" + a).slice(b * -1);
    };
    var d = function(b) {
        var c = {}, d = this, e, f;
        f = function(c, e, f) {
            if (c === "day") {
                var g = b.month !== undefined ? b.month : d.getMonth();
                var h = b.year !== undefined ? b.year : d.getFullYear();
                return a[e](f, h, g);
            } else {
                return a[e](f);
            }
        };
        for (e in b) {
            if (hasOwnProperty.call(b, e)) {
                var g = "validate" + e.charAt(0).toUpperCase() + e.slice(1);
                if (a[g] && b[e] !== null && f(e, g, b[e])) {
                    c[e] = b[e];
                }
            }
        }
        return c;
    };
    b.clearTime = function() {
        this.setHours(0);
        this.setMinutes(0);
        this.setSeconds(0);
        this.setMilliseconds(0);
        return this;
    };
    b.setTimeToNow = function() {
        var a = new Date();
        this.setHours(a.getHours());
        this.setMinutes(a.getMinutes());
        this.setSeconds(a.getSeconds());
        this.setMilliseconds(a.getMilliseconds());
        return this;
    };
    b.clone = function() {
        return new Date(this.getTime());
    };
    b.compareTo = function(a) {
        return Date.compare(this, a);
    };
    b.equals = function(a) {
        return Date.equals(this, a !== undefined ? a : new Date());
    };
    b.between = function(a, b) {
        return this.getTime() >= a.getTime() && this.getTime() <= b.getTime();
    };
    b.isAfter = function(a) {
        return this.compareTo(a || new Date()) === 1;
    };
    b.isBefore = function(a) {
        return this.compareTo(a || new Date()) === -1;
    };
    b.isToday = b.isSameDay = function(a) {
        return this.clone().clearTime().equals((a || new Date()).clone().clearTime());
    };
    b.addMilliseconds = function(a) {
        if (!a) {
            return this;
        }
        this.setTime(this.getTime() + a * 1);
        return this;
    };
    b.addSeconds = function(a) {
        if (!a) {
            return this;
        }
        return this.addMilliseconds(a * 1e3);
    };
    b.addMinutes = function(a) {
        if (!a) {
            return this;
        }
        return this.addMilliseconds(a * 6e4);
    };
    b.addHours = function(a) {
        if (!a) {
            return this;
        }
        return this.addMilliseconds(a * 36e5);
    };
    b.addDays = function(a) {
        if (!a) {
            return this;
        }
        this.setDate(this.getDate() + a * 1);
        return this;
    };
    b.addWeekdays = function(a) {
        if (!a) {
            return this;
        }
        var b = this.getDay();
        var c = Math.ceil(Math.abs(a) / 7);
        if (b === 0 || b === 6) {
            if (a > 0) {
                this.next().monday();
                this.addDays(-1);
                b = this.getDay();
            }
        }
        if (a < 0) {
            while (a < 0) {
                this.addDays(-1);
                b = this.getDay();
                if (b !== 0 && b !== 6) {
                    a++;
                }
            }
            return this;
        } else if (a > 5 || 6 - b <= a) {
            a = a + c * 2;
        }
        return this.addDays(a);
    };
    b.addWeeks = function(a) {
        if (!a) {
            return this;
        }
        return this.addDays(a * 7);
    };
    b.addMonths = function(b) {
        if (!b) {
            return this;
        }
        var c = this.getDate();
        this.setDate(1);
        this.setMonth(this.getMonth() + b * 1);
        this.setDate(Math.min(c, a.getDaysInMonth(this.getFullYear(), this.getMonth())));
        return this;
    };
    b.addQuarters = function(a) {
        if (!a) {
            return this;
        }
        return this.addMonths(a * 3);
    };
    b.addYears = function(a) {
        if (!a) {
            return this;
        }
        return this.addMonths(a * 12);
    };
    b.add = function(a) {
        if (typeof a === "number") {
            this._orient = a;
            return this;
        }
        var b = a;
        if (b.day) {
            if (b.day - this.getDate() !== 0) {
                this.setDate(b.day);
            }
        }
        if (b.milliseconds) {
            this.addMilliseconds(b.milliseconds);
        }
        if (b.seconds) {
            this.addSeconds(b.seconds);
        }
        if (b.minutes) {
            this.addMinutes(b.minutes);
        }
        if (b.hours) {
            this.addHours(b.hours);
        }
        if (b.weeks) {
            this.addWeeks(b.weeks);
        }
        if (b.months) {
            this.addMonths(b.months);
        }
        if (b.years) {
            this.addYears(b.years);
        }
        if (b.days) {
            this.addDays(b.days);
        }
        return this;
    };
    b.getWeek = function(a) {
        var b, c = new Date(this.valueOf());
        if (a) {
            c.addMinutes(c.getTimezoneOffset());
            b = c.clone();
        } else {
            b = this;
        }
        var d = (b.getDay() + 6) % 7;
        c.setDate(c.getDate() - d + 3);
        var e = c.valueOf();
        c.setMonth(0, 1);
        if (c.getDay() !== 4) {
            c.setMonth(0, 1 + (4 - c.getDay() + 7) % 7);
        }
        return 1 + Math.ceil((e - c) / 6048e5);
    };
    b.getISOWeek = function() {
        return c(this.getWeek(true));
    };
    b.setWeek = function(a) {
        if (a - this.getWeek() === 0) {
            if (this.getDay() !== 1) {
                return this.moveToDayOfWeek(1, this.getDay() > 1 ? -1 : 1);
            } else {
                return this;
            }
        } else {
            return this.moveToDayOfWeek(1, this.getDay() > 1 ? -1 : 1).addWeeks(a - this.getWeek());
        }
    };
    b.setQuarter = function(a) {
        var b = Math.abs((a - 1) * 3 + 1);
        return this.setMonth(b, 1);
    };
    b.getQuarter = function() {
        return Date.getQuarter(this);
    };
    b.getDaysLeftInQuarter = function() {
        return Date.getDaysLeftInQuarter(this);
    };
    b.moveToNthOccurrence = function(a, b) {
        if (a === "Weekday") {
            if (b > 0) {
                this.moveToFirstDayOfMonth();
                if (this.is().weekday()) {
                    b -= 1;
                }
            } else if (b < 0) {
                this.moveToLastDayOfMonth();
                if (this.is().weekday()) {
                    b += 1;
                }
            } else {
                return this;
            }
            return this.addWeekdays(b);
        }
        var c = 0;
        if (b > 0) {
            c = b - 1;
        } else if (b === -1) {
            this.moveToLastDayOfMonth();
            if (this.getDay() !== a) {
                this.moveToDayOfWeek(a, -1);
            }
            return this;
        }
        return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(a, +1).addWeeks(c);
    };
    var e = function(a, b, c) {
        return function(d, e) {
            var f = (d - this[a]() + c * (e || +1)) % c;
            return this[b](f === 0 ? f += c * (e || +1) : f);
        };
    };
    b.moveToDayOfWeek = e("getDay", "addDays", 7);
    b.moveToMonth = e("getMonth", "addMonths", 12);
    b.getOrdinate = function() {
        var a = this.getDate();
        return f(a);
    };
    b.getOrdinalNumber = function() {
        return Math.ceil((this.clone().clearTime() - new Date(this.getFullYear(), 0, 1)) / 864e5) + 1;
    };
    b.getTimezone = function() {
        return a.getTimezoneAbbreviation(this.getUTCOffset(), this.isDaylightSavingTime());
    };
    b.setTimezoneOffset = function(a) {
        var b = this.getTimezoneOffset(), c = Number(a) * -6 / 10;
        return c || c === 0 ? this.addMinutes(c - b) : this;
    };
    b.setTimezone = function(b) {
        return this.setTimezoneOffset(a.getTimezoneOffset(b));
    };
    b.hasDaylightSavingTime = function() {
        return Date.today().set({
            month: 0,
            day: 1
        }).getTimezoneOffset() !== Date.today().set({
            month: 6,
            day: 1
        }).getTimezoneOffset();
    };
    b.isDaylightSavingTime = function() {
        return Date.today().set({
            month: 0,
            day: 1
        }).getTimezoneOffset() !== this.getTimezoneOffset();
    };
    b.getUTCOffset = function(a) {
        var b = (a || this.getTimezoneOffset()) * -10 / 6, c;
        if (b < 0) {
            c = (b - 1e4).toString();
            return c.charAt(0) + c.substr(2);
        } else {
            c = (b + 1e4).toString();
            return "+" + c.substr(1);
        }
    };
    b.getElapsed = function(a) {
        return (a || new Date()) - this;
    };
    b.set = function(a) {
        a = d.call(this, a);
        var b;
        for (b in a) {
            if (hasOwnProperty.call(a, b)) {
                var c = b.charAt(0).toUpperCase() + b.slice(1);
                var e, f;
                if (b !== "week" && b !== "month" && b !== "timezone" && b !== "timezoneOffset") {
                    c += "s";
                }
                e = "add" + c;
                f = "get" + c;
                if (b === "month") {
                    e = e + "s";
                } else if (b === "year") {
                    f = "getFullYear";
                }
                if (b !== "day" && b !== "timezone" && b !== "timezoneOffset" && b !== "week" && b !== "hour") {
                    this[e](a[b] - this[f]());
                } else if (b === "timezone" || b === "timezoneOffset" || b === "week" || b === "hour") {
                    this["set" + c](a[b]);
                }
            }
        }
        if (a.day) {
            this.addDays(a.day - this.getDate());
        }
        return this;
    };
    b.moveToFirstDayOfMonth = function() {
        return this.set({
            day: 1
        });
    };
    b.moveToLastDayOfMonth = function() {
        return this.set({
            day: a.getDaysInMonth(this.getFullYear(), this.getMonth())
        });
    };
    var f = function(a) {
        switch (a * 1) {
          case 1:
          case 21:
          case 31:
            return "st";

          case 2:
          case 22:
            return "nd";

          case 3:
          case 23:
            return "rd";

          default:
            return "th";
        }
    };
    var g = function(a) {
        var b, c = Date.CultureInfo.formatPatterns;
        switch (a) {
          case "d":
            return this.toString(c.shortDate);

          case "D":
            return this.toString(c.longDate);

          case "F":
            return this.toString(c.fullDateTime);

          case "m":
            return this.toString(c.monthDay);

          case "r":
          case "R":
            b = this.clone().addMinutes(this.getTimezoneOffset());
            return b.toString(c.rfc1123) + " GMT";

          case "s":
            return this.toString(c.sortableDateTime);

          case "t":
            return this.toString(c.shortTime);

          case "T":
            return this.toString(c.longTime);

          case "u":
            b = this.clone().addMinutes(this.getTimezoneOffset());
            return b.toString(c.universalSortableDateTime);

          case "y":
            return this.toString(c.yearMonth);

          default:
            return false;
        }
    };
    var h = function(b) {
        return function(d) {
            if (d.charAt(0) === "\\") {
                return d.replace("\\", "");
            }
            switch (d) {
              case "hh":
                return c(b.getHours() < 13 ? b.getHours() === 0 ? 12 : b.getHours() : b.getHours() - 12);

              case "h":
                return b.getHours() < 13 ? b.getHours() === 0 ? 12 : b.getHours() : b.getHours() - 12;

              case "HH":
                return c(b.getHours());

              case "H":
                return b.getHours();

              case "mm":
                return c(b.getMinutes());

              case "m":
                return b.getMinutes();

              case "ss":
                return c(b.getSeconds());

              case "s":
                return b.getSeconds();

              case "yyyy":
                return c(b.getFullYear(), 4);

              case "yy":
                return c(b.getFullYear());

              case "y":
                return b.getFullYear();

              case "E":
              case "dddd":
                return Date.CultureInfo.dayNames[b.getDay()];

              case "ddd":
                return Date.CultureInfo.abbreviatedDayNames[b.getDay()];

              case "dd":
                return c(b.getDate());

              case "d":
                return b.getDate();

              case "MMMM":
                return Date.CultureInfo.monthNames[b.getMonth()];

              case "MMM":
                return Date.CultureInfo.abbreviatedMonthNames[b.getMonth()];

              case "MM":
                return c(b.getMonth() + 1);

              case "M":
                return b.getMonth() + 1;

              case "t":
                return b.getHours() < 12 ? Date.CultureInfo.amDesignator.substring(0, 1) : Date.CultureInfo.pmDesignator.substring(0, 1);

              case "tt":
                return b.getHours() < 12 ? Date.CultureInfo.amDesignator : Date.CultureInfo.pmDesignator;

              case "S":
                return f(b.getDate());

              case "W":
                return b.getWeek();

              case "WW":
                return b.getISOWeek();

              case "Q":
                return "Q" + b.getQuarter();

              case "q":
                return String(b.getQuarter());

              case "z":
                return b.getTimezone();

              case "Z":
              case "X":
                return Date.getTimezoneOffset(b.getTimezone());

              case "ZZ":
                return b.getTimezoneOffset() * -60;

              case "u":
                return b.getDay();

              case "L":
                return a.isLeapYear(b.getFullYear()) ? 1 : 0;

              case "B":
                return "@" + (b.getUTCSeconds() + b.getUTCMinutes() * 60 + (b.getUTCHours() + 1) * 3600) / 86.4;

              default:
                return d;
            }
        };
    };
    b.toString = function(a, b) {
        if (!b && a && a.length === 1) {
            output = g.call(this, a);
            if (output) {
                return output;
            }
        }
        var c = h(this);
        return a ? a.replace(/((\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S|q|Q|WW?W?W?)(?![^\[]*\]))/g, c).replace(/\[|\]/g, "") : this._toString();
    };
})();

(function() {
    var a = Date, b = a.prototype, c = Number.prototype;
    b._orient = +1;
    b._nth = null;
    b._is = false;
    b._same = false;
    b._isSecond = false;
    c._dateElement = "days";
    b.next = function() {
        this._move = true;
        this._orient = +1;
        return this;
    };
    a.next = function() {
        return a.today().next();
    };
    b.last = b.prev = b.previous = function() {
        this._move = true;
        this._orient = -1;
        return this;
    };
    a.last = a.prev = a.previous = function() {
        return a.today().last();
    };
    b.is = function() {
        this._is = true;
        return this;
    };
    b.same = function() {
        this._same = true;
        this._isSecond = false;
        return this;
    };
    b.today = function() {
        return this.same().day();
    };
    b.weekday = function() {
        if (this._nth) {
            return j("Weekday").call(this);
        }
        if (this._move) {
            return this.addWeekdays(this._orient);
        }
        if (this._is) {
            this._is = false;
            return !this.is().sat() && !this.is().sun();
        }
        return false;
    };
    b.weekend = function() {
        if (this._is) {
            this._is = false;
            return this.is().sat() || this.is().sun();
        }
        return false;
    };
    b.at = function(b) {
        return typeof b === "string" ? a.parse(this.toString("d") + " " + b) : this.set(b);
    };
    c.fromNow = c.after = function(a) {
        var b = {};
        b[this._dateElement] = this;
        return (!a ? new Date() : a.clone()).add(b);
    };
    c.ago = c.before = function(a) {
        var b = {}, c = this._dateElement[this._dateElement.length - 1] !== "s" ? this._dateElement + "s" : this._dateElement;
        b[c] = this * -1;
        return (!a ? new Date() : a.clone()).add(b);
    };
    var d = "sunday monday tuesday wednesday thursday friday saturday".split(/\s/), e = "january february march april may june july august september october november december".split(/\s/), f = "Millisecond Second Minute Hour Day Week Month Year Quarter Weekday".split(/\s/), g = "Milliseconds Seconds Minutes Hours Date Week Month FullYear Quarter".split(/\s/), h = "final first second third fourth fifth".split(/\s/), i;
    b.toObject = function() {
        var a = {};
        for (var b = 0; b < f.length; b++) {
            if (this["get" + g[b]]) {
                a[f[b].toLowerCase()] = this["get" + g[b]]();
            }
        }
        return a;
    };
    a.fromObject = function(a) {
        a.week = null;
        return Date.today().set(a);
    };
    var j = function(b) {
        return function() {
            if (this._is) {
                this._is = false;
                return this.getDay() === b;
            }
            if (this._move) {
                this._move = null;
            }
            if (this._nth !== null) {
                if (this._isSecond) {
                    this.addSeconds(this._orient * -1);
                }
                this._isSecond = false;
                var c = this._nth;
                this._nth = null;
                var d = this.clone().moveToLastDayOfMonth();
                this.moveToNthOccurrence(b, c);
                if (this > d) {
                    throw new RangeError(a.getDayName(b) + " does not occur " + c + " times in the month of " + a.getMonthName(d.getMonth()) + " " + d.getFullYear() + ".");
                }
                return this;
            }
            return this.moveToDayOfWeek(b, this._orient);
        };
    };
    var k = function(b) {
        return function() {
            var c = a.today(), d = b - c.getDay();
            if (b === 0 && Date.CultureInfo.firstDayOfWeek === 1 && c.getDay() !== 0) {
                d = d + 7;
            }
            return c.addDays(d);
        };
    };
    var l = function(a) {
        return function() {
            if (this._is) {
                this._is = false;
                return this.getMonth() === a;
            }
            return this.moveToMonth(a, this._orient);
        };
    };
    var m = function(b) {
        return function() {
            return a.today().set({
                month: b,
                day: 1
            });
        };
    };
    var n = function(c, d, e) {
        for (var f = 0; f < c.length; f++) {
            a[c[f].toUpperCase()] = a[c[f].toUpperCase().substring(0, 3)] = f;
            a[c[f]] = a[c[f].substring(0, 3)] = d(f);
            b[c[f]] = b[c[f].substring(0, 3)] = e(f);
        }
    };
    n(d, k, j);
    n(e, m, l);
    var o = function(a) {
        return function() {
            if (this._isSecond) {
                this._isSecond = false;
                return this;
            }
            if (this._same) {
                this._same = this._is = false;
                var b = this.toObject(), c = (arguments[0] || new Date()).toObject(), d = "", e = a.toLowerCase();
                e = e[e.length - 1] === "s" ? e.substring(0, e.length - 1) : e;
                for (var g = f.length - 1; g > -1; g--) {
                    d = f[g].toLowerCase();
                    if (b[d] !== c[d]) {
                        return false;
                    }
                    if (e === d) {
                        break;
                    }
                }
                return true;
            }
            if (a.substring(a.length - 1) !== "s") {
                a += "s";
            }
            if (this._move) {
                this._move = null;
            }
            return this["add" + a](this._orient);
        };
    };
    var p = function(a) {
        return function() {
            this._dateElement = a;
            return this;
        };
    };
    for (var q = 0; q < f.length; q++) {
        i = f[q].toLowerCase();
        if (i !== "weekday") {
            b[i] = b[i + "s"] = o(f[q]);
            c[i] = c[i + "s"] = p(i + "s");
        }
    }
    b._ss = o("Second");
    var r = function(a) {
        return function(b) {
            if (this._same) {
                return this._ss(arguments[0]);
            }
            if (b || b === 0) {
                return this.moveToNthOccurrence(b, a);
            }
            this._nth = a;
            if (a === 2 && (b === undefined || b === null)) {
                this._isSecond = true;
                return this.addSeconds(this._orient);
            }
            return this;
        };
    };
    for (var s = 0; s < h.length; s++) {
        b[h[s]] = s === 0 ? r(-1) : r(s);
    }
})();

(function() {
    "use strict";
    Date.Parsing = {
        Exception: function(a) {
            this.message = "Parse error at '" + a.substring(0, 10) + " ...'";
        }
    };
    var a = Date.Parsing;
    var b = {
        standard: [ 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334 ],
        leap: [ 0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335 ]
    };
    a.isLeapYear = function(a) {
        return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0;
    };
    var c = {
        multiReplace: function(a, b) {
            var c;
            for (c in b) {
                if (Object.prototype.hasOwnProperty.call(b, c)) {
                    var d;
                    if (typeof b[c] === "function") {} else {
                        d = b[c] instanceof RegExp ? b[c] : new RegExp(b[c], "g");
                    }
                    a = a.replace(d, c);
                }
            }
            return a;
        },
        getDayOfYearFromWeek: function(a) {
            var b, c, d;
            a.weekDay = !a.weekDay && a.weekDay !== 0 ? 1 : a.weekDay;
            b = new Date(a.year, 0, 4);
            c = b.getDay() === 0 ? 7 : b.getDay();
            d = c + 3;
            a.dayOfYear = a.week * 7 + (a.weekDay === 0 ? 7 : a.weekDay) - d;
            return a;
        },
        getDayOfYear: function(a, b) {
            if (!a.dayOfYear) {
                a = c.getDayOfYearFromWeek(a);
            }
            for (var d = 0; d <= b.length; d++) {
                if (a.dayOfYear < b[d] || d === b.length) {
                    a.day = a.day ? a.day : a.dayOfYear - b[d - 1];
                    break;
                } else {
                    a.month = d;
                }
            }
            return a;
        },
        adjustForTimeZone: function(a, b) {
            var c;
            if (a.zone.toUpperCase() === "Z" || a.zone_hours === 0 && a.zone_minutes === 0) {
                c = -b.getTimezoneOffset();
            } else {
                c = a.zone_hours * 60 + (a.zone_minutes || 0);
                if (a.zone_sign === "+") {
                    c *= -1;
                }
                c -= b.getTimezoneOffset();
            }
            b.setMinutes(b.getMinutes() + c);
            return b;
        },
        setDefaults: function(a) {
            a.year = a.year || Date.today().getFullYear();
            a.hours = a.hours || 0;
            a.minutes = a.minutes || 0;
            a.seconds = a.seconds || 0;
            a.milliseconds = a.milliseconds || 0;
            if (!(!a.month && (a.week || a.dayOfYear))) {
                a.month = a.month || 0;
                a.day = a.day || 1;
            }
            return a;
        },
        dataNum: function(a, b, c, d) {
            var e = a * 1;
            if (b) {
                if (d) {
                    return a ? b(a) * 1 : a;
                } else {
                    return a ? b(e) : a;
                }
            } else if (!c) {
                return a ? e : a;
            } else {
                return a && typeof a !== "undefined" ? e : a;
            }
        },
        timeDataProcess: function(a) {
            var b = {};
            for (var d in a.data) {
                if (a.data.hasOwnProperty(d)) {
                    b[d] = a.ignore[d] ? a.data[d] : c.dataNum(a.data[d], a.mods[d], a.explict[d], a.postProcess[d]);
                }
            }
            if (a.data.secmins) {
                a.data.secmins = a.data.secmins.replace(",", ".") * 60;
                if (!b.minutes) {
                    b.minutes = a.data.secmins;
                } else if (!b.seconds) {
                    b.seconds = a.data.secmins;
                }
                delete a.secmins;
            }
            return b;
        },
        buildTimeObjectFromData: function(a) {
            var b = c.timeDataProcess({
                data: {
                    year: a[1],
                    month: a[5],
                    day: a[7],
                    week: a[8],
                    dayOfYear: a[10],
                    hours: a[15],
                    zone_hours: a[23],
                    zone_minutes: a[24],
                    zone: a[21],
                    zone_sign: a[22],
                    weekDay: a[9],
                    minutes: a[16],
                    seconds: a[19],
                    milliseconds: a[20],
                    secmins: a[18]
                },
                mods: {
                    month: function(a) {
                        return a - 1;
                    },
                    weekDay: function(a) {
                        a = Math.abs(a);
                        return a === 7 ? 0 : a;
                    },
                    minutes: function(a) {
                        return a.replace(":", "");
                    },
                    seconds: function(a) {
                        return Math.floor(a.replace(":", "").replace(",", ".") * 1);
                    },
                    milliseconds: function(a) {
                        return a.replace(",", ".") * 1e3;
                    }
                },
                postProcess: {
                    minutes: true,
                    seconds: true,
                    milliseconds: true
                },
                explict: {
                    zone_hours: true,
                    zone_minutes: true
                },
                ignore: {
                    zone: true,
                    zone_sign: true,
                    secmins: true
                }
            });
            return b;
        },
        addToHash: function(a, b, c) {
            b = b;
            c = c;
            var d = b.length;
            for (var e = 0; e < d; e++) {
                a[b[e]] = c[e];
            }
            return a;
        },
        combineRegex: function(a, b) {
            return new RegExp("((" + a.source + ")\\s(" + b.source + "))");
        },
        getDateNthString: function(a, b, c) {
            if (a) {
                return Date.today().addDays(c).toString("d");
            } else if (b) {
                return Date.today().last()[c]().toString("d");
            }
        },
        buildRegexData: function(a) {
            var b = [];
            var c = a.length;
            for (var d = 0; d < c; d++) {
                if (Object.prototype.toString.call(a[d]) === "[object Array]") {
                    b.push(this.combineRegex(a[d][0], a[d][1]));
                } else {
                    b.push(a[d]);
                }
            }
            return b;
        }
    };
    a.processTimeObject = function(d) {
        var e, f;
        c.setDefaults(d);
        f = a.isLeapYear(d.year) ? b.leap : b.standard;
        if (!d.month && (d.week || d.dayOfYear)) {
            c.getDayOfYear(d, f);
        } else {
            d.dayOfYear = f[d.month] + d.day;
        }
        e = new Date(d.year, d.month, d.day, d.hours, d.minutes, d.seconds, d.milliseconds);
        if (d.zone) {
            c.adjustForTimeZone(d, e);
        }
        return e;
    };
    a.ISO = {
        regex: /^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-4])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?\s?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,
        parse: function(b) {
            var d, e = b.match(this.regex);
            if (!e || !e.length) {
                return null;
            }
            d = c.buildTimeObjectFromData(e);
            if (!d.year || !d.year && (!d.month && !d.day) && (!d.week && !d.dayOfYear)) {
                return null;
            }
            return a.processTimeObject(d);
        }
    };
    a.Numeric = {
        isNumeric: function(a) {
            return !isNaN(parseFloat(a)) && isFinite(a);
        },
        regex: /\b([0-1]?[0-9])([0-3]?[0-9])([0-2]?[0-9]?[0-9][0-9])\b/i,
        parse: function(b) {
            var c, d, e = {}, f = Date.CultureInfo.dateElementOrder.split("");
            if (!this.isNumeric(b) || b[0] === "+" && b[0] === "-") {
                return null;
            }
            if (b.length < 5 && b.indexOf(".") < 0 && b.indexOf("/") < 0) {
                e.year = b;
                return a.processTimeObject(e);
            }
            c = b.match(this.regex);
            if (!c || !c.length) {
                return null;
            }
            for (d = 0; d < f.length; d++) {
                switch (f[d]) {
                  case "d":
                    e.day = c[d + 1];
                    break;

                  case "m":
                    e.month = c[d + 1] - 1;
                    break;

                  case "y":
                    e.year = c[d + 1];
                    break;
                }
            }
            return a.processTimeObject(e);
        }
    };
    a.Normalizer = {
        regexData: function() {
            var a = Date.CultureInfo.regexPatterns;
            return c.buildRegexData([ a.tomorrow, a.yesterday, [ a.past, a.mon ], [ a.past, a.tue ], [ a.past, a.wed ], [ a.past, a.thu ], [ a.past, a.fri ], [ a.past, a.sat ], [ a.past, a.sun ] ]);
        },
        basicReplaceHash: function() {
            var a = Date.CultureInfo.regexPatterns;
            return {
                January: a.jan.source,
                February: a.feb,
                March: a.mar,
                April: a.apr,
                May: a.may,
                June: a.jun,
                July: a.jul,
                August: a.aug,
                September: a.sep,
                October: a.oct,
                November: a.nov,
                December: a.dec,
                "": /\bat\b/gi,
                " ": /\s{2,}/,
                am: a.inTheMorning,
                "9am": a.thisMorning,
                pm: a.inTheEvening,
                "7pm": a.thisEvening
            };
        },
        keys: function() {
            return [ c.getDateNthString(true, false, 1), c.getDateNthString(true, false, -1), c.getDateNthString(false, true, "monday"), c.getDateNthString(false, true, "tuesday"), c.getDateNthString(false, true, "wednesday"), c.getDateNthString(false, true, "thursday"), c.getDateNthString(false, true, "friday"), c.getDateNthString(false, true, "saturday"), c.getDateNthString(false, true, "sunday") ];
        },
        buildRegexFunctions: function() {
            var a = Date.CultureInfo.regexPatterns;
            var b = Date.i18n.__;
            var c = new RegExp("(\\b\\d\\d?(" + b("AM") + "|" + b("PM") + ")? )(" + a.tomorrow.source.slice(1) + ")", "i");
            var d = new RegExp(a.today.source + "(?!\\s*([+-]))\\b");
            this.replaceFuncs = [ [ d, function(a) {
                return a.length > 1 ? Date.today().toString("d") : a;
            } ], [ c, function(a, b) {
                var c = Date.today().addDays(1).toString("d");
                return c + " " + b;
            } ], [ a.amThisMorning, function(a, b) {
                return b;
            } ], [ a.pmThisEvening, function(a, b) {
                return b;
            } ] ];
        },
        buildReplaceData: function() {
            this.buildRegexFunctions();
            this.replaceHash = c.addToHash(this.basicReplaceHash(), this.keys(), this.regexData());
        },
        stringReplaceFuncs: function(a) {
            for (var b = 0; b < this.replaceFuncs.length; b++) {
                a = a.replace(this.replaceFuncs[b][0], this.replaceFuncs[b][1]);
            }
            return a;
        },
        parse: function(b) {
            b = this.stringReplaceFuncs(b);
            b = c.multiReplace(b, this.replaceHash);
            try {
                var d = b.split(/([\s\-\.\,\/\x27]+)/);
                if (d.length === 3 && a.Numeric.isNumeric(d[0]) && a.Numeric.isNumeric(d[2]) && d[2].length >= 4) {
                    if (Date.CultureInfo.dateElementOrder[0] === "d") {
                        b = "1/" + d[0] + "/" + d[2];
                    }
                }
            } catch (e) {}
            return b;
        }
    };
    a.Normalizer.buildReplaceData();
})();

(function() {
    var a = Date.Parsing;
    var b = a.Operators = {
        rtoken: function(b) {
            return function(c) {
                var d = c.match(b);
                if (d) {
                    return [ d[0], c.substring(d[0].length) ];
                } else {
                    throw new a.Exception(c);
                }
            };
        },
        token: function() {
            return function(a) {
                return b.rtoken(new RegExp("^\\s*" + a + "\\s*"))(a);
            };
        },
        stoken: function(a) {
            return b.rtoken(new RegExp("^" + a));
        },
        until: function(a) {
            return function(b) {
                var c = [], d = null;
                while (b.length) {
                    try {
                        d = a.call(this, b);
                    } catch (e) {
                        c.push(d[0]);
                        b = d[1];
                        continue;
                    }
                    break;
                }
                return [ c, b ];
            };
        },
        many: function(a) {
            return function(b) {
                var c = [], d = null;
                while (b.length) {
                    try {
                        d = a.call(this, b);
                    } catch (e) {
                        return [ c, b ];
                    }
                    c.push(d[0]);
                    b = d[1];
                }
                return [ c, b ];
            };
        },
        optional: function(a) {
            return function(b) {
                var c = null;
                try {
                    c = a.call(this, b);
                } catch (d) {
                    return [ null, b ];
                }
                return [ c[0], c[1] ];
            };
        },
        not: function(b) {
            return function(c) {
                try {
                    b.call(this, c);
                } catch (d) {
                    return [ null, c ];
                }
                throw new a.Exception(c);
            };
        },
        ignore: function(a) {
            return a ? function(b) {
                var c = null;
                c = a.call(this, b);
                return [ null, c[1] ];
            } : null;
        },
        product: function() {
            var a = arguments[0], c = Array.prototype.slice.call(arguments, 1), d = [];
            for (var e = 0; e < a.length; e++) {
                d.push(b.each(a[e], c));
            }
            return d;
        },
        cache: function(b) {
            var c = {}, d = 0, e = [], f = Date.Config.CACHE_MAX || 1e5, g = null;
            var h = function() {
                if (d === f) {
                    for (var a = 0; a < 10; a++) {
                        var b = e.shift();
                        if (b) {
                            delete c[b];
                            d--;
                        }
                    }
                }
            };
            return function(f) {
                h();
                try {
                    g = c[f] = c[f] || b.call(this, f);
                } catch (i) {
                    g = c[f] = i;
                }
                d++;
                e.push(f);
                if (g instanceof a.Exception) {
                    throw g;
                } else {
                    return g;
                }
            };
        },
        any: function() {
            var b = arguments;
            return function(c) {
                var d = null;
                for (var e = 0; e < b.length; e++) {
                    if (b[e] == null) {
                        continue;
                    }
                    try {
                        d = b[e].call(this, c);
                    } catch (f) {
                        d = null;
                    }
                    if (d) {
                        return d;
                    }
                }
                throw new a.Exception(c);
            };
        },
        each: function() {
            var b = arguments;
            return function(c) {
                var d = [], e = null;
                for (var f = 0; f < b.length; f++) {
                    if (b[f] == null) {
                        continue;
                    }
                    try {
                        e = b[f].call(this, c);
                    } catch (g) {
                        throw new a.Exception(c);
                    }
                    d.push(e[0]);
                    c = e[1];
                }
                return [ d, c ];
            };
        },
        all: function() {
            var a = arguments, b = b;
            return b.each(b.optional(a));
        },
        sequence: function(c, d, e) {
            d = d || b.rtoken(/^\s*/);
            e = e || null;
            if (c.length === 1) {
                return c[0];
            }
            return function(b) {
                var f = null, g = null;
                var h = [];
                for (var i = 0; i < c.length; i++) {
                    try {
                        f = c[i].call(this, b);
                    } catch (j) {
                        break;
                    }
                    h.push(f[0]);
                    try {
                        g = d.call(this, f[1]);
                    } catch (k) {
                        g = null;
                        break;
                    }
                    b = g[1];
                }
                if (!f) {
                    throw new a.Exception(b);
                }
                if (g) {
                    throw new a.Exception(g[1]);
                }
                if (e) {
                    try {
                        f = e.call(this, f[1]);
                    } catch (l) {
                        throw new a.Exception(f[1]);
                    }
                }
                return [ h, f ? f[1] : b ];
            };
        },
        between: function(a, c, d) {
            d = d || a;
            var e = b.each(b.ignore(a), c, b.ignore(d));
            return function(a) {
                var b = e.call(this, a);
                return [ [ b[0][0], r[0][2] ], b[1] ];
            };
        },
        list: function(a, c, d) {
            c = c || b.rtoken(/^\s*/);
            d = d || null;
            return a instanceof Array ? b.each(b.product(a.slice(0, -1), b.ignore(c)), a.slice(-1), b.ignore(d)) : b.each(b.many(b.each(a, b.ignore(c))), px, b.ignore(d));
        },
        set: function(c, d, e) {
            d = d || b.rtoken(/^\s*/);
            e = e || null;
            return function(f) {
                var g = null, h = null, i = null, j = null, k = [ [], f ], l = false;
                for (var m = 0; m < c.length; m++) {
                    i = null;
                    h = null;
                    g = null;
                    l = c.length === 1;
                    try {
                        g = c[m].call(this, f);
                    } catch (n) {
                        continue;
                    }
                    j = [ [ g[0] ], g[1] ];
                    if (g[1].length > 0 && !l) {
                        try {
                            i = d.call(this, g[1]);
                        } catch (o) {
                            l = true;
                        }
                    } else {
                        l = true;
                    }
                    if (!l && i[1].length === 0) {
                        l = true;
                    }
                    if (!l) {
                        var p = [];
                        for (var q = 0; q < c.length; q++) {
                            if (m !== q) {
                                p.push(c[q]);
                            }
                        }
                        h = b.set(p, d).call(this, i[1]);
                        if (h[0].length > 0) {
                            j[0] = j[0].concat(h[0]);
                            j[1] = h[1];
                        }
                    }
                    if (j[1].length < k[1].length) {
                        k = j;
                    }
                    if (k[1].length === 0) {
                        break;
                    }
                }
                if (k[0].length === 0) {
                    return k;
                }
                if (e) {
                    try {
                        i = e.call(this, k[1]);
                    } catch (r) {
                        throw new a.Exception(k[1]);
                    }
                    k[1] = i[1];
                }
                return k;
            };
        },
        forward: function(a, b) {
            return function(c) {
                return a[b].call(this, c);
            };
        },
        replace: function(a, b) {
            return function(c) {
                var d = a.call(this, c);
                return [ b, d[1] ];
            };
        },
        process: function(a, b) {
            return function(c) {
                var d = a.call(this, c);
                return [ b.call(this, d[0]), d[1] ];
            };
        },
        min: function(b, c) {
            return function(d) {
                var e = c.call(this, d);
                if (e[0].length < b) {
                    throw new a.Exception(d);
                }
                return e;
            };
        }
    };
    var c = function(a) {
        function b() {
            var b = null, c = [], d, e;
            if (arguments.length > 1) {
                b = Array.prototype.slice.call(arguments);
            } else if (arguments[0] instanceof Array) {
                b = arguments[0];
            }
            if (b) {
                d = b.shift();
                if (d.length > 0) {
                    b.unshift(d[e]);
                    c.push(a.apply(null, b));
                    b.shift();
                    return c;
                }
            } else {
                return a.apply(null, arguments);
            }
        }
        return b;
    };
    var d = "optional not ignore cache".split(/\s/);
    for (var e = 0; e < d.length; e++) {
        b[d[e]] = c(b[d[e]]);
    }
    var f = function(a) {
        return function() {
            if (arguments[0] instanceof Array) {
                return a.apply(null, arguments[0]);
            } else {
                return a.apply(null, arguments);
            }
        };
    };
    var g = "each any all".split(/\s/);
    for (var h = 0; h < g.length; h++) {
        b[g[h]] = f(b[g[h]]);
    }
})();

(function() {
    var a = Date;
    var b = function(a) {
        var c = [];
        for (var d = 0; d < a.length; d++) {
            if (a[d] instanceof Array) {
                c = c.concat(b(a[d]));
            } else {
                if (a[d]) {
                    c.push(a[d]);
                }
            }
        }
        return c;
    };
    var c = function() {
        if (this.meridian && (this.hour || this.hour === 0)) {
            if (this.meridian === "a" && this.hour > 11 && Date.Config.strict24hr) {
                throw "Invalid hour and meridian combination";
            } else if (this.meridian === "p" && this.hour < 12 && Date.Config.strict24hr) {
                throw "Invalid hour and meridian combination";
            } else if (this.meridian === "p" && this.hour < 12) {
                this.hour = this.hour + 12;
            } else if (this.meridian === "a" && this.hour === 12) {
                this.hour = 0;
            }
        }
    };
    var d = function() {
        var a = new Date();
        if ((this.hour || this.minute) && (!this.month && !this.year && !this.day)) {
            this.day = a.getDate();
        }
        if (!this.year) {
            this.year = a.getFullYear();
        }
        if (!this.month && this.month !== 0) {
            this.month = a.getMonth();
        }
        if (!this.day) {
            this.day = 1;
        }
        if (!this.hour) {
            this.hour = 0;
        }
        if (!this.minute) {
            this.minute = 0;
        }
        if (!this.second) {
            this.second = 0;
        }
        if (!this.millisecond) {
            this.millisecond = 0;
        }
    };
    var e = {
        getToday: function() {
            if (this.now || "hour minute second".indexOf(this.unit) !== -1) {
                return new Date();
            } else {
                return a.today();
            }
        },
        setDaysFromWeekday: function(b, c) {
            var d;
            c = c || 1;
            this.unit = "day";
            d = a.getDayNumberFromName(this.weekday) - b.getDay();
            this.days = d ? (d + c * 7) % 7 : c * 7;
            return this;
        },
        setMonthsFromMonth: function(a, b) {
            var c;
            b = b || 1;
            this.unit = "month";
            c = this.month - a.getMonth();
            this.months = c ? (c + b * 12) % 12 : b * 12;
            this.month = null;
            return this;
        },
        setDMYFromWeekday: function() {
            var a = Date[this.weekday]();
            this.day = a.getDate();
            if (!this.month) {
                this.month = a.getMonth();
            }
            this.year = a.getFullYear();
            return this;
        },
        setUnitValue: function(a) {
            if (!this.value && this.operator && this.operator !== null && this[this.unit + "s"] && this[this.unit + "s"] !== null) {
                this[this.unit + "s"] = this[this.unit + "s"] + (this.operator === "add" ? 1 : -1) + (this.value || 0) * a;
            } else if (this[this.unit + "s"] == null || this.operator != null) {
                if (!this.value) {
                    this.value = 1;
                }
                this[this.unit + "s"] = this.value * a;
            }
        },
        generateDateFromWeeks: function() {
            var a = this.weekday !== undefined ? this.weekday : "today";
            var b = Date[a]().addWeeks(this.weeks);
            if (this.now) {
                b.setTimeToNow();
            }
            return b;
        }
    };
    a.Translator = {
        hour: function(a) {
            return function() {
                this.hour = Number(a);
            };
        },
        minute: function(a) {
            return function() {
                this.minute = Number(a);
            };
        },
        second: function(a) {
            return function() {
                this.second = Number(a);
            };
        },
        secondAndMillisecond: function(a) {
            return function() {
                var b = a.match(/^([0-5][0-9])\.([0-9]{1,3})/);
                this.second = Number(b[1]);
                this.millisecond = Number(b[2]);
            };
        },
        meridian: function(a) {
            return function() {
                this.meridian = a.slice(0, 1).toLowerCase();
            };
        },
        timezone: function(a) {
            return function() {
                var b = a.replace(/[^\d\+\-]/g, "");
                if (b.length) {
                    this.timezoneOffset = Number(b);
                } else {
                    this.timezone = a.toLowerCase();
                }
            };
        },
        day: function(a) {
            var b = a[0];
            return function() {
                this.day = Number(b.match(/\d+/)[0]);
                if (this.day < 1) {
                    throw "invalid day";
                }
            };
        },
        month: function(a) {
            return function() {
                this.month = a.length === 3 ? "jan feb mar apr may jun jul aug sep oct nov dec".indexOf(a) / 4 : Number(a) - 1;
                if (this.month < 0) {
                    throw "invalid month";
                }
            };
        },
        year: function(a) {
            return function() {
                var b = Number(a);
                this.year = a.length > 2 ? b : b + (b + 2e3 < Date.CultureInfo.twoDigitYearMax ? 2e3 : 1900);
            };
        },
        rday: function(a) {
            return function() {
                switch (a) {
                  case "yesterday":
                    this.days = -1;
                    break;

                  case "tomorrow":
                    this.days = 1;
                    break;

                  case "today":
                    this.days = 0;
                    break;

                  case "now":
                    this.days = 0;
                    this.now = true;
                    break;
                }
            };
        },
        finishExact: function(b) {
            var e;
            b = b instanceof Array ? b : [ b ];
            for (var f = 0; f < b.length; f++) {
                if (b[f]) {
                    b[f].call(this);
                }
            }
            d.call(this);
            c.call(this);
            if (this.day > a.getDaysInMonth(this.year, this.month)) {
                throw new RangeError(this.day + " is not a valid value for days.");
            }
            e = new Date(this.year, this.month, this.day, this.hour, this.minute, this.second, this.millisecond);
            if (this.year < 100) {
                e.setFullYear(this.year);
            }
            if (this.timezone) {
                e.set({
                    timezone: this.timezone
                });
            } else if (this.timezoneOffset) {
                e.set({
                    timezoneOffset: this.timezoneOffset
                });
            }
            return e;
        },
        finish: function(d) {
            var f, g, h, i;
            d = d instanceof Array ? b(d) : [ d ];
            if (d.length === 0) {
                return null;
            }
            for (var j = 0; j < d.length; j++) {
                if (typeof d[j] === "function") {
                    d[j].call(this);
                }
            }
            if (this.now && !this.unit && !this.operator) {
                return new Date();
            } else {
                f = e.getToday.call(this);
            }
            g = !!(this.days && this.days !== null || this.orient || this.operator);
            h = this.orient === "past" || this.operator === "subtract" ? -1 : 1;
            if (this.month && this.unit === "week") {
                this.value = this.month + 1;
                delete this.month;
                delete this.day;
            }
            if ((this.month || this.month === 0) && "year day hour minute second".indexOf(this.unit) !== -1) {
                if (!this.value) {
                    this.value = this.month + 1;
                }
                this.month = null;
                g = true;
            }
            if (!g && this.weekday && !this.day && !this.days) {
                e.setDMYFromWeekday.call(this);
            }
            if (g && this.weekday && this.unit !== "month" && this.unit !== "week") {
                e.setDaysFromWeekday.call(this, f, h);
            }
            if (this.weekday && this.unit !== "week" && !this.day && !this.days) {
                i = Date[this.weekday]();
                this.day = i.getDate();
                if (i.getMonth() !== f.getMonth()) {
                    this.month = i.getMonth();
                }
            }
            if (this.month && this.unit === "day" && this.operator) {
                if (!this.value) {
                    this.value = this.month + 1;
                }
                this.month = null;
            }
            if (this.value != null && this.month != null && this.year != null) {
                this.day = this.value * 1;
            }
            if (this.month && !this.day && this.value) {
                f.set({
                    day: this.value * 1
                });
                if (!g) {
                    this.day = this.value * 1;
                }
            }
            if (!this.month && this.value && this.unit === "month" && !this.now) {
                this.month = this.value;
                g = true;
            }
            if (g && (this.month || this.month === 0) && this.unit !== "year") {
                e.setMonthsFromMonth.call(this, f, h);
            }
            if (!this.unit) {
                this.unit = "day";
            }
            e.setUnitValue.call(this, h);
            c.call(this);
            if ((this.month || this.month === 0) && !this.day) {
                this.day = 1;
            }
            if (!this.orient && !this.operator && this.unit === "week" && this.value && !this.day && !this.month) {
                return Date.today().setWeek(this.value);
            }
            if (this.unit === "week" && this.weeks && !this.day && !this.month) {
                return e.generateDateFromWeeks.call(this);
            }
            if (g && this.timezone && this.day && this.days) {
                this.day = this.days;
            }
            if (g) {
                f.add(this);
            } else {
                f.set(this);
            }
            if (this.timezone) {
                this.timezone = this.timezone.toUpperCase();
                var k = a.getTimezoneOffset(this.timezone);
                var l;
                if (f.hasDaylightSavingTime()) {
                    l = a.getTimezoneAbbreviation(k, f.isDaylightSavingTime());
                    if (l !== this.timezone) {
                        if (f.isDaylightSavingTime()) {
                            f.addHours(-1);
                        } else {
                            f.addHours(1);
                        }
                    }
                }
                f.setTimezoneOffset(k);
            }
            return f;
        }
    };
})();

(function() {
    var a = Date;
    a.Grammar = {};
    var b = a.Parsing.Operators, c = a.Grammar, d = a.Translator, e;
    e = function() {
        return b.each(b.any.apply(null, arguments), b.not(c.ctoken2("timeContext")));
    };
    c.datePartDelimiter = b.rtoken(/^([\s\-\.\,\/\x27]+)/);
    c.timePartDelimiter = b.stoken(":");
    c.whiteSpace = b.rtoken(/^\s*/);
    c.generalDelimiter = b.rtoken(/^(([\s\,]|at|@|on)+)/);
    var f = {};
    c.ctoken = function(a) {
        var c = f[a];
        if (!c) {
            var d = Date.CultureInfo.regexPatterns;
            var e = a.split(/\s+/), g = [];
            for (var h = 0; h < e.length; h++) {
                g.push(b.replace(b.rtoken(d[e[h]]), e[h]));
            }
            c = f[a] = b.any.apply(null, g);
        }
        return c;
    };
    c.ctoken2 = function(a) {
        return b.rtoken(Date.CultureInfo.regexPatterns[a]);
    };
    var g = function(a, d, e, f) {
        if (f) {
            c[a] = b.cache(b.process(b.each(b.rtoken(d), b.optional(c.ctoken2(f))), e));
        } else {
            c[a] = b.cache(b.process(b.rtoken(d), e));
        }
    };
    var h = function(a, d) {
        return b.cache(b.process(c.ctoken2(a), d));
    };
    var i = {};
    var j = function(a) {
        i[a] = i[a] || c.format(a)[0];
        return i[a];
    };
    c.allformats = function(a) {
        var b = [];
        if (a instanceof Array) {
            for (var c = 0; c < a.length; c++) {
                b.push(j(a[c]));
            }
        } else {
            b.push(j(a));
        }
        return b;
    };
    c.formats = function(a) {
        if (a instanceof Array) {
            var c = [];
            for (var d = 0; d < a.length; d++) {
                c.push(j(a[d]));
            }
            return b.any.apply(null, c);
        } else {
            return j(a);
        }
    };
    var k = {
        timeFormats: function() {
            var a, e = [ "h", "hh", "H", "HH", "m", "mm", "s", "ss", "ss.s", "z", "zz" ], f = [ /^(0[0-9]|1[0-2]|[1-9])/, /^(0[0-9]|1[0-2])/, /^([0-1][0-9]|2[0-3]|[0-9])/, /^([0-1][0-9]|2[0-3])/, /^([0-5][0-9]|[0-9])/, /^[0-5][0-9]/, /^([0-5][0-9]|[0-9])/, /^[0-5][0-9]/, /^[0-5][0-9]\.[0-9]{1,3}/, /^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/, /^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/ ], i = [ d.hour, d.hour, d.hour, d.minute, d.minute, d.second, d.second, d.secondAndMillisecond, d.timezone, d.timezone, d.timezone ];
            for (a = 0; a < e.length; a++) {
                g(e[a], f[a], i[a]);
            }
            c.hms = b.cache(b.sequence([ c.H, c.m, c.s ], c.timePartDelimiter));
            c.t = h("shortMeridian", d.meridian);
            c.tt = h("longMeridian", d.meridian);
            c.zzz = h("timezone", d.timezone);
            c.timeSuffix = b.each(b.ignore(c.whiteSpace), b.set([ c.tt, c.zzz ]));
            c.time = b.each(b.optional(b.ignore(b.stoken("T"))), c.hms, c.timeSuffix);
        },
        dateFormats: function() {
            var a = function() {
                return b.set(arguments, c.datePartDelimiter);
            };
            var f, h = [ "d", "dd", "M", "MM", "y", "yy", "yyy", "yyyy" ], i = [ /^([0-2]\d|3[0-1]|\d)/, /^([0-2]\d|3[0-1])/, /^(1[0-2]|0\d|\d)/, /^(1[0-2]|0\d)/, /^(\d+)/, /^(\d\d)/, /^(\d\d?\d?\d?)/, /^(\d\d\d\d)/ ], j = [ d.day, d.day, d.month, d.month, d.year, d.year, d.year, d.year ], k = [ "ordinalSuffix", "ordinalSuffix" ];
            for (f = 0; f < h.length; f++) {
                g(h[f], i[f], j[f], k[f]);
            }
            c.MMM = c.MMMM = b.cache(b.process(c.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"), d.month));
            c.ddd = c.dddd = b.cache(b.process(c.ctoken("sun mon tue wed thu fri sat"), function(a) {
                return function() {
                    this.weekday = a;
                };
            }));
            c.day = e(c.d, c.dd);
            c.month = e(c.M, c.MMM);
            c.year = e(c.yyyy, c.yy);
            c.mdy = a(c.ddd, c.month, c.day, c.year);
            c.ymd = a(c.ddd, c.year, c.month, c.day);
            c.dmy = a(c.ddd, c.day, c.month, c.year);
            c.date = function(a) {
                return (c[Date.CultureInfo.dateElementOrder] || c.mdy).call(this, a);
            };
        },
        relative: function() {
            c.orientation = b.process(c.ctoken("past future"), function(a) {
                return function() {
                    this.orient = a;
                };
            });
            c.operator = b.process(c.ctoken("add subtract"), function(a) {
                return function() {
                    this.operator = a;
                };
            });
            c.rday = b.process(c.ctoken("yesterday tomorrow today now"), d.rday);
            c.unit = b.process(c.ctoken("second minute hour day week month year"), function(a) {
                return function() {
                    this.unit = a;
                };
            });
        }
    };
    c.buildGrammarFormats = function() {
        f = {};
        k.timeFormats();
        k.dateFormats();
        k.relative();
        c.value = b.process(b.rtoken(/^([-+]?\d+)?(st|nd|rd|th)?/), function(a) {
            return function() {
                this.value = a.replace(/\D/g, "");
            };
        });
        c.expression = b.set([ c.rday, c.operator, c.value, c.unit, c.orientation, c.ddd, c.MMM ]);
        c.format = b.process(b.many(b.any(b.process(b.rtoken(/^(dd?d?d?(?!e)|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/), function(b) {
            if (c[b]) {
                return c[b];
            } else {
                throw a.Parsing.Exception(b);
            }
        }), b.process(b.rtoken(/^[^dMyhHmstz]+/), function(a) {
            return b.ignore(b.stoken(a));
        }))), function(a) {
            return b.process(b.each.apply(null, a), d.finishExact);
        });
        c._start = b.process(b.set([ c.date, c.time, c.expression ], c.generalDelimiter, c.whiteSpace), d.finish);
    };
    c.buildGrammarFormats();
    c._formats = c.formats([ '"yyyy-MM-ddTHH:mm:ssZ"', "yyyy-MM-ddTHH:mm:ss.sz", "yyyy-MM-ddTHH:mm:ssZ", "yyyy-MM-ddTHH:mm:ssz", "yyyy-MM-ddTHH:mm:ss", "yyyy-MM-ddTHH:mmZ", "yyyy-MM-ddTHH:mmz", "yyyy-MM-ddTHH:mm", "ddd, MMM dd, yyyy H:mm:ss tt", "ddd MMM d yyyy HH:mm:ss zzz", "MMddyyyy", "ddMMyyyy", "Mddyyyy", "ddMyyyy", "Mdyyyy", "dMyyyy", "yyyy", "Mdyy", "dMyy", "d" ]);
    c.start = function(a) {
        try {
            var b = c._formats.call({}, a);
            if (b[1].length === 0) {
                return b;
            }
        } catch (d) {}
        return c._start.call({}, a);
    };
})();

(function() {
    var a = Date;
    var b = {
        removeOrds: function(a) {
            ords = a.match(/\b(\d+)(?:st|nd|rd|th)\b/);
            a = ords && ords.length === 2 ? a.replace(ords[0], ords[1]) : a;
            return a;
        },
        grammarParser: function(b) {
            var c = null;
            try {
                c = a.Grammar.start.call({}, b.replace(/^\s*(\S*(\s+\S+)*)\s*$/, "$1"));
            } catch (d) {
                return null;
            }
            return c[1].length === 0 ? c[0] : null;
        },
        nativeFallback: function(a) {
            var b;
            try {
                b = Date._parse(a);
                return b || b === 0 ? new Date(b) : null;
            } catch (c) {
                return null;
            }
        }
    };
    function c(c) {
        var d;
        if (!c) {
            return null;
        }
        if (c instanceof Date) {
            return c.clone();
        }
        if (c.length >= 4 && c.charAt(0) !== "0" && c.charAt(0) !== "+" && c.charAt(0) !== "-") {
            d = a.Parsing.ISO.parse(c) || a.Parsing.Numeric.parse(c);
        }
        if (d instanceof Date && !isNaN(d.getTime())) {
            return d;
        } else {
            c = a.Parsing.Normalizer.parse(b.removeOrds(c));
            d = b.grammarParser(c);
            if (d !== null) {
                return d;
            } else {
                return b.nativeFallback(c);
            }
        }
    }
    if (!a._parse) {
        a._parse = a.parse;
    }
    a.parse = c;
    Date.getParseFunction = function(a) {
        var b = Date.Grammar.allformats(a);
        return function(a) {
            var c = null;
            for (var d = 0; d < b.length; d++) {
                try {
                    c = b[d].call({}, a);
                } catch (e) {
                    continue;
                }
                if (c[1].length === 0) {
                    return c[0];
                }
            }
            return null;
        };
    };
    a.parseExact = function(b, c) {
        return a.getParseFunction(c)(b);
    };
})();

(function() {
    var a = Date, b = a.prototype, c = function(a, b) {
        if (!b) {
            b = 2;
        }
        return ("000" + a).slice(b * -1);
    };
    var d = {
        d: "dd",
        "%d": "dd",
        D: "ddd",
        "%a": "ddd",
        j: "dddd",
        l: "dddd",
        "%A": "dddd",
        S: "S",
        F: "MMMM",
        "%B": "MMMM",
        m: "MM",
        "%m": "MM",
        M: "MMM",
        "%b": "MMM",
        "%h": "MMM",
        n: "M",
        Y: "yyyy",
        "%Y": "yyyy",
        y: "yy",
        "%y": "yy",
        g: "h",
        "%I": "h",
        G: "H",
        h: "hh",
        H: "HH",
        "%H": "HH",
        i: "mm",
        "%M": "mm",
        s: "ss",
        "%S": "ss",
        "%r": "hh:mm tt",
        "%R": "H:mm",
        "%T": "H:mm:ss",
        "%X": "t",
        "%x": "d",
        "%e": "d",
        "%D": "MM/dd/yy",
        "%n": "\\n",
        "%t": "\\t",
        e: "z",
        T: "z",
        "%z": "z",
        "%Z": "z",
        Z: "ZZ",
        N: "u",
        w: "u",
        "%w": "u",
        W: "W",
        "%V": "W"
    };
    var e = {
        substitutes: function(a) {
            return d[a];
        },
        interpreted: function(b, d) {
            var e;
            switch (b) {
              case "%u":
                return d.getDay() + 1;

              case "z":
                return d.getOrdinalNumber();

              case "%j":
                return c(d.getOrdinalNumber(), 3);

              case "%U":
                var f = d.clone().set({
                    month: 0,
                    day: 1
                }).addDays(-1).moveToDayOfWeek(0), g = d.clone().addDays(1).moveToDayOfWeek(0, -1);
                return g < f ? "00" : c((g.getOrdinalNumber() - f.getOrdinalNumber()) / 7 + 1);

              case "%W":
                return c(d.getWeek());

              case "t":
                return a.getDaysInMonth(d.getFullYear(), d.getMonth());

              case "o":
              case "%G":
                return d.setWeek(d.getISOWeek()).toString("yyyy");

              case "%g":
                return d._format("%G").slice(-2);

              case "a":
              case "%p":
                return t("tt").toLowerCase();

              case "A":
                return t("tt").toUpperCase();

              case "u":
                return c(d.getMilliseconds(), 3);

              case "I":
                return d.isDaylightSavingTime() ? 1 : 0;

              case "O":
                return d.getUTCOffset();

              case "P":
                e = d.getUTCOffset();
                return e.substring(0, e.length - 2) + ":" + e.substring(e.length - 2);

              case "B":
                var h = new Date();
                return Math.floor((h.getHours() * 3600 + h.getMinutes() * 60 + h.getSeconds() + (h.getTimezoneOffset() + 60) * 60) / 86.4);

              case "c":
                return d.toISOString().replace(/\"/g, "");

              case "U":
                return a.strtotime("now");

              case "%c":
                return t("d") + " " + t("t");

              case "%C":
                return Math.floor(d.getFullYear() / 100 + 1);
            }
        },
        shouldOverrideDefaults: function(a) {
            switch (a) {
              case "%e":
                return true;

              default:
                return false;
            }
        },
        parse: function(a, b) {
            var c, d = b || new Date();
            c = e.substitutes(a);
            if (c) {
                return c;
            }
            c = e.interpreted(a, d);
            if (c) {
                return c;
            } else {
                return a;
            }
        }
    };
    a.normalizeFormat = function(a, b) {
        return a.replace(/(%|\\)?.|%%/g, function(a) {
            return e.parse(a, b);
        });
    };
    a.strftime = function(a, b) {
        var c = Date.parse(b);
        return c._format(a);
    };
    a.strtotime = function(b) {
        var c = a.parse(b);
        return Math.round(a.UTC(c.getUTCFullYear(), c.getUTCMonth(), c.getUTCDate(), c.getUTCHours(), c.getUTCMinutes(), c.getUTCSeconds(), c.getUTCMilliseconds()) / 1e3);
    };
    var f = function(b) {
        return function(c) {
            var d, f = false;
            if (c.charAt(0) === "\\" || c.substring(0, 2) === "%%") {
                return c.replace("\\", "").replace("%%", "%");
            }
            f = e.shouldOverrideDefaults(c);
            d = a.normalizeFormat(c, b);
            if (d) {
                return b.toString(d, f);
            }
        };
    };
    b._format = function(a) {
        var b = f(this);
        if (!a) {
            return this._toString();
        } else {
            return a.replace(/(%|\\)?.|%%/g, b);
        }
    };
    if (!b.format) {
        b.format = b._format;
    }
})();

(function() {
    "use strict";
    var a = function(a) {
        return function() {
            return this[a];
        };
    };
    var b = function(a) {
        return function(b) {
            this[a] = b;
            return this;
        };
    };
    var c = [ "years", "months", "days", "hours", "minutes", "seconds", "milliseconds" ];
    var d = function(c, d) {
        for (var e = 0; e < d.length; e++) {
            var f = d[e], g = f.slice(0, 1).toUpperCase() + f.slice(1);
            c.prototype[f] = 0;
            c.prototype["get" + g] = a(f);
            c.prototype["set" + g] = b(f);
        }
    };
    var e = function(a, b, c, d, f) {
        if (arguments.length === 1 && typeof a === "number") {
            var g = a < 0 ? -1 : +1;
            var h = Math.abs(a);
            this.setDays(Math.floor(h / 864e5) * g);
            h = h % 864e5;
            this.setHours(Math.floor(h / 36e5) * g);
            h = h % 36e5;
            this.setMinutes(Math.floor(h / 6e4) * g);
            h = h % 6e4;
            this.setSeconds(Math.floor(h / 1e3) * g);
            h = h % 1e3;
            this.setMilliseconds(h * g);
        } else {
            this.set(a, b, c, d, f);
        }
        this.getTotalMilliseconds = function() {
            return this.getDays() * 864e5 + this.getHours() * 36e5 + this.getMinutes() * 6e4 + this.getSeconds() * 1e3;
        };
        this.compareTo = function(a) {
            var b = new Date(1970, 1, 1, this.getHours(), this.getMinutes(), this.getSeconds()), c;
            if (a === null) {
                c = new Date(1970, 1, 1, 0, 0, 0);
            } else {
                c = new Date(1970, 1, 1, a.getHours(), a.getMinutes(), a.getSeconds());
            }
            return b < c ? -1 : b > c ? 1 : 0;
        };
        this.equals = function(a) {
            return this.compareTo(a) === 0;
        };
        this.add = function(a) {
            return a === null ? this : this.addSeconds(a.getTotalMilliseconds() / 1e3);
        };
        this.subtract = function(a) {
            return a === null ? this : this.addSeconds(-a.getTotalMilliseconds() / 1e3);
        };
        this.addDays = function(a) {
            return new e(this.getTotalMilliseconds() + a * 864e5);
        };
        this.addHours = function(a) {
            return new e(this.getTotalMilliseconds() + a * 36e5);
        };
        this.addMinutes = function(a) {
            return new e(this.getTotalMilliseconds() + a * 6e4);
        };
        this.addSeconds = function(a) {
            return new e(this.getTotalMilliseconds() + a * 1e3);
        };
        this.addMilliseconds = function(a) {
            return new e(this.getTotalMilliseconds() + a);
        };
        this.get12HourHour = function() {
            return this.getHours() > 12 ? this.getHours() - 12 : this.getHours() === 0 ? 12 : this.getHours();
        };
        this.getDesignator = function() {
            return this.getHours() < 12 ? Date.CultureInfo.amDesignator : Date.CultureInfo.pmDesignator;
        };
        this.toString = function(a) {
            this._toString = function() {
                if (this.getDays() !== null && this.getDays() > 0) {
                    return this.getDays() + "." + this.getHours() + ":" + this.p(this.getMinutes()) + ":" + this.p(this.getSeconds());
                } else {
                    return this.getHours() + ":" + this.p(this.getMinutes()) + ":" + this.p(this.getSeconds());
                }
            };
            this.p = function(a) {
                return a.toString().length < 2 ? "0" + a : a;
            };
            var b = this;
            return a ? a.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g, function(a) {
                switch (a) {
                  case "d":
                    return b.getDays();

                  case "dd":
                    return b.p(b.getDays());

                  case "H":
                    return b.getHours();

                  case "HH":
                    return b.p(b.getHours());

                  case "h":
                    return b.get12HourHour();

                  case "hh":
                    return b.p(b.get12HourHour());

                  case "m":
                    return b.getMinutes();

                  case "mm":
                    return b.p(b.getMinutes());

                  case "s":
                    return b.getSeconds();

                  case "ss":
                    return b.p(b.getSeconds());

                  case "t":
                    return (b.getHours() < 12 ? Date.CultureInfo.amDesignator : Date.CultureInfo.pmDesignator).substring(0, 1);

                  case "tt":
                    return b.getHours() < 12 ? Date.CultureInfo.amDesignator : Date.CultureInfo.pmDesignator;
                }
            }) : this._toString();
        };
        return this;
    };
    d(e, c.slice(2));
    e.prototype.set = function(a, b, c, d, e) {
        this.setDays(a || this.getDays());
        this.setHours(b || this.getHours());
        this.setMinutes(c || this.getMinutes());
        this.setSeconds(d || this.getSeconds());
        this.setMilliseconds(e || this.getMilliseconds());
    };
    Date.prototype.getTimeOfDay = function() {
        return new e(0, this.getHours(), this.getMinutes(), this.getSeconds(), this.getMilliseconds());
    };
    Date.TimeSpan = e;
    if (typeof window !== "undefined") {
        window.TimeSpan = e;
    }
})();

(function() {
    "use strict";
    var a = [ "years", "months", "days", "hours", "minutes", "seconds", "milliseconds" ];
    var b = function(a) {
        return function() {
            return this[a];
        };
    };
    var c = function(a) {
        return function(b) {
            this[a] = b;
            return this;
        };
    };
    var d = function(a, d) {
        for (var e = 0; e < d.length; e++) {
            var f = d[e], g = f.slice(0, 1).toUpperCase() + f.slice(1);
            a.prototype[f] = 0;
            a.prototype["get" + g] = b(f);
            a.prototype["set" + g] = c(f);
        }
    };
    var e = function(a, b, c, d) {
        function e() {
            b.addMonths(-a);
            d.months++;
            if (d.months === 12) {
                d.years++;
                d.months = 0;
            }
        }
        if (a === +1) {
            while (b > c) {
                e();
            }
        } else {
            while (b < c) {
                e();
            }
        }
        d.months--;
        d.months *= a;
        d.years *= a;
    };
    var f = function(a, b, c) {
        var d = false === (b.isDaylightSavingTime() === c.isDaylightSavingTime());
        if (d && a === 1) {
            b.addHours(-1);
        } else if (d) {
            b.addHours(1);
        }
    };
    var g = function(a, b, c, d, g, h, i) {
        if (arguments.length === 7) {
            this.set(a, b, c, d, g, h, i);
        } else if (arguments.length === 2 && arguments[0] instanceof Date && arguments[1] instanceof Date) {
            var j = arguments[0].clone();
            var k = arguments[1].clone();
            var l = j > k ? +1 : -1;
            this.dates = {
                start: arguments[0].clone(),
                end: arguments[1].clone()
            };
            e(l, j, k, this);
            f(l, j, k);
            var m = k - j;
            if (m !== 0) {
                var n = new TimeSpan(m);
                this.set(this.years, this.months, n.getDays(), n.getHours(), n.getMinutes(), n.getSeconds(), n.getMilliseconds());
            }
        }
        return this;
    };
    d(g, a);
    g.prototype.set = function(a, b, c, d, e, f, g) {
        this.setYears(a || this.getYears());
        this.setMonths(b || this.getMonths());
        this.setDays(c || this.getDays());
        this.setHours(d || this.getHours());
        this.setMinutes(e || this.getMinutes());
        this.setSeconds(f || this.getSeconds());
        this.setMilliseconds(g || this.getMilliseconds());
    };
    Date.TimePeriod = g;
    if (typeof window !== "undefined") {
        window.TimePeriod = g;
    }
})();

(function(a) {
    a.Jcrop = function(b, c) {
        var d = a.extend({}, a.Jcrop.defaults), e, f = navigator.userAgent.toLowerCase(), g = /msie/.test(f), h = /msie [1-6]\./.test(f);
        function i(a) {
            return Math.round(a) + "px";
        }
        function j(a) {
            return d.baseClass + "-" + a;
        }
        function k() {
            return a.fx.step.hasOwnProperty("backgroundColor");
        }
        function l(b) {
            var c = a(b).offset();
            return [ c.left, c.top ];
        }
        function m(a) {
            return [ a.pageX - e[0], a.pageY - e[1] ];
        }
        function n(b) {
            if (typeof b !== "object") b = {};
            d = a.extend(d, b);
            a.each([ "onChange", "onSelect", "onRelease", "onDblClick" ], function(a, b) {
                if (typeof d[b] !== "function") d[b] = function() {};
            });
        }
        function o(a, b, c) {
            e = l(D);
            ba.setCursor(a === "move" ? a : a + "-resize");
            if (a === "move") {
                return ba.activateHandlers(q(b), v, c);
            }
            var d = $.getFixed();
            var f = r(a);
            var g = $.getCorner(r(f));
            $.setPressed($.getCorner(f));
            $.setCurrent(g);
            ba.activateHandlers(p(a, d), v, c);
        }
        function p(a, b) {
            return function(c) {
                if (!d.aspectRatio) {
                    switch (a) {
                      case "e":
                        c[1] = b.y2;
                        break;

                      case "w":
                        c[1] = b.y2;
                        break;

                      case "n":
                        c[0] = b.x2;
                        break;

                      case "s":
                        c[0] = b.x2;
                        break;
                    }
                } else {
                    switch (a) {
                      case "e":
                        c[1] = b.y + 1;
                        break;

                      case "w":
                        c[1] = b.y + 1;
                        break;

                      case "n":
                        c[0] = b.x + 1;
                        break;

                      case "s":
                        c[0] = b.x + 1;
                        break;
                    }
                }
                $.setCurrent(c);
                aa.update();
            };
        }
        function q(a) {
            var b = a;
            ca.watchKeys();
            return function(a) {
                $.moveOffset([ a[0] - b[0], a[1] - b[1] ]);
                b = a;
                aa.update();
            };
        }
        function r(a) {
            switch (a) {
              case "n":
                return "sw";

              case "s":
                return "nw";

              case "e":
                return "nw";

              case "w":
                return "ne";

              case "ne":
                return "sw";

              case "nw":
                return "se";

              case "se":
                return "nw";

              case "sw":
                return "ne";
            }
        }
        function s(a) {
            return function(b) {
                if (d.disabled) {
                    return false;
                }
                if (a === "move" && !d.allowMove) {
                    return false;
                }
                e = l(D);
                W = true;
                o(a, m(b));
                b.stopPropagation();
                b.preventDefault();
                return false;
            };
        }
        function t(a, b, c) {
            var d = a.width(), e = a.height();
            if (d > b && b > 0) {
                d = b;
                e = b / a.width() * a.height();
            }
            if (e > c && c > 0) {
                e = c;
                d = c / a.height() * a.width();
            }
            T = a.width() / d;
            U = a.height() / e;
            a.width(d).height(e);
        }
        function u(a) {
            return {
                x: a.x * T,
                y: a.y * U,
                x2: a.x2 * T,
                y2: a.y2 * U,
                w: a.w * T,
                h: a.h * U
            };
        }
        function v(a) {
            var b = $.getFixed();
            if (b.w > d.minSelect[0] && b.h > d.minSelect[1]) {
                aa.enableHandles();
                aa.done();
            } else {
                aa.release();
            }
            ba.setCursor(d.allowSelect ? "crosshair" : "default");
        }
        function w(a) {
            if (d.disabled) {
                return;
            }
            if (!d.allowSelect) {
                return;
            }
            W = true;
            e = l(D);
            aa.disableHandles();
            ba.setCursor("crosshair");
            var b = m(a);
            $.setPressed(b);
            aa.update();
            ba.activateHandlers(x, v, a.type.substring(0, 5) === "touch");
            ca.watchKeys();
            a.stopPropagation();
            a.preventDefault();
            return false;
        }
        function x(a) {
            $.setCurrent(a);
            aa.update();
        }
        function y() {
            var b = a("<div></div>").addClass(j("tracker"));
            if (g) {
                b.css({
                    opacity: 0,
                    backgroundColor: "white"
                });
            }
            return b;
        }
        if (typeof b !== "object") {
            b = a(b)[0];
        }
        if (typeof c !== "object") {
            c = {};
        }
        n(c);
        var z = {
            border: "none",
            visibility: "visible",
            margin: 0,
            padding: 0,
            position: "absolute",
            top: 0,
            left: 0
        };
        var A = a(b), B = true;
        if (b.tagName == "IMG") {
            if (A[0].width != 0 && A[0].height != 0) {
                A.width(A[0].width);
                A.height(A[0].height);
            } else {
                var C = new Image();
                C.src = A[0].src;
                A.width(C.width);
                A.height(C.height);
            }
            var D = A.clone().removeAttr("id").css(z).show();
            D.width(A.width());
            D.height(A.height());
            A.after(D).hide();
        } else {
            D = A.css(z).show();
            B = false;
            if (d.shade === null) {
                d.shade = true;
            }
        }
        t(D, d.boxWidth, d.boxHeight);
        var E = D.width(), F = D.height(), G = a("<div />").width(E).height(F).addClass(j("holder")).css({
            position: "relative",
            backgroundColor: d.bgColor
        }).insertAfter(A).append(D);
        if (d.addClass) {
            G.addClass(d.addClass);
        }
        var H = a("<div />"), I = a("<div />").width("100%").height("100%").css({
            zIndex: 310,
            position: "absolute",
            overflow: "hidden"
        }), J = a("<div />").width("100%").height("100%").css("zIndex", 320), K = a("<div />").css({
            position: "absolute",
            zIndex: 600
        }).dblclick(function() {
            var a = $.getFixed();
            d.onDblClick.call(ra, a);
        }).insertBefore(D).append(I, J);
        if (B) {
            H = a("<img />").attr("src", D.attr("src")).css(z).width(E).height(F), I.append(H);
        }
        if (h) {
            K.css({
                overflowY: "hidden"
            });
        }
        var L = d.boundary;
        var M = y().width(E + L * 2).height(F + L * 2).css({
            position: "absolute",
            top: i(-L),
            left: i(-L),
            zIndex: 290
        }).mousedown(w);
        var N = d.bgColor, O = d.bgOpacity, P, Q, R, S, T, U, V = true, W, X, Y;
        e = l(D);
        var Z = function() {
            function a() {
                var a = {}, b = [ "touchstart", "touchmove", "touchend" ], c = document.createElement("div"), d;
                try {
                    for (d = 0; d < b.length; d++) {
                        var e = b[d];
                        e = "on" + e;
                        var f = e in c;
                        if (!f) {
                            c.setAttribute(e, "return;");
                            f = typeof c[e] == "function";
                        }
                        a[b[d]] = f;
                    }
                    return a.touchstart && a.touchend && a.touchmove;
                } catch (g) {
                    return false;
                }
            }
            function b() {
                if (d.touchSupport === true || d.touchSupport === false) return d.touchSupport; else return a();
            }
            return {
                createDragger: function(a) {
                    return function(b) {
                        if (d.disabled) {
                            return false;
                        }
                        if (a === "move" && !d.allowMove) {
                            return false;
                        }
                        e = l(D);
                        W = true;
                        o(a, m(Z.cfilter(b)), true);
                        b.stopPropagation();
                        b.preventDefault();
                        return false;
                    };
                },
                newSelection: function(a) {
                    return w(Z.cfilter(a));
                },
                cfilter: function(a) {
                    a.pageX = a.originalEvent.changedTouches[0].pageX;
                    a.pageY = a.originalEvent.changedTouches[0].pageY;
                    return a;
                },
                isSupported: a,
                support: b()
            };
        }();
        var $ = function() {
            var a = 0, b = 0, c = 0, e = 0, f, g;
            function h(d) {
                d = n(d);
                c = a = d[0];
                e = b = d[1];
            }
            function i(a) {
                a = n(a);
                f = a[0] - c;
                g = a[1] - e;
                c = a[0];
                e = a[1];
            }
            function j() {
                return [ f, g ];
            }
            function k(d) {
                var f = d[0], g = d[1];
                if (0 > a + f) {
                    f -= f + a;
                }
                if (0 > b + g) {
                    g -= g + b;
                }
                if (F < e + g) {
                    g += F - (e + g);
                }
                if (E < c + f) {
                    f += E - (c + f);
                }
                a += f;
                c += f;
                b += g;
                e += g;
            }
            function l(a) {
                var b = m();
                switch (a) {
                  case "ne":
                    return [ b.x2, b.y ];

                  case "nw":
                    return [ b.x, b.y ];

                  case "se":
                    return [ b.x2, b.y2 ];

                  case "sw":
                    return [ b.x, b.y2 ];
                }
            }
            function m() {
                if (!d.aspectRatio) {
                    return p();
                }
                var f = d.aspectRatio, g = d.minSize[0] / T, h = d.maxSize[0] / T, i = d.maxSize[1] / U, j = c - a, k = e - b, l = Math.abs(j), m = Math.abs(k), n = l / m, r, s, t, u;
                if (h === 0) {
                    h = E * 10;
                }
                if (i === 0) {
                    i = F * 10;
                }
                if (n < f) {
                    s = e;
                    t = m * f;
                    r = j < 0 ? a - t : t + a;
                    if (r < 0) {
                        r = 0;
                        u = Math.abs((r - a) / f);
                        s = k < 0 ? b - u : u + b;
                    } else if (r > E) {
                        r = E;
                        u = Math.abs((r - a) / f);
                        s = k < 0 ? b - u : u + b;
                    }
                } else {
                    r = c;
                    u = l / f;
                    s = k < 0 ? b - u : b + u;
                    if (s < 0) {
                        s = 0;
                        t = Math.abs((s - b) * f);
                        r = j < 0 ? a - t : t + a;
                    } else if (s > F) {
                        s = F;
                        t = Math.abs(s - b) * f;
                        r = j < 0 ? a - t : t + a;
                    }
                }
                if (r > a) {
                    if (r - a < g) {
                        r = a + g;
                    } else if (r - a > h) {
                        r = a + h;
                    }
                    if (s > b) {
                        s = b + (r - a) / f;
                    } else {
                        s = b - (r - a) / f;
                    }
                } else if (r < a) {
                    if (a - r < g) {
                        r = a - g;
                    } else if (a - r > h) {
                        r = a - h;
                    }
                    if (s > b) {
                        s = b + (a - r) / f;
                    } else {
                        s = b - (a - r) / f;
                    }
                }
                if (r < 0) {
                    a -= r;
                    r = 0;
                } else if (r > E) {
                    a -= r - E;
                    r = E;
                }
                if (s < 0) {
                    b -= s;
                    s = 0;
                } else if (s > F) {
                    b -= s - F;
                    s = F;
                }
                return q(o(a, b, r, s));
            }
            function n(a) {
                if (a[0] < 0) a[0] = 0;
                if (a[1] < 0) a[1] = 0;
                if (a[0] > E) a[0] = E;
                if (a[1] > F) a[1] = F;
                return [ Math.round(a[0]), Math.round(a[1]) ];
            }
            function o(a, b, c, d) {
                var e = a, f = c, g = b, h = d;
                if (c < a) {
                    e = c;
                    f = a;
                }
                if (d < b) {
                    g = d;
                    h = b;
                }
                return [ e, g, f, h ];
            }
            function p() {
                var d = c - a, f = e - b, g;
                if (P && Math.abs(d) > P) {
                    c = d > 0 ? a + P : a - P;
                }
                if (Q && Math.abs(f) > Q) {
                    e = f > 0 ? b + Q : b - Q;
                }
                if (S / U && Math.abs(f) < S / U) {
                    e = f > 0 ? b + S / U : b - S / U;
                }
                if (R / T && Math.abs(d) < R / T) {
                    c = d > 0 ? a + R / T : a - R / T;
                }
                if (a < 0) {
                    c -= a;
                    a -= a;
                }
                if (b < 0) {
                    e -= b;
                    b -= b;
                }
                if (c < 0) {
                    a -= c;
                    c -= c;
                }
                if (e < 0) {
                    b -= e;
                    e -= e;
                }
                if (c > E) {
                    g = c - E;
                    a -= g;
                    c -= g;
                }
                if (e > F) {
                    g = e - F;
                    b -= g;
                    e -= g;
                }
                if (a > E) {
                    g = a - F;
                    e -= g;
                    b -= g;
                }
                if (b > F) {
                    g = b - F;
                    e -= g;
                    b -= g;
                }
                return q(o(a, b, c, e));
            }
            function q(a) {
                return {
                    x: a[0],
                    y: a[1],
                    x2: a[2],
                    y2: a[3],
                    w: a[2] - a[0],
                    h: a[3] - a[1]
                };
            }
            return {
                flipCoords: o,
                setPressed: h,
                setCurrent: i,
                getOffset: j,
                moveOffset: k,
                getCorner: l,
                getFixed: m
            };
        }();
        var _ = function() {
            var b = false, c = a("<div />").css({
                position: "absolute",
                zIndex: 240,
                opacity: 0
            }), e = {
                top: j(),
                left: j().height(F),
                right: j().height(F),
                bottom: j()
            };
            function f(a, b) {
                e.left.css({
                    height: i(b)
                });
                e.right.css({
                    height: i(b)
                });
            }
            function g() {
                return h($.getFixed());
            }
            function h(a) {
                e.top.css({
                    left: i(a.x),
                    width: i(a.w),
                    height: i(a.y)
                });
                e.bottom.css({
                    top: i(a.y2),
                    left: i(a.x),
                    width: i(a.w),
                    height: i(F - a.y2)
                });
                e.right.css({
                    left: i(a.x2),
                    width: i(E - a.x2)
                });
                e.left.css({
                    width: i(a.x)
                });
            }
            function j() {
                return a("<div />").css({
                    position: "absolute",
                    backgroundColor: d.shadeColor || d.bgColor
                }).appendTo(c);
            }
            function k() {
                if (!b) {
                    b = true;
                    c.insertBefore(D);
                    g();
                    aa.setBgOpacity(1, 0, 1);
                    H.hide();
                    l(d.shadeColor || d.bgColor, 1);
                    if (aa.isAwake()) {
                        n(d.bgOpacity, 1);
                    } else n(1, 1);
                }
            }
            function l(a, b) {
                pa(p(), a, b);
            }
            function m() {
                if (b) {
                    c.remove();
                    H.show();
                    b = false;
                    if (aa.isAwake()) {
                        aa.setBgOpacity(d.bgOpacity, 1, 1);
                    } else {
                        aa.setBgOpacity(1, 1, 1);
                        aa.disableHandles();
                    }
                    pa(G, 0, 1);
                }
            }
            function n(a, e) {
                if (b) {
                    if (d.bgFade && !e) {
                        c.animate({
                            opacity: 1 - a
                        }, {
                            queue: false,
                            duration: d.fadeTime
                        });
                    } else c.css({
                        opacity: 1 - a
                    });
                }
            }
            function o() {
                d.shade ? k() : m();
                if (aa.isAwake()) n(d.bgOpacity);
            }
            function p() {
                return c.children();
            }
            return {
                update: g,
                updateRaw: h,
                getShades: p,
                setBgColor: l,
                enable: k,
                disable: m,
                resize: f,
                refresh: o,
                opacity: n
            };
        }();
        var aa = function() {
            var b, c = 370, e = {}, f = {}, g = {}, h = false;
            function k(b) {
                var c = a("<div />").css({
                    position: "absolute",
                    opacity: d.borderOpacity
                }).addClass(j(b));
                I.append(c);
                return c;
            }
            function l(b, c) {
                var d = a("<div />").mousedown(s(b)).css({
                    cursor: b + "-resize",
                    position: "absolute",
                    zIndex: c
                }).addClass("ord-" + b);
                if (Z.support) {
                    d.bind("touchstart.jcrop", Z.createDragger(b));
                }
                J.append(d);
                return d;
            }
            function m(a) {
                var b = d.handleSize, e = l(a, c++).css({
                    opacity: d.handleOpacity
                }).addClass(j("handle"));
                if (b) {
                    e.width(b).height(b);
                }
                return e;
            }
            function n(a) {
                return l(a, c++).addClass("jcrop-dragbar");
            }
            function o(a) {
                var b;
                for (b = 0; b < a.length; b++) {
                    g[a[b]] = n(a[b]);
                }
            }
            function p(a) {
                var b, c;
                for (c = 0; c < a.length; c++) {
                    switch (a[c]) {
                      case "n":
                        b = "hline";
                        break;

                      case "s":
                        b = "hline bottom";
                        break;

                      case "e":
                        b = "vline right";
                        break;

                      case "w":
                        b = "vline";
                        break;
                    }
                    e[a[c]] = k(b);
                }
            }
            function q(a) {
                var b;
                for (b = 0; b < a.length; b++) {
                    f[a[b]] = m(a[b]);
                }
            }
            function r(a, b) {
                if (!d.shade) {
                    H.css({
                        top: i(-b),
                        left: i(-a)
                    });
                }
                K.css({
                    top: i(b),
                    left: i(a)
                });
            }
            function t(a, b) {
                K.width(Math.round(a)).height(Math.round(b));
            }
            function v() {
                var a = $.getFixed();
                $.setPressed([ a.x, a.y ]);
                $.setCurrent([ a.x2, a.y2 ]);
                w();
            }
            function w(a) {
                if (b) {
                    return x(a);
                }
            }
            function x(a) {
                var c = $.getFixed();
                t(c.w, c.h);
                r(c.x, c.y);
                if (d.shade) _.updateRaw(c);
                b || A();
                if (a) {
                    d.onSelect.call(ra, u(c));
                } else {
                    d.onChange.call(ra, u(c));
                }
            }
            function z(a, c, e) {
                if (!b && !c) return;
                if (d.bgFade && !e) {
                    D.animate({
                        opacity: a
                    }, {
                        queue: false,
                        duration: d.fadeTime
                    });
                } else {
                    D.css("opacity", a);
                }
            }
            function A() {
                K.show();
                if (d.shade) _.opacity(O); else z(O, true);
                b = true;
            }
            function B() {
                F();
                K.hide();
                if (d.shade) _.opacity(1); else z(1);
                b = false;
                d.onRelease.call(ra);
            }
            function C() {
                if (h) {
                    J.show();
                }
            }
            function E() {
                h = true;
                if (d.allowResize) {
                    J.show();
                    return true;
                }
            }
            function F() {
                h = false;
                J.hide();
            }
            function G(a) {
                if (a) {
                    X = true;
                    F();
                } else {
                    X = false;
                    E();
                }
            }
            function L() {
                G(false);
                v();
            }
            if (d.dragEdges && a.isArray(d.createDragbars)) o(d.createDragbars);
            if (a.isArray(d.createHandles)) q(d.createHandles);
            if (d.drawBorders && a.isArray(d.createBorders)) p(d.createBorders);
            a(document).bind("touchstart.jcrop-ios", function(b) {
                if (a(b.currentTarget).hasClass("jcrop-tracker")) b.stopPropagation();
            });
            var M = y().mousedown(s("move")).css({
                cursor: "move",
                position: "absolute",
                zIndex: 360
            });
            if (Z.support) {
                M.bind("touchstart.jcrop", Z.createDragger("move"));
            }
            I.append(M);
            F();
            return {
                updateVisible: w,
                update: x,
                release: B,
                refresh: v,
                isAwake: function() {
                    return b;
                },
                setCursor: function(a) {
                    M.css("cursor", a);
                },
                enableHandles: E,
                enableOnly: function() {
                    h = true;
                },
                showHandles: C,
                disableHandles: F,
                animMode: G,
                setBgOpacity: z,
                done: L
            };
        }();
        var ba = function() {
            var b = function() {}, c = function() {}, e = d.trackDocument;
            function f(b) {
                M.css({
                    zIndex: 450
                });
                if (b) a(document).bind("touchmove.jcrop", k).bind("touchend.jcrop", l); else if (e) a(document).bind("mousemove.jcrop", h).bind("mouseup.jcrop", i);
            }
            function g() {
                M.css({
                    zIndex: 290
                });
                a(document).unbind(".jcrop");
            }
            function h(a) {
                b(m(a));
                return false;
            }
            function i(a) {
                a.preventDefault();
                a.stopPropagation();
                if (W) {
                    W = false;
                    c(m(a));
                    if (aa.isAwake()) {
                        d.onSelect.call(ra, u($.getFixed()));
                    }
                    g();
                    b = function() {};
                    c = function() {};
                }
                return false;
            }
            function j(a, d, e) {
                W = true;
                b = a;
                c = d;
                f(e);
                return false;
            }
            function k(a) {
                b(m(Z.cfilter(a)));
                return false;
            }
            function l(a) {
                return i(Z.cfilter(a));
            }
            function n(a) {
                M.css("cursor", a);
            }
            if (!e) {
                M.mousemove(h).mouseup(i).mouseout(i);
            }
            D.before(M);
            return {
                activateHandlers: j,
                setCursor: n
            };
        }();
        var ca = function() {
            var b = a('<input type="radio" />').css({
                position: "fixed",
                left: "-120px",
                width: "12px"
            }).addClass("jcrop-keymgr"), c = a("<div />").css({
                position: "absolute",
                overflow: "hidden"
            }).append(b);
            function e() {
                if (d.keySupport) {
                    b.show();
                    b.focus();
                }
            }
            function f(a) {
                b.hide();
            }
            function g(a, b, c) {
                if (d.allowMove) {
                    $.moveOffset([ b, c ]);
                    aa.updateVisible(true);
                }
                a.preventDefault();
                a.stopPropagation();
            }
            function i(a) {
                if (a.ctrlKey || a.metaKey) {
                    return true;
                }
                Y = a.shiftKey ? true : false;
                var b = Y ? 10 : 1;
                switch (a.keyCode) {
                  case 37:
                    g(a, -b, 0);
                    break;

                  case 39:
                    g(a, b, 0);
                    break;

                  case 38:
                    g(a, 0, -b);
                    break;

                  case 40:
                    g(a, 0, b);
                    break;

                  case 27:
                    if (d.allowSelect) aa.release();
                    break;

                  case 9:
                    return true;
                }
                return false;
            }
            if (d.keySupport) {
                b.keydown(i).blur(f);
                if (h || !d.fixedSupport) {
                    b.css({
                        position: "absolute",
                        left: "-20px"
                    });
                    c.append(b).insertBefore(D);
                } else {
                    b.insertBefore(D);
                }
            }
            return {
                watchKeys: e
            };
        }();
        function da(a) {
            G.removeClass().addClass(j("holder")).addClass(a);
        }
        function ea(a, b) {
            var c = a[0] / T, e = a[1] / U, f = a[2] / T, g = a[3] / U;
            if (X) {
                return;
            }
            var h = $.flipCoords(c, e, f, g), i = $.getFixed(), j = [ i.x, i.y, i.x2, i.y2 ], k = j, l = d.animationDelay, m = h[0] - j[0], n = h[1] - j[1], o = h[2] - j[2], p = h[3] - j[3], q = 0, r = d.swingSpeed;
            c = k[0];
            e = k[1];
            f = k[2];
            g = k[3];
            aa.animMode(true);
            var s;
            function t() {
                window.setTimeout(u, l);
            }
            var u = function() {
                return function() {
                    q += (100 - q) / r;
                    k[0] = Math.round(c + q / 100 * m);
                    k[1] = Math.round(e + q / 100 * n);
                    k[2] = Math.round(f + q / 100 * o);
                    k[3] = Math.round(g + q / 100 * p);
                    if (q >= 99.8) {
                        q = 100;
                    }
                    if (q < 100) {
                        ga(k);
                        t();
                    } else {
                        aa.done();
                        aa.animMode(false);
                        if (typeof b === "function") {
                            b.call(ra);
                        }
                    }
                };
            }();
            t();
        }
        function fa(a) {
            ga([ a[0] / T, a[1] / U, a[2] / T, a[3] / U ]);
            d.onSelect.call(ra, u($.getFixed()));
            aa.enableHandles();
        }
        function ga(a) {
            $.setPressed([ a[0], a[1] ]);
            $.setCurrent([ a[2], a[3] ]);
            aa.update();
        }
        function ha() {
            return u($.getFixed());
        }
        function ia() {
            return $.getFixed();
        }
        function ja(a) {
            n(a);
            qa();
        }
        function ka() {
            d.disabled = true;
            aa.disableHandles();
            aa.setCursor("default");
            ba.setCursor("default");
        }
        function la() {
            d.disabled = false;
            qa();
        }
        function ma() {
            aa.done();
            ba.activateHandlers(null, null);
        }
        function na() {
            G.remove();
            A.show();
            A.css("visibility", "visible");
            a(b).removeData("Jcrop");
        }
        function oa(a, b) {
            aa.release();
            ka();
            var c = new Image();
            c.onload = function() {
                var e = c.width;
                var f = c.height;
                var g = d.boxWidth;
                var h = d.boxHeight;
                D.width(e).height(f);
                D.attr("src", a);
                H.attr("src", a);
                t(D, g, h);
                E = D.width();
                F = D.height();
                H.width(E).height(F);
                M.width(E + L * 2).height(F + L * 2);
                G.width(E).height(F);
                _.resize(E, F);
                la();
                if (typeof b === "function") {
                    b.call(ra);
                }
            };
            c.src = a;
        }
        function pa(a, b, c) {
            var e = b || d.bgColor;
            if (d.bgFade && k() && d.fadeTime && !c) {
                a.animate({
                    backgroundColor: e
                }, {
                    queue: false,
                    duration: d.fadeTime
                });
            } else {
                a.css("backgroundColor", e);
            }
        }
        function qa(a) {
            if (d.allowResize) {
                if (a) {
                    aa.enableOnly();
                } else {
                    aa.enableHandles();
                }
            } else {
                aa.disableHandles();
            }
            ba.setCursor(d.allowSelect ? "crosshair" : "default");
            aa.setCursor(d.allowMove ? "move" : "default");
            if (d.hasOwnProperty("trueSize")) {
                T = d.trueSize[0] / E;
                U = d.trueSize[1] / F;
            }
            if (d.hasOwnProperty("setSelect")) {
                fa(d.setSelect);
                aa.done();
                delete d.setSelect;
            }
            _.refresh();
            if (d.bgColor != N) {
                pa(d.shade ? _.getShades() : G, d.shade ? d.shadeColor || d.bgColor : d.bgColor);
                N = d.bgColor;
            }
            if (O != d.bgOpacity) {
                O = d.bgOpacity;
                if (d.shade) _.refresh(); else aa.setBgOpacity(O);
            }
            P = d.maxSize[0] || 0;
            Q = d.maxSize[1] || 0;
            R = d.minSize[0] || 0;
            S = d.minSize[1] || 0;
            if (d.hasOwnProperty("outerImage")) {
                D.attr("src", d.outerImage);
                delete d.outerImage;
            }
            aa.refresh();
        }
        if (Z.support) M.bind("touchstart.jcrop", Z.newSelection);
        J.hide();
        qa(true);
        var ra = {
            setImage: oa,
            animateTo: ea,
            setSelect: fa,
            setOptions: ja,
            tellSelect: ha,
            tellScaled: ia,
            setClass: da,
            disable: ka,
            enable: la,
            cancel: ma,
            release: aa.release,
            destroy: na,
            focus: ca.watchKeys,
            getBounds: function() {
                return [ E * T, F * U ];
            },
            getWidgetSize: function() {
                return [ E, F ];
            },
            getScaleFactor: function() {
                return [ T, U ];
            },
            getOptions: function() {
                return d;
            },
            ui: {
                holder: G,
                selection: K
            }
        };
        if (g) G.bind("selectstart", function() {
            return false;
        });
        A.data("Jcrop", ra);
        return ra;
    };
    a.fn.Jcrop = function(b, c) {
        var d;
        this.each(function() {
            if (a(this).data("Jcrop")) {
                if (b === "api") return a(this).data("Jcrop"); else a(this).data("Jcrop").setOptions(b);
            } else {
                if (this.tagName == "IMG") a.Jcrop.Loader(this, function() {
                    a(this).css({
                        display: "block",
                        visibility: "hidden"
                    });
                    d = a.Jcrop(this, b);
                    if (a.isFunction(c)) c.call(d);
                }); else {
                    a(this).css({
                        display: "block",
                        visibility: "hidden"
                    });
                    d = a.Jcrop(this, b);
                    if (a.isFunction(c)) c.call(d);
                }
            }
        });
        return this;
    };
    a.Jcrop.Loader = function(b, c, d) {
        var e = a(b), f = e[0];
        function g() {
            if (f.complete) {
                e.unbind(".jcloader");
                if (a.isFunction(c)) c.call(f);
            } else window.setTimeout(g, 50);
        }
        e.bind("load.jcloader", g).bind("error.jcloader", function(b) {
            e.unbind(".jcloader");
            if (a.isFunction(d)) d.call(f);
        });
        if (f.complete && a.isFunction(c)) {
            e.unbind(".jcloader");
            c.call(f);
        }
    };
    a.Jcrop.defaults = {
        allowSelect: true,
        allowMove: true,
        allowResize: true,
        trackDocument: true,
        baseClass: "jcrop",
        addClass: null,
        bgColor: "black",
        bgOpacity: .6,
        bgFade: false,
        borderOpacity: .4,
        handleOpacity: .5,
        handleSize: null,
        aspectRatio: 0,
        keySupport: true,
        createHandles: [ "n", "s", "e", "w", "nw", "ne", "se", "sw" ],
        createDragbars: [ "n", "s", "e", "w" ],
        createBorders: [ "n", "s", "e", "w" ],
        drawBorders: true,
        dragEdges: true,
        fixedSupport: true,
        touchSupport: null,
        shade: null,
        boxWidth: 0,
        boxHeight: 0,
        boundary: 2,
        fadeTime: 400,
        animationDelay: 20,
        swingSpeed: 3,
        minSelect: [ 0, 0 ],
        maxSize: [ 0, 0 ],
        minSize: [ 0, 0 ],
        onChange: function() {},
        onSelect: function() {},
        onDblClick: function() {},
        onRelease: function() {}
    };
})(jQuery);

(function(a, b) {
    typeof exports === "object" && typeof module !== "undefined" ? module.exports = b() : typeof define === "function" && define.amd ? define(b) : a.moment = b();
})(this, function() {
    "use strict";
    var a;
    function b() {
        return a.apply(null, arguments);
    }
    function c(b) {
        a = b;
    }
    function d(a) {
        return Object.prototype.toString.call(a) === "[object Array]";
    }
    function e(a) {
        return a instanceof Date || Object.prototype.toString.call(a) === "[object Date]";
    }
    function f(a, b) {
        var c = [], d;
        for (d = 0; d < a.length; ++d) {
            c.push(b(a[d], d));
        }
        return c;
    }
    function g(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }
    function h(a, b) {
        for (var c in b) {
            if (g(b, c)) {
                a[c] = b[c];
            }
        }
        if (g(b, "toString")) {
            a.toString = b.toString;
        }
        if (g(b, "valueOf")) {
            a.valueOf = b.valueOf;
        }
        return a;
    }
    function i(a, b, c, d) {
        return Ab(a, b, c, d, true).utc();
    }
    function j() {
        return {
            empty: false,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: false,
            invalidMonth: null,
            invalidFormat: false,
            userInvalidated: false,
            iso: false
        };
    }
    function k(a) {
        if (a._pf == null) {
            a._pf = j();
        }
        return a._pf;
    }
    function l(a) {
        if (a._isValid == null) {
            var b = k(a);
            a._isValid = !isNaN(a._d.getTime()) && b.overflow < 0 && !b.empty && !b.invalidMonth && !b.invalidWeekday && !b.nullInput && !b.invalidFormat && !b.userInvalidated;
            if (a._strict) {
                a._isValid = a._isValid && b.charsLeftOver === 0 && b.unusedTokens.length === 0 && b.bigHour === undefined;
            }
        }
        return a._isValid;
    }
    function m(a) {
        var b = i(NaN);
        if (a != null) {
            h(k(b), a);
        } else {
            k(b).userInvalidated = true;
        }
        return b;
    }
    function n(a) {
        return a === void 0;
    }
    var o = b.momentProperties = [];
    function p(a, b) {
        var c, d, e;
        if (!n(b._isAMomentObject)) {
            a._isAMomentObject = b._isAMomentObject;
        }
        if (!n(b._i)) {
            a._i = b._i;
        }
        if (!n(b._f)) {
            a._f = b._f;
        }
        if (!n(b._l)) {
            a._l = b._l;
        }
        if (!n(b._strict)) {
            a._strict = b._strict;
        }
        if (!n(b._tzm)) {
            a._tzm = b._tzm;
        }
        if (!n(b._isUTC)) {
            a._isUTC = b._isUTC;
        }
        if (!n(b._offset)) {
            a._offset = b._offset;
        }
        if (!n(b._pf)) {
            a._pf = k(b);
        }
        if (!n(b._locale)) {
            a._locale = b._locale;
        }
        if (o.length > 0) {
            for (c in o) {
                d = o[c];
                e = b[d];
                if (!n(e)) {
                    a[d] = e;
                }
            }
        }
        return a;
    }
    var q = false;
    function r(a) {
        p(this, a);
        this._d = new Date(a._d != null ? a._d.getTime() : NaN);
        if (q === false) {
            q = true;
            b.updateOffset(this);
            q = false;
        }
    }
    function s(a) {
        return a instanceof r || a != null && a._isAMomentObject != null;
    }
    function t(a) {
        if (a < 0) {
            return Math.ceil(a);
        } else {
            return Math.floor(a);
        }
    }
    function u(a) {
        var b = +a, c = 0;
        if (b !== 0 && isFinite(b)) {
            c = t(b);
        }
        return c;
    }
    function v(a, b, c) {
        var d = Math.min(a.length, b.length), e = Math.abs(a.length - b.length), f = 0, g;
        for (g = 0; g < d; g++) {
            if (c && a[g] !== b[g] || !c && u(a[g]) !== u(b[g])) {
                f++;
            }
        }
        return f + e;
    }
    function w() {}
    var x = {};
    var y;
    function z(a) {
        return a ? a.toLowerCase().replace("_", "-") : a;
    }
    function A(a) {
        var b = 0, c, d, e, f;
        while (b < a.length) {
            f = z(a[b]).split("-");
            c = f.length;
            d = z(a[b + 1]);
            d = d ? d.split("-") : null;
            while (c > 0) {
                e = B(f.slice(0, c).join("-"));
                if (e) {
                    return e;
                }
                if (d && d.length >= c && v(f, d, true) >= c - 1) {
                    break;
                }
                c--;
            }
            b++;
        }
        return null;
    }
    function B(a) {
        var b = null;
        if (!x[a] && typeof module !== "undefined" && module && module.exports) {
            try {
                b = y._abbr;
                require("./locale/" + a);
                C(b);
            } catch (c) {}
        }
        return x[a];
    }
    function C(a, b) {
        var c;
        if (a) {
            if (n(b)) {
                c = E(a);
            } else {
                c = D(a, b);
            }
            if (c) {
                y = c;
            }
        }
        return y._abbr;
    }
    function D(a, b) {
        if (b !== null) {
            b.abbr = a;
            x[a] = x[a] || new w();
            x[a].set(b);
            C(a);
            return x[a];
        } else {
            delete x[a];
            return null;
        }
    }
    function E(a) {
        var b;
        if (a && a._locale && a._locale._abbr) {
            a = a._locale._abbr;
        }
        if (!a) {
            return y;
        }
        if (!d(a)) {
            b = B(a);
            if (b) {
                return b;
            }
            a = [ a ];
        }
        return A(a);
    }
    var F = {};
    function G(a, b) {
        var c = a.toLowerCase();
        F[c] = F[c + "s"] = F[b] = a;
    }
    function H(a) {
        return typeof a === "string" ? F[a] || F[a.toLowerCase()] : undefined;
    }
    function I(a) {
        var b = {}, c, d;
        for (d in a) {
            if (g(a, d)) {
                c = H(d);
                if (c) {
                    b[c] = a[d];
                }
            }
        }
        return b;
    }
    function J(a) {
        return a instanceof Function || Object.prototype.toString.call(a) === "[object Function]";
    }
    function K(a, c) {
        return function(d) {
            if (d != null) {
                M(this, a, d);
                b.updateOffset(this, c);
                return this;
            } else {
                return L(this, a);
            }
        };
    }
    function L(a, b) {
        return a.isValid() ? a._d["get" + (a._isUTC ? "UTC" : "") + b]() : NaN;
    }
    function M(a, b, c) {
        if (a.isValid()) {
            a._d["set" + (a._isUTC ? "UTC" : "") + b](c);
        }
    }
    function N(a, b) {
        var c;
        if (typeof a === "object") {
            for (c in a) {
                this.set(c, a[c]);
            }
        } else {
            a = H(a);
            if (J(this[a])) {
                return this[a](b);
            }
        }
        return this;
    }
    function O(a, b, c) {
        var d = "" + Math.abs(a), e = b - d.length, f = a >= 0;
        return (f ? c ? "+" : "" : "-") + Math.pow(10, Math.max(0, e)).toString().substr(1) + d;
    }
    var P = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;
    var Q = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;
    var R = {};
    var S = {};
    function T(a, b, c, d) {
        var e = d;
        if (typeof d === "string") {
            e = function() {
                return this[d]();
            };
        }
        if (a) {
            S[a] = e;
        }
        if (b) {
            S[b[0]] = function() {
                return O(e.apply(this, arguments), b[1], b[2]);
            };
        }
        if (c) {
            S[c] = function() {
                return this.localeData().ordinal(e.apply(this, arguments), a);
            };
        }
    }
    function U(a) {
        if (a.match(/\[[\s\S]/)) {
            return a.replace(/^\[|\]$/g, "");
        }
        return a.replace(/\\/g, "");
    }
    function V(a) {
        var b = a.match(P), c, d;
        for (c = 0, d = b.length; c < d; c++) {
            if (S[b[c]]) {
                b[c] = S[b[c]];
            } else {
                b[c] = U(b[c]);
            }
        }
        return function(e) {
            var f = "";
            for (c = 0; c < d; c++) {
                f += b[c] instanceof Function ? b[c].call(e, a) : b[c];
            }
            return f;
        };
    }
    function W(a, b) {
        if (!a.isValid()) {
            return a.localeData().invalidDate();
        }
        b = X(b, a.localeData());
        R[b] = R[b] || V(b);
        return R[b](a);
    }
    function X(a, b) {
        var c = 5;
        function d(a) {
            return b.longDateFormat(a) || a;
        }
        Q.lastIndex = 0;
        while (c >= 0 && Q.test(a)) {
            a = a.replace(Q, d);
            Q.lastIndex = 0;
            c -= 1;
        }
        return a;
    }
    var Y = /\d/;
    var Z = /\d\d/;
    var $ = /\d{3}/;
    var _ = /\d{4}/;
    var aa = /[+-]?\d{6}/;
    var ba = /\d\d?/;
    var ca = /\d\d\d\d?/;
    var da = /\d\d\d\d\d\d?/;
    var ea = /\d{1,3}/;
    var fa = /\d{1,4}/;
    var ga = /[+-]?\d{1,6}/;
    var ha = /\d+/;
    var ia = /[+-]?\d+/;
    var ja = /Z|[+-]\d\d:?\d\d/gi;
    var ka = /Z|[+-]\d\d(?::?\d\d)?/gi;
    var la = /[+-]?\d+(\.\d{1,3})?/;
    var ma = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;
    var na = {};
    function oa(a, b, c) {
        na[a] = J(b) ? b : function(a, d) {
            return a && c ? c : b;
        };
    }
    function pa(a, b) {
        if (!g(na, a)) {
            return new RegExp(qa(a));
        }
        return na[a](b._strict, b._locale);
    }
    function qa(a) {
        return ra(a.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(a, b, c, d, e) {
            return b || c || d || e;
        }));
    }
    function ra(a) {
        return a.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
    }
    var sa = {};
    function ta(a, b) {
        var c, d = b;
        if (typeof a === "string") {
            a = [ a ];
        }
        if (typeof b === "number") {
            d = function(a, c) {
                c[b] = u(a);
            };
        }
        for (c = 0; c < a.length; c++) {
            sa[a[c]] = d;
        }
    }
    function ua(a, b) {
        ta(a, function(a, c, d, e) {
            d._w = d._w || {};
            b(a, d._w, d, e);
        });
    }
    function va(a, b, c) {
        if (b != null && g(sa, a)) {
            sa[a](b, c._a, c, a);
        }
    }
    var wa = 0;
    var xa = 1;
    var ya = 2;
    var za = 3;
    var Aa = 4;
    var Ba = 5;
    var Ca = 6;
    var Da = 7;
    var Ea = 8;
    function Fa(a, b) {
        return new Date(Date.UTC(a, b + 1, 0)).getUTCDate();
    }
    T("M", [ "MM", 2 ], "Mo", function() {
        return this.month() + 1;
    });
    T("MMM", 0, 0, function(a) {
        return this.localeData().monthsShort(this, a);
    });
    T("MMMM", 0, 0, function(a) {
        return this.localeData().months(this, a);
    });
    G("month", "M");
    oa("M", ba);
    oa("MM", ba, Z);
    oa("MMM", function(a, b) {
        return b.monthsShortRegex(a);
    });
    oa("MMMM", function(a, b) {
        return b.monthsRegex(a);
    });
    ta([ "M", "MM" ], function(a, b) {
        b[xa] = u(a) - 1;
    });
    ta([ "MMM", "MMMM" ], function(a, b, c, d) {
        var e = c._locale.monthsParse(a, d, c._strict);
        if (e != null) {
            b[xa] = e;
        } else {
            k(c).invalidMonth = a;
        }
    });
    var Ga = /D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/;
    var Ha = "January_February_March_April_May_June_July_August_September_October_November_December".split("_");
    function Ia(a, b) {
        return d(this._months) ? this._months[a.month()] : this._months[Ga.test(b) ? "format" : "standalone"][a.month()];
    }
    var Ja = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");
    function Ka(a, b) {
        return d(this._monthsShort) ? this._monthsShort[a.month()] : this._monthsShort[Ga.test(b) ? "format" : "standalone"][a.month()];
    }
    function La(a, b, c) {
        var d, e, f;
        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
        }
        for (d = 0; d < 12; d++) {
            e = i([ 2e3, d ]);
            if (c && !this._longMonthsParse[d]) {
                this._longMonthsParse[d] = new RegExp("^" + this.months(e, "").replace(".", "") + "$", "i");
                this._shortMonthsParse[d] = new RegExp("^" + this.monthsShort(e, "").replace(".", "") + "$", "i");
            }
            if (!c && !this._monthsParse[d]) {
                f = "^" + this.months(e, "") + "|^" + this.monthsShort(e, "");
                this._monthsParse[d] = new RegExp(f.replace(".", ""), "i");
            }
            if (c && b === "MMMM" && this._longMonthsParse[d].test(a)) {
                return d;
            } else if (c && b === "MMM" && this._shortMonthsParse[d].test(a)) {
                return d;
            } else if (!c && this._monthsParse[d].test(a)) {
                return d;
            }
        }
    }
    function Ma(a, b) {
        var c;
        if (!a.isValid()) {
            return a;
        }
        if (typeof b === "string") {
            b = a.localeData().monthsParse(b);
            if (typeof b !== "number") {
                return a;
            }
        }
        c = Math.min(a.date(), Fa(a.year(), b));
        a._d["set" + (a._isUTC ? "UTC" : "") + "Month"](b, c);
        return a;
    }
    function Na(a) {
        if (a != null) {
            Ma(this, a);
            b.updateOffset(this, true);
            return this;
        } else {
            return L(this, "Month");
        }
    }
    function Oa() {
        return Fa(this.year(), this.month());
    }
    var Pa = ma;
    function Qa(a) {
        if (this._monthsParseExact) {
            if (!g(this, "_monthsRegex")) {
                Ta.call(this);
            }
            if (a) {
                return this._monthsShortStrictRegex;
            } else {
                return this._monthsShortRegex;
            }
        } else {
            return this._monthsShortStrictRegex && a ? this._monthsShortStrictRegex : this._monthsShortRegex;
        }
    }
    var Ra = ma;
    function Sa(a) {
        if (this._monthsParseExact) {
            if (!g(this, "_monthsRegex")) {
                Ta.call(this);
            }
            if (a) {
                return this._monthsStrictRegex;
            } else {
                return this._monthsRegex;
            }
        } else {
            return this._monthsStrictRegex && a ? this._monthsStrictRegex : this._monthsRegex;
        }
    }
    function Ta() {
        function a(a, b) {
            return b.length - a.length;
        }
        var b = [], c = [], d = [], e, f;
        for (e = 0; e < 12; e++) {
            f = i([ 2e3, e ]);
            b.push(this.monthsShort(f, ""));
            c.push(this.months(f, ""));
            d.push(this.months(f, ""));
            d.push(this.monthsShort(f, ""));
        }
        b.sort(a);
        c.sort(a);
        d.sort(a);
        for (e = 0; e < 12; e++) {
            b[e] = ra(b[e]);
            c[e] = ra(c[e]);
            d[e] = ra(d[e]);
        }
        this._monthsRegex = new RegExp("^(" + d.join("|") + ")", "i");
        this._monthsShortRegex = this._monthsRegex;
        this._monthsStrictRegex = new RegExp("^(" + c.join("|") + ")$", "i");
        this._monthsShortStrictRegex = new RegExp("^(" + b.join("|") + ")$", "i");
    }
    function Ua(a) {
        var b;
        var c = a._a;
        if (c && k(a).overflow === -2) {
            b = c[xa] < 0 || c[xa] > 11 ? xa : c[ya] < 1 || c[ya] > Fa(c[wa], c[xa]) ? ya : c[za] < 0 || c[za] > 24 || c[za] === 24 && (c[Aa] !== 0 || c[Ba] !== 0 || c[Ca] !== 0) ? za : c[Aa] < 0 || c[Aa] > 59 ? Aa : c[Ba] < 0 || c[Ba] > 59 ? Ba : c[Ca] < 0 || c[Ca] > 999 ? Ca : -1;
            if (k(a)._overflowDayOfYear && (b < wa || b > ya)) {
                b = ya;
            }
            if (k(a)._overflowWeeks && b === -1) {
                b = Da;
            }
            if (k(a)._overflowWeekday && b === -1) {
                b = Ea;
            }
            k(a).overflow = b;
        }
        return a;
    }
    function Va(a) {
        if (b.suppressDeprecationWarnings === false && typeof console !== "undefined" && console.warn) {
            console.warn("Deprecation warning: " + a);
        }
    }
    function Wa(a, b) {
        var c = true;
        return h(function() {
            if (c) {
                Va(a + "\nArguments: " + Array.prototype.slice.call(arguments).join(", ") + "\n" + new Error().stack);
                c = false;
            }
            return b.apply(this, arguments);
        }, b);
    }
    var Xa = {};
    function Ya(a, b) {
        if (!Xa[a]) {
            Va(b);
            Xa[a] = true;
        }
    }
    b.suppressDeprecationWarnings = false;
    var Za = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;
    var $a = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;
    var _a = /Z|[+-]\d\d(?::?\d\d)?/;
    var ab = [ [ "YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/ ], [ "YYYY-MM-DD", /\d{4}-\d\d-\d\d/ ], [ "GGGG-[W]WW-E", /\d{4}-W\d\d-\d/ ], [ "GGGG-[W]WW", /\d{4}-W\d\d/, false ], [ "YYYY-DDD", /\d{4}-\d{3}/ ], [ "YYYY-MM", /\d{4}-\d\d/, false ], [ "YYYYYYMMDD", /[+-]\d{10}/ ], [ "YYYYMMDD", /\d{8}/ ], [ "GGGG[W]WWE", /\d{4}W\d{3}/ ], [ "GGGG[W]WW", /\d{4}W\d{2}/, false ], [ "YYYYDDD", /\d{7}/ ] ];
    var bb = [ [ "HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/ ], [ "HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/ ], [ "HH:mm:ss", /\d\d:\d\d:\d\d/ ], [ "HH:mm", /\d\d:\d\d/ ], [ "HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/ ], [ "HHmmss,SSSS", /\d\d\d\d\d\d,\d+/ ], [ "HHmmss", /\d\d\d\d\d\d/ ], [ "HHmm", /\d\d\d\d/ ], [ "HH", /\d\d/ ] ];
    var cb = /^\/?Date\((\-?\d+)/i;
    function db(a) {
        var b, c, d = a._i, e = Za.exec(d) || $a.exec(d), f, g, h, i;
        if (e) {
            k(a).iso = true;
            for (b = 0, c = ab.length; b < c; b++) {
                if (ab[b][1].exec(e[1])) {
                    g = ab[b][0];
                    f = ab[b][2] !== false;
                    break;
                }
            }
            if (g == null) {
                a._isValid = false;
                return;
            }
            if (e[3]) {
                for (b = 0, c = bb.length; b < c; b++) {
                    if (bb[b][1].exec(e[3])) {
                        h = (e[2] || " ") + bb[b][0];
                        break;
                    }
                }
                if (h == null) {
                    a._isValid = false;
                    return;
                }
            }
            if (!f && h != null) {
                a._isValid = false;
                return;
            }
            if (e[4]) {
                if (_a.exec(e[4])) {
                    i = "Z";
                } else {
                    a._isValid = false;
                    return;
                }
            }
            a._f = g + (h || "") + (i || "");
            tb(a);
        } else {
            a._isValid = false;
        }
    }
    function eb(a) {
        var c = cb.exec(a._i);
        if (c !== null) {
            a._d = new Date(+c[1]);
            return;
        }
        db(a);
        if (a._isValid === false) {
            delete a._isValid;
            b.createFromInputFallback(a);
        }
    }
    b.createFromInputFallback = Wa("moment construction falls back to js Date. This is " + "discouraged and will be removed in upcoming major " + "release. Please refer to " + "https://github.com/moment/moment/issues/1407 for more info.", function(a) {
        a._d = new Date(a._i + (a._useUTC ? " UTC" : ""));
    });
    function fb(a, b, c, d, e, f, g) {
        var h = new Date(a, b, c, d, e, f, g);
        if (a < 100 && a >= 0 && isFinite(h.getFullYear())) {
            h.setFullYear(a);
        }
        return h;
    }
    function gb(a) {
        var b = new Date(Date.UTC.apply(null, arguments));
        if (a < 100 && a >= 0 && isFinite(b.getUTCFullYear())) {
            b.setUTCFullYear(a);
        }
        return b;
    }
    T("Y", 0, 0, function() {
        var a = this.year();
        return a <= 9999 ? "" + a : "+" + a;
    });
    T(0, [ "YY", 2 ], 0, function() {
        return this.year() % 100;
    });
    T(0, [ "YYYY", 4 ], 0, "year");
    T(0, [ "YYYYY", 5 ], 0, "year");
    T(0, [ "YYYYYY", 6, true ], 0, "year");
    G("year", "y");
    oa("Y", ia);
    oa("YY", ba, Z);
    oa("YYYY", fa, _);
    oa("YYYYY", ga, aa);
    oa("YYYYYY", ga, aa);
    ta([ "YYYYY", "YYYYYY" ], wa);
    ta("YYYY", function(a, c) {
        c[wa] = a.length === 2 ? b.parseTwoDigitYear(a) : u(a);
    });
    ta("YY", function(a, c) {
        c[wa] = b.parseTwoDigitYear(a);
    });
    ta("Y", function(a, b) {
        b[wa] = parseInt(a, 10);
    });
    function hb(a) {
        return ib(a) ? 366 : 365;
    }
    function ib(a) {
        return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0;
    }
    b.parseTwoDigitYear = function(a) {
        return u(a) + (u(a) > 68 ? 1900 : 2e3);
    };
    var jb = K("FullYear", false);
    function kb() {
        return ib(this.year());
    }
    function lb(a, b, c) {
        var d = 7 + b - c, e = (7 + gb(a, 0, d).getUTCDay() - b) % 7;
        return -e + d - 1;
    }
    function mb(a, b, c, d, e) {
        var f = (7 + c - d) % 7, g = lb(a, d, e), h = 1 + 7 * (b - 1) + f + g, i, j;
        if (h <= 0) {
            i = a - 1;
            j = hb(i) + h;
        } else if (h > hb(a)) {
            i = a + 1;
            j = h - hb(a);
        } else {
            i = a;
            j = h;
        }
        return {
            year: i,
            dayOfYear: j
        };
    }
    function nb(a, b, c) {
        var d = lb(a.year(), b, c), e = Math.floor((a.dayOfYear() - d - 1) / 7) + 1, f, g;
        if (e < 1) {
            g = a.year() - 1;
            f = e + ob(g, b, c);
        } else if (e > ob(a.year(), b, c)) {
            f = e - ob(a.year(), b, c);
            g = a.year() + 1;
        } else {
            g = a.year();
            f = e;
        }
        return {
            week: f,
            year: g
        };
    }
    function ob(a, b, c) {
        var d = lb(a, b, c), e = lb(a + 1, b, c);
        return (hb(a) - d + e) / 7;
    }
    function pb(a, b, c) {
        if (a != null) {
            return a;
        }
        if (b != null) {
            return b;
        }
        return c;
    }
    function qb(a) {
        var c = new Date(b.now());
        if (a._useUTC) {
            return [ c.getUTCFullYear(), c.getUTCMonth(), c.getUTCDate() ];
        }
        return [ c.getFullYear(), c.getMonth(), c.getDate() ];
    }
    function rb(a) {
        var b, c, d = [], e, f;
        if (a._d) {
            return;
        }
        e = qb(a);
        if (a._w && a._a[ya] == null && a._a[xa] == null) {
            sb(a);
        }
        if (a._dayOfYear) {
            f = pb(a._a[wa], e[wa]);
            if (a._dayOfYear > hb(f)) {
                k(a)._overflowDayOfYear = true;
            }
            c = gb(f, 0, a._dayOfYear);
            a._a[xa] = c.getUTCMonth();
            a._a[ya] = c.getUTCDate();
        }
        for (b = 0; b < 3 && a._a[b] == null; ++b) {
            a._a[b] = d[b] = e[b];
        }
        for (;b < 7; b++) {
            a._a[b] = d[b] = a._a[b] == null ? b === 2 ? 1 : 0 : a._a[b];
        }
        if (a._a[za] === 24 && a._a[Aa] === 0 && a._a[Ba] === 0 && a._a[Ca] === 0) {
            a._nextDay = true;
            a._a[za] = 0;
        }
        a._d = (a._useUTC ? gb : fb).apply(null, d);
        if (a._tzm != null) {
            a._d.setUTCMinutes(a._d.getUTCMinutes() - a._tzm);
        }
        if (a._nextDay) {
            a._a[za] = 24;
        }
    }
    function sb(a) {
        var b, c, d, e, f, g, h, i;
        b = a._w;
        if (b.GG != null || b.W != null || b.E != null) {
            f = 1;
            g = 4;
            c = pb(b.GG, a._a[wa], nb(Bb(), 1, 4).year);
            d = pb(b.W, 1);
            e = pb(b.E, 1);
            if (e < 1 || e > 7) {
                i = true;
            }
        } else {
            f = a._locale._week.dow;
            g = a._locale._week.doy;
            c = pb(b.gg, a._a[wa], nb(Bb(), f, g).year);
            d = pb(b.w, 1);
            if (b.d != null) {
                e = b.d;
                if (e < 0 || e > 6) {
                    i = true;
                }
            } else if (b.e != null) {
                e = b.e + f;
                if (b.e < 0 || b.e > 6) {
                    i = true;
                }
            } else {
                e = f;
            }
        }
        if (d < 1 || d > ob(c, f, g)) {
            k(a)._overflowWeeks = true;
        } else if (i != null) {
            k(a)._overflowWeekday = true;
        } else {
            h = mb(c, d, e, f, g);
            a._a[wa] = h.year;
            a._dayOfYear = h.dayOfYear;
        }
    }
    b.ISO_8601 = function() {};
    function tb(a) {
        if (a._f === b.ISO_8601) {
            db(a);
            return;
        }
        a._a = [];
        k(a).empty = true;
        var c = "" + a._i, d, e, f, g, h, i = c.length, j = 0;
        f = X(a._f, a._locale).match(P) || [];
        for (d = 0; d < f.length; d++) {
            g = f[d];
            e = (c.match(pa(g, a)) || [])[0];
            if (e) {
                h = c.substr(0, c.indexOf(e));
                if (h.length > 0) {
                    k(a).unusedInput.push(h);
                }
                c = c.slice(c.indexOf(e) + e.length);
                j += e.length;
            }
            if (S[g]) {
                if (e) {
                    k(a).empty = false;
                } else {
                    k(a).unusedTokens.push(g);
                }
                va(g, e, a);
            } else if (a._strict && !e) {
                k(a).unusedTokens.push(g);
            }
        }
        k(a).charsLeftOver = i - j;
        if (c.length > 0) {
            k(a).unusedInput.push(c);
        }
        if (k(a).bigHour === true && a._a[za] <= 12 && a._a[za] > 0) {
            k(a).bigHour = undefined;
        }
        a._a[za] = ub(a._locale, a._a[za], a._meridiem);
        rb(a);
        Ua(a);
    }
    function ub(a, b, c) {
        var d;
        if (c == null) {
            return b;
        }
        if (a.meridiemHour != null) {
            return a.meridiemHour(b, c);
        } else if (a.isPM != null) {
            d = a.isPM(c);
            if (d && b < 12) {
                b += 12;
            }
            if (!d && b === 12) {
                b = 0;
            }
            return b;
        } else {
            return b;
        }
    }
    function vb(a) {
        var b, c, d, e, f;
        if (a._f.length === 0) {
            k(a).invalidFormat = true;
            a._d = new Date(NaN);
            return;
        }
        for (e = 0; e < a._f.length; e++) {
            f = 0;
            b = p({}, a);
            if (a._useUTC != null) {
                b._useUTC = a._useUTC;
            }
            b._f = a._f[e];
            tb(b);
            if (!l(b)) {
                continue;
            }
            f += k(b).charsLeftOver;
            f += k(b).unusedTokens.length * 10;
            k(b).score = f;
            if (d == null || f < d) {
                d = f;
                c = b;
            }
        }
        h(a, c || b);
    }
    function wb(a) {
        if (a._d) {
            return;
        }
        var b = I(a._i);
        a._a = f([ b.year, b.month, b.day || b.date, b.hour, b.minute, b.second, b.millisecond ], function(a) {
            return a && parseInt(a, 10);
        });
        rb(a);
    }
    function xb(a) {
        var b = new r(Ua(yb(a)));
        if (b._nextDay) {
            b.add(1, "d");
            b._nextDay = undefined;
        }
        return b;
    }
    function yb(a) {
        var b = a._i, c = a._f;
        a._locale = a._locale || E(a._l);
        if (b === null || c === undefined && b === "") {
            return m({
                nullInput: true
            });
        }
        if (typeof b === "string") {
            a._i = b = a._locale.preparse(b);
        }
        if (s(b)) {
            return new r(Ua(b));
        } else if (d(c)) {
            vb(a);
        } else if (c) {
            tb(a);
        } else if (e(b)) {
            a._d = b;
        } else {
            zb(a);
        }
        if (!l(a)) {
            a._d = null;
        }
        return a;
    }
    function zb(a) {
        var c = a._i;
        if (c === undefined) {
            a._d = new Date(b.now());
        } else if (e(c)) {
            a._d = new Date(+c);
        } else if (typeof c === "string") {
            eb(a);
        } else if (d(c)) {
            a._a = f(c.slice(0), function(a) {
                return parseInt(a, 10);
            });
            rb(a);
        } else if (typeof c === "object") {
            wb(a);
        } else if (typeof c === "number") {
            a._d = new Date(c);
        } else {
            b.createFromInputFallback(a);
        }
    }
    function Ab(a, b, c, d, e) {
        var f = {};
        if (typeof c === "boolean") {
            d = c;
            c = undefined;
        }
        f._isAMomentObject = true;
        f._useUTC = f._isUTC = e;
        f._l = c;
        f._i = a;
        f._f = b;
        f._strict = d;
        return xb(f);
    }
    function Bb(a, b, c, d) {
        return Ab(a, b, c, d, false);
    }
    var Cb = Wa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function() {
        var a = Bb.apply(null, arguments);
        if (this.isValid() && a.isValid()) {
            return a < this ? this : a;
        } else {
            return m();
        }
    });
    var Db = Wa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548", function() {
        var a = Bb.apply(null, arguments);
        if (this.isValid() && a.isValid()) {
            return a > this ? this : a;
        } else {
            return m();
        }
    });
    function Eb(a, b) {
        var c, e;
        if (b.length === 1 && d(b[0])) {
            b = b[0];
        }
        if (!b.length) {
            return Bb();
        }
        c = b[0];
        for (e = 1; e < b.length; ++e) {
            if (!b[e].isValid() || b[e][a](c)) {
                c = b[e];
            }
        }
        return c;
    }
    function Fb() {
        var a = [].slice.call(arguments, 0);
        return Eb("isBefore", a);
    }
    function Gb() {
        var a = [].slice.call(arguments, 0);
        return Eb("isAfter", a);
    }
    var Hb = function() {
        return Date.now ? Date.now() : +new Date();
    };
    function Ib(a) {
        var b = I(a), c = b.year || 0, d = b.quarter || 0, e = b.month || 0, f = b.week || 0, g = b.day || 0, h = b.hour || 0, i = b.minute || 0, j = b.second || 0, k = b.millisecond || 0;
        this._milliseconds = +k + j * 1e3 + i * 6e4 + h * 36e5;
        this._days = +g + f * 7;
        this._months = +e + d * 3 + c * 12;
        this._data = {};
        this._locale = E();
        this._bubble();
    }
    function Jb(a) {
        return a instanceof Ib;
    }
    function Kb(a, b) {
        T(a, 0, 0, function() {
            var a = this.utcOffset();
            var c = "+";
            if (a < 0) {
                a = -a;
                c = "-";
            }
            return c + O(~~(a / 60), 2) + b + O(~~a % 60, 2);
        });
    }
    Kb("Z", ":");
    Kb("ZZ", "");
    oa("Z", ka);
    oa("ZZ", ka);
    ta([ "Z", "ZZ" ], function(a, b, c) {
        c._useUTC = true;
        c._tzm = Mb(ka, a);
    });
    var Lb = /([\+\-]|\d\d)/gi;
    function Mb(a, b) {
        var c = (b || "").match(a) || [];
        var d = c[c.length - 1] || [];
        var e = (d + "").match(Lb) || [ "-", 0, 0 ];
        var f = +(e[1] * 60) + u(e[2]);
        return e[0] === "+" ? f : -f;
    }
    function Nb(a, c) {
        var d, f;
        if (c._isUTC) {
            d = c.clone();
            f = (s(a) || e(a) ? +a : +Bb(a)) - +d;
            d._d.setTime(+d._d + f);
            b.updateOffset(d, false);
            return d;
        } else {
            return Bb(a).local();
        }
    }
    function Ob(a) {
        return -Math.round(a._d.getTimezoneOffset() / 15) * 15;
    }
    b.updateOffset = function() {};
    function Pb(a, c) {
        var d = this._offset || 0, e;
        if (!this.isValid()) {
            return a != null ? this : NaN;
        }
        if (a != null) {
            if (typeof a === "string") {
                a = Mb(ka, a);
            } else if (Math.abs(a) < 16) {
                a = a * 60;
            }
            if (!this._isUTC && c) {
                e = Ob(this);
            }
            this._offset = a;
            this._isUTC = true;
            if (e != null) {
                this.add(e, "m");
            }
            if (d !== a) {
                if (!c || this._changeInProgress) {
                    fc(this, ac(a - d, "m"), 1, false);
                } else if (!this._changeInProgress) {
                    this._changeInProgress = true;
                    b.updateOffset(this, true);
                    this._changeInProgress = null;
                }
            }
            return this;
        } else {
            return this._isUTC ? d : Ob(this);
        }
    }
    function Qb(a, b) {
        if (a != null) {
            if (typeof a !== "string") {
                a = -a;
            }
            this.utcOffset(a, b);
            return this;
        } else {
            return -this.utcOffset();
        }
    }
    function Rb(a) {
        return this.utcOffset(0, a);
    }
    function Sb(a) {
        if (this._isUTC) {
            this.utcOffset(0, a);
            this._isUTC = false;
            if (a) {
                this.subtract(Ob(this), "m");
            }
        }
        return this;
    }
    function Tb() {
        if (this._tzm) {
            this.utcOffset(this._tzm);
        } else if (typeof this._i === "string") {
            this.utcOffset(Mb(ja, this._i));
        }
        return this;
    }
    function Ub(a) {
        if (!this.isValid()) {
            return false;
        }
        a = a ? Bb(a).utcOffset() : 0;
        return (this.utcOffset() - a) % 60 === 0;
    }
    function Vb() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
    }
    function Wb() {
        if (!n(this._isDSTShifted)) {
            return this._isDSTShifted;
        }
        var a = {};
        p(a, this);
        a = yb(a);
        if (a._a) {
            var b = a._isUTC ? i(a._a) : Bb(a._a);
            this._isDSTShifted = this.isValid() && v(a._a, b.toArray()) > 0;
        } else {
            this._isDSTShifted = false;
        }
        return this._isDSTShifted;
    }
    function Xb() {
        return this.isValid() ? !this._isUTC : false;
    }
    function Yb() {
        return this.isValid() ? this._isUTC : false;
    }
    function Zb() {
        return this.isValid() ? this._isUTC && this._offset === 0 : false;
    }
    var $b = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/;
    var _b = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
    function ac(a, b) {
        var c = a, d = null, e, f, h;
        if (Jb(a)) {
            c = {
                ms: a._milliseconds,
                d: a._days,
                M: a._months
            };
        } else if (typeof a === "number") {
            c = {};
            if (b) {
                c[b] = a;
            } else {
                c.milliseconds = a;
            }
        } else if (!!(d = $b.exec(a))) {
            e = d[1] === "-" ? -1 : 1;
            c = {
                y: 0,
                d: u(d[ya]) * e,
                h: u(d[za]) * e,
                m: u(d[Aa]) * e,
                s: u(d[Ba]) * e,
                ms: u(d[Ca]) * e
            };
        } else if (!!(d = _b.exec(a))) {
            e = d[1] === "-" ? -1 : 1;
            c = {
                y: bc(d[2], e),
                M: bc(d[3], e),
                d: bc(d[4], e),
                h: bc(d[5], e),
                m: bc(d[6], e),
                s: bc(d[7], e),
                w: bc(d[8], e)
            };
        } else if (c == null) {
            c = {};
        } else if (typeof c === "object" && ("from" in c || "to" in c)) {
            h = dc(Bb(c.from), Bb(c.to));
            c = {};
            c.ms = h.milliseconds;
            c.M = h.months;
        }
        f = new Ib(c);
        if (Jb(a) && g(a, "_locale")) {
            f._locale = a._locale;
        }
        return f;
    }
    ac.fn = Ib.prototype;
    function bc(a, b) {
        var c = a && parseFloat(a.replace(",", "."));
        return (isNaN(c) ? 0 : c) * b;
    }
    function cc(a, b) {
        var c = {
            milliseconds: 0,
            months: 0
        };
        c.months = b.month() - a.month() + (b.year() - a.year()) * 12;
        if (a.clone().add(c.months, "M").isAfter(b)) {
            --c.months;
        }
        c.milliseconds = +b - +a.clone().add(c.months, "M");
        return c;
    }
    function dc(a, b) {
        var c;
        if (!(a.isValid() && b.isValid())) {
            return {
                milliseconds: 0,
                months: 0
            };
        }
        b = Nb(b, a);
        if (a.isBefore(b)) {
            c = cc(a, b);
        } else {
            c = cc(b, a);
            c.milliseconds = -c.milliseconds;
            c.months = -c.months;
        }
        return c;
    }
    function ec(a, b) {
        return function(c, d) {
            var e, f;
            if (d !== null && !isNaN(+d)) {
                Ya(b, "moment()." + b + "(period, number) is deprecated. Please use moment()." + b + "(number, period).");
                f = c;
                c = d;
                d = f;
            }
            c = typeof c === "string" ? +c : c;
            e = ac(c, d);
            fc(this, e, a);
            return this;
        };
    }
    function fc(a, c, d, e) {
        var f = c._milliseconds, g = c._days, h = c._months;
        if (!a.isValid()) {
            return;
        }
        e = e == null ? true : e;
        if (f) {
            a._d.setTime(+a._d + f * d);
        }
        if (g) {
            M(a, "Date", L(a, "Date") + g * d);
        }
        if (h) {
            Ma(a, L(a, "Month") + h * d);
        }
        if (e) {
            b.updateOffset(a, g || h);
        }
    }
    var gc = ec(1, "add");
    var hc = ec(-1, "subtract");
    function ic(a, b) {
        var c = a || Bb(), d = Nb(c, this).startOf("day"), e = this.diff(d, "days", true), f = e < -6 ? "sameElse" : e < -1 ? "lastWeek" : e < 0 ? "lastDay" : e < 1 ? "sameDay" : e < 2 ? "nextDay" : e < 7 ? "nextWeek" : "sameElse";
        var g = b && (J(b[f]) ? b[f]() : b[f]);
        return this.format(g || this.localeData().calendar(f, this, Bb(c)));
    }
    function jc() {
        return new r(this);
    }
    function kc(a, b) {
        var c = s(a) ? a : Bb(a);
        if (!(this.isValid() && c.isValid())) {
            return false;
        }
        b = H(!n(b) ? b : "millisecond");
        if (b === "millisecond") {
            return +this > +c;
        } else {
            return +c < +this.clone().startOf(b);
        }
    }
    function lc(a, b) {
        var c = s(a) ? a : Bb(a);
        if (!(this.isValid() && c.isValid())) {
            return false;
        }
        b = H(!n(b) ? b : "millisecond");
        if (b === "millisecond") {
            return +this < +c;
        } else {
            return +this.clone().endOf(b) < +c;
        }
    }
    function mc(a, b, c) {
        return this.isAfter(a, c) && this.isBefore(b, c);
    }
    function nc(a, b) {
        var c = s(a) ? a : Bb(a), d;
        if (!(this.isValid() && c.isValid())) {
            return false;
        }
        b = H(b || "millisecond");
        if (b === "millisecond") {
            return +this === +c;
        } else {
            d = +c;
            return +this.clone().startOf(b) <= d && d <= +this.clone().endOf(b);
        }
    }
    function oc(a, b) {
        return this.isSame(a, b) || this.isAfter(a, b);
    }
    function pc(a, b) {
        return this.isSame(a, b) || this.isBefore(a, b);
    }
    function qc(a, b, c) {
        var d, e, f, g;
        if (!this.isValid()) {
            return NaN;
        }
        d = Nb(a, this);
        if (!d.isValid()) {
            return NaN;
        }
        e = (d.utcOffset() - this.utcOffset()) * 6e4;
        b = H(b);
        if (b === "year" || b === "month" || b === "quarter") {
            g = rc(this, d);
            if (b === "quarter") {
                g = g / 3;
            } else if (b === "year") {
                g = g / 12;
            }
        } else {
            f = this - d;
            g = b === "second" ? f / 1e3 : b === "minute" ? f / 6e4 : b === "hour" ? f / 36e5 : b === "day" ? (f - e) / 864e5 : b === "week" ? (f - e) / 6048e5 : f;
        }
        return c ? g : t(g);
    }
    function rc(a, b) {
        var c = (b.year() - a.year()) * 12 + (b.month() - a.month()), d = a.clone().add(c, "months"), e, f;
        if (b - d < 0) {
            e = a.clone().add(c - 1, "months");
            f = (b - d) / (d - e);
        } else {
            e = a.clone().add(c + 1, "months");
            f = (b - d) / (e - d);
        }
        return -(c + f);
    }
    b.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ";
    function sc() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
    }
    function tc() {
        var a = this.clone().utc();
        if (0 < a.year() && a.year() <= 9999) {
            if (J(Date.prototype.toISOString)) {
                return this.toDate().toISOString();
            } else {
                return W(a, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]");
            }
        } else {
            return W(a, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");
        }
    }
    function uc(a) {
        var c = W(this, a || b.defaultFormat);
        return this.localeData().postformat(c);
    }
    function vc(a, b) {
        if (this.isValid() && (s(a) && a.isValid() || Bb(a).isValid())) {
            return ac({
                to: this,
                from: a
            }).locale(this.locale()).humanize(!b);
        } else {
            return this.localeData().invalidDate();
        }
    }
    function wc(a) {
        return this.from(Bb(), a);
    }
    function xc(a, b) {
        if (this.isValid() && (s(a) && a.isValid() || Bb(a).isValid())) {
            return ac({
                from: this,
                to: a
            }).locale(this.locale()).humanize(!b);
        } else {
            return this.localeData().invalidDate();
        }
    }
    function yc(a) {
        return this.to(Bb(), a);
    }
    function zc(a) {
        var b;
        if (a === undefined) {
            return this._locale._abbr;
        } else {
            b = E(a);
            if (b != null) {
                this._locale = b;
            }
            return this;
        }
    }
    var Ac = Wa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(a) {
        if (a === undefined) {
            return this.localeData();
        } else {
            return this.locale(a);
        }
    });
    function Bc() {
        return this._locale;
    }
    function Cc(a) {
        a = H(a);
        switch (a) {
          case "year":
            this.month(0);

          case "quarter":
          case "month":
            this.date(1);

          case "week":
          case "isoWeek":
          case "day":
            this.hours(0);

          case "hour":
            this.minutes(0);

          case "minute":
            this.seconds(0);

          case "second":
            this.milliseconds(0);
        }
        if (a === "week") {
            this.weekday(0);
        }
        if (a === "isoWeek") {
            this.isoWeekday(1);
        }
        if (a === "quarter") {
            this.month(Math.floor(this.month() / 3) * 3);
        }
        return this;
    }
    function Dc(a) {
        a = H(a);
        if (a === undefined || a === "millisecond") {
            return this;
        }
        return this.startOf(a).add(1, a === "isoWeek" ? "week" : a).subtract(1, "ms");
    }
    function Ec() {
        return +this._d - (this._offset || 0) * 6e4;
    }
    function Fc() {
        return Math.floor(+this / 1e3);
    }
    function Gc() {
        return this._offset ? new Date(+this) : this._d;
    }
    function Hc() {
        var a = this;
        return [ a.year(), a.month(), a.date(), a.hour(), a.minute(), a.second(), a.millisecond() ];
    }
    function Ic() {
        var a = this;
        return {
            years: a.year(),
            months: a.month(),
            date: a.date(),
            hours: a.hours(),
            minutes: a.minutes(),
            seconds: a.seconds(),
            milliseconds: a.milliseconds()
        };
    }
    function Jc() {
        return this.isValid() ? this.toISOString() : "null";
    }
    function Kc() {
        return l(this);
    }
    function Lc() {
        return h({}, k(this));
    }
    function Mc() {
        return k(this).overflow;
    }
    function Nc() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict
        };
    }
    T(0, [ "gg", 2 ], 0, function() {
        return this.weekYear() % 100;
    });
    T(0, [ "GG", 2 ], 0, function() {
        return this.isoWeekYear() % 100;
    });
    function Oc(a, b) {
        T(0, [ a, a.length ], 0, b);
    }
    Oc("gggg", "weekYear");
    Oc("ggggg", "weekYear");
    Oc("GGGG", "isoWeekYear");
    Oc("GGGGG", "isoWeekYear");
    G("weekYear", "gg");
    G("isoWeekYear", "GG");
    oa("G", ia);
    oa("g", ia);
    oa("GG", ba, Z);
    oa("gg", ba, Z);
    oa("GGGG", fa, _);
    oa("gggg", fa, _);
    oa("GGGGG", ga, aa);
    oa("ggggg", ga, aa);
    ua([ "gggg", "ggggg", "GGGG", "GGGGG" ], function(a, b, c, d) {
        b[d.substr(0, 2)] = u(a);
    });
    ua([ "gg", "GG" ], function(a, c, d, e) {
        c[e] = b.parseTwoDigitYear(a);
    });
    function Pc(a) {
        return Tc.call(this, a, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy);
    }
    function Qc(a) {
        return Tc.call(this, a, this.isoWeek(), this.isoWeekday(), 1, 4);
    }
    function Rc() {
        return ob(this.year(), 1, 4);
    }
    function Sc() {
        var a = this.localeData()._week;
        return ob(this.year(), a.dow, a.doy);
    }
    function Tc(a, b, c, d, e) {
        var f;
        if (a == null) {
            return nb(this, d, e).year;
        } else {
            f = ob(a, d, e);
            if (b > f) {
                b = f;
            }
            return Uc.call(this, a, b, c, d, e);
        }
    }
    function Uc(a, b, c, d, e) {
        var f = mb(a, b, c, d, e), g = gb(f.year, 0, f.dayOfYear);
        this.year(g.getUTCFullYear());
        this.month(g.getUTCMonth());
        this.date(g.getUTCDate());
        return this;
    }
    T("Q", 0, "Qo", "quarter");
    G("quarter", "Q");
    oa("Q", Y);
    ta("Q", function(a, b) {
        b[xa] = (u(a) - 1) * 3;
    });
    function Vc(a) {
        return a == null ? Math.ceil((this.month() + 1) / 3) : this.month((a - 1) * 3 + this.month() % 3);
    }
    T("w", [ "ww", 2 ], "wo", "week");
    T("W", [ "WW", 2 ], "Wo", "isoWeek");
    G("week", "w");
    G("isoWeek", "W");
    oa("w", ba);
    oa("ww", ba, Z);
    oa("W", ba);
    oa("WW", ba, Z);
    ua([ "w", "ww", "W", "WW" ], function(a, b, c, d) {
        b[d.substr(0, 1)] = u(a);
    });
    function Wc(a) {
        return nb(a, this._week.dow, this._week.doy).week;
    }
    var Xc = {
        dow: 0,
        doy: 6
    };
    function Yc() {
        return this._week.dow;
    }
    function Zc() {
        return this._week.doy;
    }
    function $c(a) {
        var b = this.localeData().week(this);
        return a == null ? b : this.add((a - b) * 7, "d");
    }
    function _c(a) {
        var b = nb(this, 1, 4).week;
        return a == null ? b : this.add((a - b) * 7, "d");
    }
    T("D", [ "DD", 2 ], "Do", "date");
    G("date", "D");
    oa("D", ba);
    oa("DD", ba, Z);
    oa("Do", function(a, b) {
        return a ? b._ordinalParse : b._ordinalParseLenient;
    });
    ta([ "D", "DD" ], ya);
    ta("Do", function(a, b) {
        b[ya] = u(a.match(ba)[0], 10);
    });
    var ad = K("Date", true);
    T("d", 0, "do", "day");
    T("dd", 0, 0, function(a) {
        return this.localeData().weekdaysMin(this, a);
    });
    T("ddd", 0, 0, function(a) {
        return this.localeData().weekdaysShort(this, a);
    });
    T("dddd", 0, 0, function(a) {
        return this.localeData().weekdays(this, a);
    });
    T("e", 0, 0, "weekday");
    T("E", 0, 0, "isoWeekday");
    G("day", "d");
    G("weekday", "e");
    G("isoWeekday", "E");
    oa("d", ba);
    oa("e", ba);
    oa("E", ba);
    oa("dd", ma);
    oa("ddd", ma);
    oa("dddd", ma);
    ua([ "dd", "ddd", "dddd" ], function(a, b, c, d) {
        var e = c._locale.weekdaysParse(a, d, c._strict);
        if (e != null) {
            b.d = e;
        } else {
            k(c).invalidWeekday = a;
        }
    });
    ua([ "d", "e", "E" ], function(a, b, c, d) {
        b[d] = u(a);
    });
    function bd(a, b) {
        if (typeof a !== "string") {
            return a;
        }
        if (!isNaN(a)) {
            return parseInt(a, 10);
        }
        a = b.weekdaysParse(a);
        if (typeof a === "number") {
            return a;
        }
        return null;
    }
    var cd = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");
    function dd(a, b) {
        return d(this._weekdays) ? this._weekdays[a.day()] : this._weekdays[this._weekdays.isFormat.test(b) ? "format" : "standalone"][a.day()];
    }
    var ed = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");
    function fd(a) {
        return this._weekdaysShort[a.day()];
    }
    var gd = "Su_Mo_Tu_We_Th_Fr_Sa".split("_");
    function hd(a) {
        return this._weekdaysMin[a.day()];
    }
    function id(a, b, c) {
        var d, e, f;
        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._minWeekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._fullWeekdaysParse = [];
        }
        for (d = 0; d < 7; d++) {
            e = Bb([ 2e3, 1 ]).day(d);
            if (c && !this._fullWeekdaysParse[d]) {
                this._fullWeekdaysParse[d] = new RegExp("^" + this.weekdays(e, "").replace(".", ".?") + "$", "i");
                this._shortWeekdaysParse[d] = new RegExp("^" + this.weekdaysShort(e, "").replace(".", ".?") + "$", "i");
                this._minWeekdaysParse[d] = new RegExp("^" + this.weekdaysMin(e, "").replace(".", ".?") + "$", "i");
            }
            if (!this._weekdaysParse[d]) {
                f = "^" + this.weekdays(e, "") + "|^" + this.weekdaysShort(e, "") + "|^" + this.weekdaysMin(e, "");
                this._weekdaysParse[d] = new RegExp(f.replace(".", ""), "i");
            }
            if (c && b === "dddd" && this._fullWeekdaysParse[d].test(a)) {
                return d;
            } else if (c && b === "ddd" && this._shortWeekdaysParse[d].test(a)) {
                return d;
            } else if (c && b === "dd" && this._minWeekdaysParse[d].test(a)) {
                return d;
            } else if (!c && this._weekdaysParse[d].test(a)) {
                return d;
            }
        }
    }
    function jd(a) {
        if (!this.isValid()) {
            return a != null ? this : NaN;
        }
        var b = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        if (a != null) {
            a = bd(a, this.localeData());
            return this.add(a - b, "d");
        } else {
            return b;
        }
    }
    function kd(a) {
        if (!this.isValid()) {
            return a != null ? this : NaN;
        }
        var b = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return a == null ? b : this.add(a - b, "d");
    }
    function ld(a) {
        if (!this.isValid()) {
            return a != null ? this : NaN;
        }
        return a == null ? this.day() || 7 : this.day(this.day() % 7 ? a : a - 7);
    }
    T("DDD", [ "DDDD", 3 ], "DDDo", "dayOfYear");
    G("dayOfYear", "DDD");
    oa("DDD", ea);
    oa("DDDD", $);
    ta([ "DDD", "DDDD" ], function(a, b, c) {
        c._dayOfYear = u(a);
    });
    function md(a) {
        var b = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
        return a == null ? b : this.add(a - b, "d");
    }
    function nd() {
        return this.hours() % 12 || 12;
    }
    T("H", [ "HH", 2 ], 0, "hour");
    T("h", [ "hh", 2 ], 0, nd);
    T("hmm", 0, 0, function() {
        return "" + nd.apply(this) + O(this.minutes(), 2);
    });
    T("hmmss", 0, 0, function() {
        return "" + nd.apply(this) + O(this.minutes(), 2) + O(this.seconds(), 2);
    });
    T("Hmm", 0, 0, function() {
        return "" + this.hours() + O(this.minutes(), 2);
    });
    T("Hmmss", 0, 0, function() {
        return "" + this.hours() + O(this.minutes(), 2) + O(this.seconds(), 2);
    });
    function od(a, b) {
        T(a, 0, 0, function() {
            return this.localeData().meridiem(this.hours(), this.minutes(), b);
        });
    }
    od("a", true);
    od("A", false);
    G("hour", "h");
    function pd(a, b) {
        return b._meridiemParse;
    }
    oa("a", pd);
    oa("A", pd);
    oa("H", ba);
    oa("h", ba);
    oa("HH", ba, Z);
    oa("hh", ba, Z);
    oa("hmm", ca);
    oa("hmmss", da);
    oa("Hmm", ca);
    oa("Hmmss", da);
    ta([ "H", "HH" ], za);
    ta([ "a", "A" ], function(a, b, c) {
        c._isPm = c._locale.isPM(a);
        c._meridiem = a;
    });
    ta([ "h", "hh" ], function(a, b, c) {
        b[za] = u(a);
        k(c).bigHour = true;
    });
    ta("hmm", function(a, b, c) {
        var d = a.length - 2;
        b[za] = u(a.substr(0, d));
        b[Aa] = u(a.substr(d));
        k(c).bigHour = true;
    });
    ta("hmmss", function(a, b, c) {
        var d = a.length - 4;
        var e = a.length - 2;
        b[za] = u(a.substr(0, d));
        b[Aa] = u(a.substr(d, 2));
        b[Ba] = u(a.substr(e));
        k(c).bigHour = true;
    });
    ta("Hmm", function(a, b, c) {
        var d = a.length - 2;
        b[za] = u(a.substr(0, d));
        b[Aa] = u(a.substr(d));
    });
    ta("Hmmss", function(a, b, c) {
        var d = a.length - 4;
        var e = a.length - 2;
        b[za] = u(a.substr(0, d));
        b[Aa] = u(a.substr(d, 2));
        b[Ba] = u(a.substr(e));
    });
    function qd(a) {
        return (a + "").toLowerCase().charAt(0) === "p";
    }
    var rd = /[ap]\.?m?\.?/i;
    function sd(a, b, c) {
        if (a > 11) {
            return c ? "pm" : "PM";
        } else {
            return c ? "am" : "AM";
        }
    }
    var td = K("Hours", true);
    T("m", [ "mm", 2 ], 0, "minute");
    G("minute", "m");
    oa("m", ba);
    oa("mm", ba, Z);
    ta([ "m", "mm" ], Aa);
    var ud = K("Minutes", false);
    T("s", [ "ss", 2 ], 0, "second");
    G("second", "s");
    oa("s", ba);
    oa("ss", ba, Z);
    ta([ "s", "ss" ], Ba);
    var vd = K("Seconds", false);
    T("S", 0, 0, function() {
        return ~~(this.millisecond() / 100);
    });
    T(0, [ "SS", 2 ], 0, function() {
        return ~~(this.millisecond() / 10);
    });
    T(0, [ "SSS", 3 ], 0, "millisecond");
    T(0, [ "SSSS", 4 ], 0, function() {
        return this.millisecond() * 10;
    });
    T(0, [ "SSSSS", 5 ], 0, function() {
        return this.millisecond() * 100;
    });
    T(0, [ "SSSSSS", 6 ], 0, function() {
        return this.millisecond() * 1e3;
    });
    T(0, [ "SSSSSSS", 7 ], 0, function() {
        return this.millisecond() * 1e4;
    });
    T(0, [ "SSSSSSSS", 8 ], 0, function() {
        return this.millisecond() * 1e5;
    });
    T(0, [ "SSSSSSSSS", 9 ], 0, function() {
        return this.millisecond() * 1e6;
    });
    G("millisecond", "ms");
    oa("S", ea, Y);
    oa("SS", ea, Z);
    oa("SSS", ea, $);
    var wd;
    for (wd = "SSSS"; wd.length <= 9; wd += "S") {
        oa(wd, ha);
    }
    function xd(a, b) {
        b[Ca] = u(("0." + a) * 1e3);
    }
    for (wd = "S"; wd.length <= 9; wd += "S") {
        ta(wd, xd);
    }
    var yd = K("Milliseconds", false);
    T("z", 0, 0, "zoneAbbr");
    T("zz", 0, 0, "zoneName");
    function zd() {
        return this._isUTC ? "UTC" : "";
    }
    function Ad() {
        return this._isUTC ? "Coordinated Universal Time" : "";
    }
    var Bd = r.prototype;
    Bd.add = gc;
    Bd.calendar = ic;
    Bd.clone = jc;
    Bd.diff = qc;
    Bd.endOf = Dc;
    Bd.format = uc;
    Bd.from = vc;
    Bd.fromNow = wc;
    Bd.to = xc;
    Bd.toNow = yc;
    Bd.get = N;
    Bd.invalidAt = Mc;
    Bd.isAfter = kc;
    Bd.isBefore = lc;
    Bd.isBetween = mc;
    Bd.isSame = nc;
    Bd.isSameOrAfter = oc;
    Bd.isSameOrBefore = pc;
    Bd.isValid = Kc;
    Bd.lang = Ac;
    Bd.locale = zc;
    Bd.localeData = Bc;
    Bd.max = Db;
    Bd.min = Cb;
    Bd.parsingFlags = Lc;
    Bd.set = N;
    Bd.startOf = Cc;
    Bd.subtract = hc;
    Bd.toArray = Hc;
    Bd.toObject = Ic;
    Bd.toDate = Gc;
    Bd.toISOString = tc;
    Bd.toJSON = Jc;
    Bd.toString = sc;
    Bd.unix = Fc;
    Bd.valueOf = Ec;
    Bd.creationData = Nc;
    Bd.year = jb;
    Bd.isLeapYear = kb;
    Bd.weekYear = Pc;
    Bd.isoWeekYear = Qc;
    Bd.quarter = Bd.quarters = Vc;
    Bd.month = Na;
    Bd.daysInMonth = Oa;
    Bd.week = Bd.weeks = $c;
    Bd.isoWeek = Bd.isoWeeks = _c;
    Bd.weeksInYear = Sc;
    Bd.isoWeeksInYear = Rc;
    Bd.date = ad;
    Bd.day = Bd.days = jd;
    Bd.weekday = kd;
    Bd.isoWeekday = ld;
    Bd.dayOfYear = md;
    Bd.hour = Bd.hours = td;
    Bd.minute = Bd.minutes = ud;
    Bd.second = Bd.seconds = vd;
    Bd.millisecond = Bd.milliseconds = yd;
    Bd.utcOffset = Pb;
    Bd.utc = Rb;
    Bd.local = Sb;
    Bd.parseZone = Tb;
    Bd.hasAlignedHourOffset = Ub;
    Bd.isDST = Vb;
    Bd.isDSTShifted = Wb;
    Bd.isLocal = Xb;
    Bd.isUtcOffset = Yb;
    Bd.isUtc = Zb;
    Bd.isUTC = Zb;
    Bd.zoneAbbr = zd;
    Bd.zoneName = Ad;
    Bd.dates = Wa("dates accessor is deprecated. Use date instead.", ad);
    Bd.months = Wa("months accessor is deprecated. Use month instead", Na);
    Bd.years = Wa("years accessor is deprecated. Use year instead", jb);
    Bd.zone = Wa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779", Qb);
    var Cd = Bd;
    function Dd(a) {
        return Bb(a * 1e3);
    }
    function Ed() {
        return Bb.apply(null, arguments).parseZone();
    }
    var Fd = {
        sameDay: "[Today at] LT",
        nextDay: "[Tomorrow at] LT",
        nextWeek: "dddd [at] LT",
        lastDay: "[Yesterday at] LT",
        lastWeek: "[Last] dddd [at] LT",
        sameElse: "L"
    };
    function Gd(a, b, c) {
        var d = this._calendar[a];
        return J(d) ? d.call(b, c) : d;
    }
    var Hd = {
        LTS: "h:mm:ss A",
        LT: "h:mm A",
        L: "MM/DD/YYYY",
        LL: "MMMM D, YYYY",
        LLL: "MMMM D, YYYY h:mm A",
        LLLL: "dddd, MMMM D, YYYY h:mm A"
    };
    function Id(a) {
        var b = this._longDateFormat[a], c = this._longDateFormat[a.toUpperCase()];
        if (b || !c) {
            return b;
        }
        this._longDateFormat[a] = c.replace(/MMMM|MM|DD|dddd/g, function(a) {
            return a.slice(1);
        });
        return this._longDateFormat[a];
    }
    var Jd = "Invalid date";
    function Kd() {
        return this._invalidDate;
    }
    var Ld = "%d";
    var Md = /\d{1,2}/;
    function Nd(a) {
        return this._ordinal.replace("%d", a);
    }
    function Od(a) {
        return a;
    }
    var Pd = {
        future: "in %s",
        past: "%s ago",
        s: "a few seconds",
        m: "a minute",
        mm: "%d minutes",
        h: "an hour",
        hh: "%d hours",
        d: "a day",
        dd: "%d days",
        M: "a month",
        MM: "%d months",
        y: "a year",
        yy: "%d years"
    };
    function Qd(a, b, c, d) {
        var e = this._relativeTime[c];
        return J(e) ? e(a, b, c, d) : e.replace(/%d/i, a);
    }
    function Rd(a, b) {
        var c = this._relativeTime[a > 0 ? "future" : "past"];
        return J(c) ? c(b) : c.replace(/%s/i, b);
    }
    function Sd(a) {
        var b, c;
        for (c in a) {
            b = a[c];
            if (J(b)) {
                this[c] = b;
            } else {
                this["_" + c] = b;
            }
        }
        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source);
    }
    var Td = w.prototype;
    Td._calendar = Fd;
    Td.calendar = Gd;
    Td._longDateFormat = Hd;
    Td.longDateFormat = Id;
    Td._invalidDate = Jd;
    Td.invalidDate = Kd;
    Td._ordinal = Ld;
    Td.ordinal = Nd;
    Td._ordinalParse = Md;
    Td.preparse = Od;
    Td.postformat = Od;
    Td._relativeTime = Pd;
    Td.relativeTime = Qd;
    Td.pastFuture = Rd;
    Td.set = Sd;
    Td.months = Ia;
    Td._months = Ha;
    Td.monthsShort = Ka;
    Td._monthsShort = Ja;
    Td.monthsParse = La;
    Td._monthsRegex = Ra;
    Td.monthsRegex = Sa;
    Td._monthsShortRegex = Pa;
    Td.monthsShortRegex = Qa;
    Td.week = Wc;
    Td._week = Xc;
    Td.firstDayOfYear = Zc;
    Td.firstDayOfWeek = Yc;
    Td.weekdays = dd;
    Td._weekdays = cd;
    Td.weekdaysMin = hd;
    Td._weekdaysMin = gd;
    Td.weekdaysShort = fd;
    Td._weekdaysShort = ed;
    Td.weekdaysParse = id;
    Td.isPM = qd;
    Td._meridiemParse = rd;
    Td.meridiem = sd;
    function Ud(a, b, c, d) {
        var e = E();
        var f = i().set(d, b);
        return e[c](f, a);
    }
    function Vd(a, b, c, d, e) {
        if (typeof a === "number") {
            b = a;
            a = undefined;
        }
        a = a || "";
        if (b != null) {
            return Ud(a, b, c, e);
        }
        var f;
        var g = [];
        for (f = 0; f < d; f++) {
            g[f] = Ud(a, f, c, e);
        }
        return g;
    }
    function Wd(a, b) {
        return Vd(a, b, "months", 12, "month");
    }
    function Xd(a, b) {
        return Vd(a, b, "monthsShort", 12, "month");
    }
    function Yd(a, b) {
        return Vd(a, b, "weekdays", 7, "day");
    }
    function Zd(a, b) {
        return Vd(a, b, "weekdaysShort", 7, "day");
    }
    function $d(a, b) {
        return Vd(a, b, "weekdaysMin", 7, "day");
    }
    C("en", {
        ordinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function(a) {
            var b = a % 10, c = u(a % 100 / 10) === 1 ? "th" : b === 1 ? "st" : b === 2 ? "nd" : b === 3 ? "rd" : "th";
            return a + c;
        }
    });
    b.lang = Wa("moment.lang is deprecated. Use moment.locale instead.", C);
    b.langData = Wa("moment.langData is deprecated. Use moment.localeData instead.", E);
    var _d = Math.abs;
    function ae() {
        var a = this._data;
        this._milliseconds = _d(this._milliseconds);
        this._days = _d(this._days);
        this._months = _d(this._months);
        a.milliseconds = _d(a.milliseconds);
        a.seconds = _d(a.seconds);
        a.minutes = _d(a.minutes);
        a.hours = _d(a.hours);
        a.months = _d(a.months);
        a.years = _d(a.years);
        return this;
    }
    function be(a, b, c, d) {
        var e = ac(b, c);
        a._milliseconds += d * e._milliseconds;
        a._days += d * e._days;
        a._months += d * e._months;
        return a._bubble();
    }
    function ce(a, b) {
        return be(this, a, b, 1);
    }
    function de(a, b) {
        return be(this, a, b, -1);
    }
    function ee(a) {
        if (a < 0) {
            return Math.floor(a);
        } else {
            return Math.ceil(a);
        }
    }
    function fe() {
        var a = this._milliseconds;
        var b = this._days;
        var c = this._months;
        var d = this._data;
        var e, f, g, h, i;
        if (!(a >= 0 && b >= 0 && c >= 0 || a <= 0 && b <= 0 && c <= 0)) {
            a += ee(he(c) + b) * 864e5;
            b = 0;
            c = 0;
        }
        d.milliseconds = a % 1e3;
        e = t(a / 1e3);
        d.seconds = e % 60;
        f = t(e / 60);
        d.minutes = f % 60;
        g = t(f / 60);
        d.hours = g % 24;
        b += t(g / 24);
        i = t(ge(b));
        c += i;
        b -= ee(he(i));
        h = t(c / 12);
        c %= 12;
        d.days = b;
        d.months = c;
        d.years = h;
        return this;
    }
    function ge(a) {
        return a * 4800 / 146097;
    }
    function he(a) {
        return a * 146097 / 4800;
    }
    function ie(a) {
        var b;
        var c;
        var d = this._milliseconds;
        a = H(a);
        if (a === "month" || a === "year") {
            b = this._days + d / 864e5;
            c = this._months + ge(b);
            return a === "month" ? c : c / 12;
        } else {
            b = this._days + Math.round(he(this._months));
            switch (a) {
              case "week":
                return b / 7 + d / 6048e5;

              case "day":
                return b + d / 864e5;

              case "hour":
                return b * 24 + d / 36e5;

              case "minute":
                return b * 1440 + d / 6e4;

              case "second":
                return b * 86400 + d / 1e3;

              case "millisecond":
                return Math.floor(b * 864e5) + d;

              default:
                throw new Error("Unknown unit " + a);
            }
        }
    }
    function je() {
        return this._milliseconds + this._days * 864e5 + this._months % 12 * 2592e6 + u(this._months / 12) * 31536e6;
    }
    function ke(a) {
        return function() {
            return this.as(a);
        };
    }
    var le = ke("ms");
    var me = ke("s");
    var ne = ke("m");
    var oe = ke("h");
    var pe = ke("d");
    var qe = ke("w");
    var re = ke("M");
    var se = ke("y");
    function te(a) {
        a = H(a);
        return this[a + "s"]();
    }
    function ue(a) {
        return function() {
            return this._data[a];
        };
    }
    var ve = ue("milliseconds");
    var we = ue("seconds");
    var xe = ue("minutes");
    var ye = ue("hours");
    var ze = ue("days");
    var Ae = ue("months");
    var Be = ue("years");
    function Ce() {
        return t(this.days() / 7);
    }
    var De = Math.round;
    var Ee = {
        s: 45,
        m: 45,
        h: 22,
        d: 26,
        M: 11
    };
    function Fe(a, b, c, d, e) {
        return e.relativeTime(b || 1, !!c, a, d);
    }
    function Ge(a, b, c) {
        var d = ac(a).abs();
        var e = De(d.as("s"));
        var f = De(d.as("m"));
        var g = De(d.as("h"));
        var h = De(d.as("d"));
        var i = De(d.as("M"));
        var j = De(d.as("y"));
        var k = e < Ee.s && [ "s", e ] || f <= 1 && [ "m" ] || f < Ee.m && [ "mm", f ] || g <= 1 && [ "h" ] || g < Ee.h && [ "hh", g ] || h <= 1 && [ "d" ] || h < Ee.d && [ "dd", h ] || i <= 1 && [ "M" ] || i < Ee.M && [ "MM", i ] || j <= 1 && [ "y" ] || [ "yy", j ];
        k[2] = b;
        k[3] = +a > 0;
        k[4] = c;
        return Fe.apply(null, k);
    }
    function He(a, b) {
        if (Ee[a] === undefined) {
            return false;
        }
        if (b === undefined) {
            return Ee[a];
        }
        Ee[a] = b;
        return true;
    }
    function Ie(a) {
        var b = this.localeData();
        var c = Ge(this, !a, b);
        if (a) {
            c = b.pastFuture(+this, c);
        }
        return b.postformat(c);
    }
    var Je = Math.abs;
    function Ke() {
        var a = Je(this._milliseconds) / 1e3;
        var b = Je(this._days);
        var c = Je(this._months);
        var d, e, f;
        d = t(a / 60);
        e = t(d / 60);
        a %= 60;
        d %= 60;
        f = t(c / 12);
        c %= 12;
        var g = f;
        var h = c;
        var i = b;
        var j = e;
        var k = d;
        var l = a;
        var m = this.asSeconds();
        if (!m) {
            return "P0D";
        }
        return (m < 0 ? "-" : "") + "P" + (g ? g + "Y" : "") + (h ? h + "M" : "") + (i ? i + "D" : "") + (j || k || l ? "T" : "") + (j ? j + "H" : "") + (k ? k + "M" : "") + (l ? l + "S" : "");
    }
    var Le = Ib.prototype;
    Le.abs = ae;
    Le.add = ce;
    Le.subtract = de;
    Le.as = ie;
    Le.asMilliseconds = le;
    Le.asSeconds = me;
    Le.asMinutes = ne;
    Le.asHours = oe;
    Le.asDays = pe;
    Le.asWeeks = qe;
    Le.asMonths = re;
    Le.asYears = se;
    Le.valueOf = je;
    Le._bubble = fe;
    Le.get = te;
    Le.milliseconds = ve;
    Le.seconds = we;
    Le.minutes = xe;
    Le.hours = ye;
    Le.days = ze;
    Le.weeks = Ce;
    Le.months = Ae;
    Le.years = Be;
    Le.humanize = Ie;
    Le.toISOString = Ke;
    Le.toString = Ke;
    Le.toJSON = Ke;
    Le.locale = zc;
    Le.localeData = Bc;
    Le.toIsoString = Wa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Ke);
    Le.lang = Ac;
    T("X", 0, 0, "unix");
    T("x", 0, 0, "valueOf");
    oa("x", ia);
    oa("X", la);
    ta("X", function(a, b, c) {
        c._d = new Date(parseFloat(a, 10) * 1e3);
    });
    ta("x", function(a, b, c) {
        c._d = new Date(u(a));
    });
    b.version = "2.11.2";
    c(Bb);
    b.fn = Cd;
    b.min = Fb;
    b.max = Gb;
    b.now = Hb;
    b.utc = i;
    b.unix = Dd;
    b.months = Wd;
    b.isDate = e;
    b.locale = C;
    b.invalid = m;
    b.duration = ac;
    b.isMoment = s;
    b.weekdays = Yd;
    b.parseZone = Ed;
    b.localeData = E;
    b.isDuration = Jb;
    b.monthsShort = Xd;
    b.weekdaysMin = $d;
    b.defineLocale = D;
    b.weekdaysShort = Zd;
    b.normalizeUnits = H;
    b.relativeTimeThreshold = He;
    b.prototype = Cd;
    var Me = b;
    return Me;
});

(function(a) {
    "use strict";
    a.module("ngJcrop", []).constant("ngJcroptDefaultConfig", {
        widthLimit: 1e3,
        heightLimit: 1e3,
        previewImgStyle: {
            width: "100px",
            height: "100px",
            overflow: "hidden",
            "margin-left": "5px"
        },
        jcrop: {
            aspectRatio: 1,
            maxWidth: 300,
            maxHeight: 300
        }
    }).constant("ngJcropTemplate", '<div class="ng-jcrop">' + '    <div class="ng-jcrop-image-wrapper">' + '        <img class="ng-jcrop-image" />' + "   </div>" + '   <div class="ng-jcrop-thumbnail-wrapper" ng-style="previewImgStyle">' + '       <img class="ng-jcrop-thumbnail" />' + "   </div>" + "</div>").provider("ngJcropConfig", [ "ngJcroptDefaultConfig", "ngJcropTemplate", function(b, c) {
        var d = a.copy(b);
        d.template = c;
        return {
            setConfig: function(b) {
                a.extend(d, b);
            },
            setJcropConfig: function(b) {
                a.extend(d.jcrop, b);
            },
            setPreviewStyle: function(b) {
                a.extend(d.previewImgStyle, b);
            },
            $get: function() {
                return d;
            }
        };
    } ]).run([ "$window", function(a) {
        if (!a.jQuery) {
            throw new Error("jQuery isn't included");
        }
        if (!a.jQuery.Jcrop) {
            throw new Error("Jcrop isn't included");
        }
    } ]).directive("ngJcrop", [ "ngJcropConfig", function(a) {
        return {
            restrict: "A",
            scope: {
                ngJcrop: "=",
                thumbnail: "=",
                selection: "="
            },
            template: a.template,
            controller: "JcropController"
        };
    } ]).directive("ngJcropInput", function() {
        return {
            restrict: "A",
            controller: "JcropInputController"
        };
    }).controller("JcropInputController", [ "$rootScope", "$element", "$scope", function(a, b, c) {
        if (b[0].type !== "file") {
            throw new Error('ngJcropInput directive must be placed with an input[type="file"]');
        }
        c.setImage = function(c) {
            var d = new FileReader();
            d.onload = function(c) {
                a.$broadcast("JcropChangeSrc", c.target.result);
                b[0].value = "";
            };
            d.readAsDataURL(c);
        };
        b.on("change", function(a) {
            var b = a.currentTarget.files[0];
            c.setImage(b);
        });
    } ]).controller("JcropController", [ "$scope", "$element", "ngJcropConfig", function(b, c, d) {
        if (a.isUndefined(b.selection)) {
            throw new Error("ngJcrop: attribute `selection` is mandatory");
        } else if (!a.isArray(b.selection) && !(b.selection === null)) {
            throw new Error("ngJcrop: attribute `selection` must be an array");
        }
        b.mainImg = null;
        b.imgStyle = {
            width: d.jcrop.maxWidth,
            height: d.jcrop.maxHeight
        };
        b.previewImg = null;
        b.previewImgStyle = d.previewImgStyle;
        b.jcrop = null;
        b.coords = b.selection;
        b.updateCurrentSizes = function(a) {
            var c = a.width / d.jcrop.maxWidth, e = a.height / d.jcrop.maxHeight, f = a.width > d.jcrop.maxWidth && c > e, g = a.height > d.jcrop.maxHeight && e > c;
            if (f) {
                b.imgStyle.width = d.jcrop.maxWidth;
                b.imgStyle.height = a.height / c;
            } else if (g) {
                b.imgStyle.height = d.jcrop.maxHeight;
                b.imgStyle.width = a.width / e;
            } else {
                b.imgStyle.height = a.height;
                b.imgStyle.width = a.width;
            }
        };
        b.getShrinkRatio = function() {
            var a = $("<img>").attr("src", b.mainImg[0].src)[0];
            if (d.jcrop.maxWidth > a.width || d.jcrop.maxHeight > a.height) {
                return 1;
            }
            var c = a.width / d.jcrop.maxWidth, e = a.height / d.jcrop.maxHeight, f = a.width > d.jcrop.maxWidth && c > e;
            if (f) {
                return c;
            } else {
                return e;
            }
        };
        b.setSelection = function(c) {
            if (!a.isArray(b.coords)) {
                b.coords = [];
            }
            if (!a.isArray(b.selection)) {
                b.selection = [];
            }
            b.coords[0] = c.x;
            b.coords[1] = c.y;
            b.coords[2] = c.x2;
            b.coords[3] = c.y2;
            b.coords[4] = c.w;
            b.coords[5] = c.h;
            var d = b.getShrinkRatio();
            b.selection[0] = Math.round(c.x * d);
            b.selection[1] = Math.round(c.y * d);
            b.selection[2] = Math.round(c.x2 * d);
            b.selection[3] = Math.round(c.y2 * d);
            b.selection[4] = Math.round(c.w * d);
            b.selection[5] = Math.round(c.h * d);
        };
        b.showPreview = function(a) {
            if (!b.selectionWatcher) {
                b.$apply(function() {
                    b.setSelection(a);
                });
            }
            if (!b.thumbnail) {
                return;
            }
            var c = parseInt(b.previewImgStyle.width) / a.w;
            var d = parseInt(b.previewImgStyle.height) / a.h;
            b.previewImg.css({
                width: Math.round(c * b.imgStyle.width) + "px",
                maxWidth: Math.round(c * b.imgStyle.width) + "px",
                height: Math.round(d * b.imgStyle.height) + "px",
                maxHeight: Math.round(d * b.imgStyle.height) + "px",
                marginLeft: "-" + Math.round(c * a.x) + "px",
                marginTop: "-" + Math.round(d * a.y) + "px"
            });
        };
        b.onMainImageLoad = function() {
            b.mainImg.off("load", b.onMainImageLoad);
            b.updateCurrentSizes($("<img>").attr("src", b.mainImg[0].src)[0]);
            var c = a.extend({
                onChange: b.showPreview,
                onSelect: b.showPreview
            }, d.jcrop);
            if (b.selection && b.selection.length === 6) {
                c.setSelect = b.selection;
            }
            b.jcrop = jQuery.Jcrop(b.mainImg, c);
        };
        b.destroy = function() {
            if (b.jcrop) {
                if (b.mainImg) {
                    b.mainImg.off("load");
                }
                b.jcrop.destroy();
                b.jcrop = null;
            }
        };
        b.initMainImage = function(a) {
            b.mainImg = $("<img>").addClass("ng-jcrop-image");
            b.mainImg.on("load", b.onMainImageLoad);
            b.mainImg.css({
                maxWidth: d.jcrop.maxWidth,
                maxHeight: d.jcrop.maxHeight
            });
            b.mainImg.attr("src", a);
        };
        b.init = function(a) {
            b.destroy();
            b.initMainImage(a);
            b.imageWrapper = c.find(".ng-jcrop-image-wrapper");
            b.imageWrapper.empty().append(b.mainImg);
            b.previewImg = c.find(".ng-jcrop-thumbnail");
            b.previewImg.attr("src", a);
        };
        b.$on("$destroy", b.destroy);
        b.$on("JcropChangeSrc", function(a, c) {
            b.$apply(function() {
                b.setSelection({
                    x: 0,
                    y: 0,
                    x2: d.widthLimit,
                    y2: d.heightLimit,
                    w: d.widthLimit,
                    h: d.heightLimit
                });
                b.ngJcrop = c;
            });
        });
        b.$watch("ngJcrop", function(a, b, c) {
            c.init(a);
        });
        b.$watch("thumbnail", function(a, c, d) {
            if (d.thumbnail) {
                b.previewImg.show();
            } else {
                b.previewImg.hide();
            }
        });
    } ]);
})(angular);

(function() {
    var a = angular.module("restangular", []);
    a.provider("Restangular", function() {
        var a = {};
        a.init = function(a, b) {
            a.configuration = b;
            var c = [ "get", "head", "options", "trace", "getlist" ];
            b.isSafe = function(a) {
                return _.contains(c, a.toLowerCase());
            };
            var d = /^https?:\/\//i;
            b.isAbsoluteUrl = function(a) {
                return _.isUndefined(b.absoluteUrl) || _.isNull(b.absoluteUrl) ? a && d.test(a) : b.absoluteUrl;
            };
            b.absoluteUrl = _.isUndefined(b.absoluteUrl) ? true : b.absoluteUrl;
            a.setSelfLinkAbsoluteUrl = function(a) {
                b.absoluteUrl = a;
            };
            b.baseUrl = _.isUndefined(b.baseUrl) ? "" : b.baseUrl;
            a.setBaseUrl = function(a) {
                b.baseUrl = /\/$/.test(a) ? a.substring(0, a.length - 1) : a;
                return this;
            };
            b.extraFields = b.extraFields || [];
            a.setExtraFields = function(a) {
                b.extraFields = a;
                return this;
            };
            b.defaultHttpFields = b.defaultHttpFields || {};
            a.setDefaultHttpFields = function(a) {
                b.defaultHttpFields = a;
                return this;
            };
            b.withHttpValues = function(a, c) {
                return _.defaults(c, a, b.defaultHttpFields);
            };
            b.encodeIds = _.isUndefined(b.encodeIds) ? true : b.encodeIds;
            a.setEncodeIds = function(a) {
                b.encodeIds = a;
            };
            b.defaultRequestParams = b.defaultRequestParams || {
                get: {},
                post: {},
                put: {},
                remove: {},
                common: {}
            };
            a.setDefaultRequestParams = function(a, c) {
                var d = [], e = c || a;
                if (!_.isUndefined(c)) {
                    if (_.isArray(a)) {
                        d = a;
                    } else {
                        d.push(a);
                    }
                } else {
                    d.push("common");
                }
                _.each(d, function(a) {
                    b.defaultRequestParams[a] = e;
                });
                return this;
            };
            a.requestParams = b.defaultRequestParams;
            b.defaultHeaders = b.defaultHeaders || {};
            a.setDefaultHeaders = function(c) {
                b.defaultHeaders = c;
                a.defaultHeaders = b.defaultHeaders;
                return this;
            };
            a.defaultHeaders = b.defaultHeaders;
            b.methodOverriders = b.methodOverriders || [];
            a.setMethodOverriders = function(a) {
                var c = _.extend([], a);
                if (b.isOverridenMethod("delete", c)) {
                    c.push("remove");
                }
                b.methodOverriders = c;
                return this;
            };
            b.jsonp = _.isUndefined(b.jsonp) ? false : b.jsonp;
            a.setJsonp = function(a) {
                b.jsonp = a;
            };
            b.isOverridenMethod = function(a, c) {
                var d = c || b.methodOverriders;
                return !_.isUndefined(_.find(d, function(b) {
                    return b.toLowerCase() === a.toLowerCase();
                }));
            };
            b.urlCreator = b.urlCreator || "path";
            a.setUrlCreator = function(a) {
                if (!_.has(b.urlCreatorFactory, a)) {
                    throw new Error("URL Path selected isn't valid");
                }
                b.urlCreator = a;
                return this;
            };
            b.restangularFields = b.restangularFields || {
                id: "id",
                route: "route",
                parentResource: "parentResource",
                restangularCollection: "restangularCollection",
                cannonicalId: "__cannonicalId",
                etag: "restangularEtag",
                selfLink: "href",
                get: "get",
                getList: "getList",
                put: "put",
                post: "post",
                remove: "remove",
                head: "head",
                trace: "trace",
                options: "options",
                patch: "patch",
                getRestangularUrl: "getRestangularUrl",
                getRequestedUrl: "getRequestedUrl",
                putElement: "putElement",
                addRestangularMethod: "addRestangularMethod",
                getParentList: "getParentList",
                clone: "clone",
                ids: "ids",
                httpConfig: "_$httpConfig",
                reqParams: "reqParams",
                one: "one",
                all: "all",
                several: "several",
                oneUrl: "oneUrl",
                allUrl: "allUrl",
                customPUT: "customPUT",
                customPOST: "customPOST",
                customDELETE: "customDELETE",
                customGET: "customGET",
                customGETLIST: "customGETLIST",
                customOperation: "customOperation",
                doPUT: "doPUT",
                doPOST: "doPOST",
                doDELETE: "doDELETE",
                doGET: "doGET",
                doGETLIST: "doGETLIST",
                fromServer: "fromServer",
                withConfig: "withConfig",
                withHttpConfig: "withHttpConfig",
                singleOne: "singleOne",
                plain: "plain",
                save: "save",
                restangularized: "restangularized"
            };
            a.setRestangularFields = function(a) {
                b.restangularFields = _.extend(b.restangularFields, a);
                return this;
            };
            b.isRestangularized = function(a) {
                return !!a[b.restangularFields.restangularized];
            };
            b.setFieldToElem = function(a, b, c) {
                var d = a.split(".");
                var e = b;
                _.each(_.initial(d), function(a) {
                    e[a] = {};
                    e = e[a];
                });
                e[_.last(d)] = c;
                return this;
            };
            b.getFieldFromElem = function(a, b) {
                var c = a.split(".");
                var d = b;
                _.each(c, function(a) {
                    if (d) {
                        d = d[a];
                    }
                });
                return angular.copy(d);
            };
            b.setIdToElem = function(a, c) {
                b.setFieldToElem(b.restangularFields.id, a, c);
                return this;
            };
            b.getIdFromElem = function(a) {
                return b.getFieldFromElem(b.restangularFields.id, a);
            };
            b.isValidId = function(a) {
                return "" !== a && !_.isUndefined(a) && !_.isNull(a);
            };
            b.setUrlToElem = function(a, c) {
                b.setFieldToElem(b.restangularFields.selfLink, a, c);
                return this;
            };
            b.getUrlFromElem = function(a) {
                return b.getFieldFromElem(b.restangularFields.selfLink, a);
            };
            b.useCannonicalId = _.isUndefined(b.useCannonicalId) ? false : b.useCannonicalId;
            a.setUseCannonicalId = function(a) {
                b.useCannonicalId = a;
                return this;
            };
            b.getCannonicalIdFromElem = function(a) {
                var c = a[b.restangularFields.cannonicalId];
                var d = b.isValidId(c) ? c : b.getIdFromElem(a);
                return d;
            };
            b.responseInterceptors = b.responseInterceptors || [];
            b.defaultResponseInterceptor = function(a) {
                return a;
            };
            b.responseExtractor = function(a, c, d, e, f, g) {
                var h = angular.copy(b.responseInterceptors);
                h.push(b.defaultResponseInterceptor);
                var i = a;
                _.each(h, function(a) {
                    i = a(i, c, d, e, f, g);
                });
                return i;
            };
            a.addResponseInterceptor = function(a) {
                b.responseInterceptors.push(a);
                return this;
            };
            b.errorInterceptors = b.errorInterceptors || [];
            a.addErrorInterceptor = function(a) {
                b.errorInterceptors.push(a);
                return this;
            };
            a.setResponseInterceptor = a.addResponseInterceptor;
            a.setResponseExtractor = a.addResponseInterceptor;
            a.setErrorInterceptor = a.addErrorInterceptor;
            b.requestInterceptors = b.requestInterceptors || [];
            b.defaultInterceptor = function(a, b, c, d, e, f, g) {
                return {
                    element: a,
                    headers: e,
                    params: f,
                    httpConfig: g
                };
            };
            b.fullRequestInterceptor = function(a, c, d, e, f, g, h) {
                var i = angular.copy(b.requestInterceptors);
                var j = b.defaultInterceptor(a, c, d, e, f, g, h);
                return _.reduce(i, function(a, b) {
                    return _.extend(a, b(a.element, c, d, e, a.headers, a.params, a.httpConfig));
                }, j);
            };
            a.addRequestInterceptor = function(a) {
                b.requestInterceptors.push(function(b, c, d, e, f, g, h) {
                    return {
                        headers: f,
                        params: g,
                        element: a(b, c, d, e),
                        httpConfig: h
                    };
                });
                return this;
            };
            a.setRequestInterceptor = a.addRequestInterceptor;
            a.addFullRequestInterceptor = function(a) {
                b.requestInterceptors.push(a);
                return this;
            };
            a.setFullRequestInterceptor = a.addFullRequestInterceptor;
            b.onBeforeElemRestangularized = b.onBeforeElemRestangularized || function(a) {
                return a;
            };
            a.setOnBeforeElemRestangularized = function(a) {
                b.onBeforeElemRestangularized = a;
                return this;
            };
            a.setRestangularizePromiseInterceptor = function(a) {
                b.restangularizePromiseInterceptor = a;
                return this;
            };
            b.onElemRestangularized = b.onElemRestangularized || function(a) {
                return a;
            };
            a.setOnElemRestangularized = function(a) {
                b.onElemRestangularized = a;
                return this;
            };
            b.shouldSaveParent = b.shouldSaveParent || function() {
                return true;
            };
            a.setParentless = function(a) {
                if (_.isArray(a)) {
                    b.shouldSaveParent = function(b) {
                        return !_.contains(a, b);
                    };
                } else if (_.isBoolean(a)) {
                    b.shouldSaveParent = function() {
                        return !a;
                    };
                }
                return this;
            };
            b.suffix = _.isUndefined(b.suffix) ? null : b.suffix;
            a.setRequestSuffix = function(a) {
                b.suffix = a;
                return this;
            };
            b.transformers = b.transformers || {};
            a.addElementTransformer = function(c, d, e) {
                var f = null;
                var g = null;
                if (arguments.length === 2) {
                    g = d;
                } else {
                    g = e;
                    f = d;
                }
                var h = b.transformers[c];
                if (!h) {
                    h = b.transformers[c] = [];
                }
                h.push(function(a, b) {
                    if (_.isNull(f) || a === f) {
                        return g(b);
                    }
                    return b;
                });
                return a;
            };
            a.extendCollection = function(b, c) {
                return a.addElementTransformer(b, true, c);
            };
            a.extendModel = function(b, c) {
                return a.addElementTransformer(b, false, c);
            };
            b.transformElem = function(a, c, d, e, f) {
                if (!f && !b.transformLocalElements && !a[b.restangularFields.fromServer]) {
                    return a;
                }
                var g = b.transformers[d];
                var h = a;
                if (g) {
                    _.each(g, function(a) {
                        h = a(c, h);
                    });
                }
                return b.onElemRestangularized(h, c, d, e);
            };
            b.transformLocalElements = _.isUndefined(b.transformLocalElements) ? false : b.transformLocalElements;
            a.setTransformOnlyServerElements = function(a) {
                b.transformLocalElements = !a;
            };
            b.fullResponse = _.isUndefined(b.fullResponse) ? false : b.fullResponse;
            a.setFullResponse = function(a) {
                b.fullResponse = a;
                return this;
            };
            b.urlCreatorFactory = {};
            var e = function() {};
            e.prototype.setConfig = function(a) {
                this.config = a;
                return this;
            };
            e.prototype.parentsArray = function(a) {
                var b = [];
                while (a) {
                    b.push(a);
                    a = a[this.config.restangularFields.parentResource];
                }
                return b.reverse();
            };
            function f(a, b, c, d) {
                var e = {};
                _.each(_.keys(d), function(f) {
                    var g = d[f];
                    g.params = _.extend({}, g.params, a.defaultRequestParams[g.method.toLowerCase()]);
                    if (_.isEmpty(g.params)) {
                        delete g.params;
                    }
                    if (a.isSafe(g.method)) {
                        e[f] = function() {
                            return b(_.extend(g, {
                                url: c
                            }));
                        };
                    } else {
                        e[f] = function(a) {
                            return b(_.extend(g, {
                                url: c,
                                data: a
                            }));
                        };
                    }
                });
                return e;
            }
            e.prototype.resource = function(a, c, d, e, g, h, i, j) {
                var k = _.defaults(g || {}, this.config.defaultRequestParams.common);
                var l = _.defaults(e || {}, this.config.defaultHeaders);
                if (i) {
                    if (!b.isSafe(j)) {
                        l["If-Match"] = i;
                    } else {
                        l["If-None-Match"] = i;
                    }
                }
                var m = this.base(a);
                if (h) {
                    var n = "";
                    if (!/\/$/.test(m)) {
                        n += "/";
                    }
                    n += h;
                    m += n;
                }
                if (this.config.suffix && m.indexOf(this.config.suffix, m.length - this.config.suffix.length) === -1 && !this.config.getUrlFromElem(a)) {
                    m += this.config.suffix;
                }
                a[this.config.restangularFields.httpConfig] = undefined;
                return f(this.config, c, m, {
                    getList: this.config.withHttpValues(d, {
                        method: "GET",
                        params: k,
                        headers: l
                    }),
                    get: this.config.withHttpValues(d, {
                        method: "GET",
                        params: k,
                        headers: l
                    }),
                    jsonp: this.config.withHttpValues(d, {
                        method: "jsonp",
                        params: k,
                        headers: l
                    }),
                    put: this.config.withHttpValues(d, {
                        method: "PUT",
                        params: k,
                        headers: l
                    }),
                    post: this.config.withHttpValues(d, {
                        method: "POST",
                        params: k,
                        headers: l
                    }),
                    remove: this.config.withHttpValues(d, {
                        method: "DELETE",
                        params: k,
                        headers: l
                    }),
                    head: this.config.withHttpValues(d, {
                        method: "HEAD",
                        params: k,
                        headers: l
                    }),
                    trace: this.config.withHttpValues(d, {
                        method: "TRACE",
                        params: k,
                        headers: l
                    }),
                    options: this.config.withHttpValues(d, {
                        method: "OPTIONS",
                        params: k,
                        headers: l
                    }),
                    patch: this.config.withHttpValues(d, {
                        method: "PATCH",
                        params: k,
                        headers: l
                    })
                });
            };
            var g = function() {};
            g.prototype = new e();
            g.prototype.normalizeUrl = function(a) {
                var b = /(http[s]?:\/\/)?(.*)?/.exec(a);
                b[2] = b[2].replace(/[\\\/]+/g, "/");
                return typeof b[1] !== "undefined" ? b[1] + b[2] : b[2];
            };
            g.prototype.base = function(a) {
                var c = this;
                return _.reduce(this.parentsArray(a), function(a, d) {
                    var e;
                    var f = c.config.getUrlFromElem(d);
                    if (f) {
                        if (c.config.isAbsoluteUrl(f)) {
                            return f;
                        } else {
                            e = f;
                        }
                    } else {
                        e = d[c.config.restangularFields.route];
                        if (d[c.config.restangularFields.restangularCollection]) {
                            var g = d[c.config.restangularFields.ids];
                            if (g) {
                                e += "/" + g.join(",");
                            }
                        } else {
                            var h;
                            if (c.config.useCannonicalId) {
                                h = c.config.getCannonicalIdFromElem(d);
                            } else {
                                h = c.config.getIdFromElem(d);
                            }
                            if (b.isValidId(h) && !d.singleOne) {
                                e += "/" + (c.config.encodeIds ? encodeURIComponent(h) : h);
                            }
                        }
                    }
                    a = a.replace(/\/$/, "") + "/" + e;
                    return c.normalizeUrl(a);
                }, this.config.baseUrl);
            };
            g.prototype.fetchUrl = function(a, b) {
                var c = this.base(a);
                if (b) {
                    c += "/" + b;
                }
                return c;
            };
            g.prototype.fetchRequestedUrl = function(a, c) {
                var d = this.fetchUrl(a, c);
                var e = a[b.restangularFields.reqParams];
                function f(a) {
                    var b = [];
                    for (var c in a) {
                        if (a.hasOwnProperty(c)) {
                            b.push(c);
                        }
                    }
                    return b.sort();
                }
                function g(a, b, c) {
                    var d = f(a);
                    for (var e = 0; e < d.length; e++) {
                        b.call(c, a[d[e]], d[e]);
                    }
                    return d;
                }
                function h(a, b) {
                    return encodeURIComponent(a).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, b ? "%20" : "+");
                }
                if (!e) {
                    return d + (this.config.suffix || "");
                }
                var i = [];
                g(e, function(a, b) {
                    if (a === null || a === undefined) {
                        return;
                    }
                    if (!angular.isArray(a)) {
                        a = [ a ];
                    }
                    angular.forEach(a, function(a) {
                        if (angular.isObject(a)) {
                            a = angular.toJson(a);
                        }
                        i.push(h(b) + "=" + h(a));
                    });
                });
                return d + (this.config.suffix || "") + (d.indexOf("?") === -1 ? "?" : "&") + i.join("&");
            };
            b.urlCreatorFactory.path = g;
        };
        var b = {};
        a.init(this, b);
        this.$get = [ "$http", "$q", function(c, d) {
            function e(b) {
                var f = {};
                var g = new b.urlCreatorFactory[b.urlCreator]();
                g.setConfig(b);
                function h(a, c, d, e, f) {
                    c[b.restangularFields.route] = d;
                    c[b.restangularFields.getRestangularUrl] = _.bind(g.fetchUrl, g, c);
                    c[b.restangularFields.getRequestedUrl] = _.bind(g.fetchRequestedUrl, g, c);
                    c[b.restangularFields.addRestangularMethod] = _.bind(N, c);
                    c[b.restangularFields.clone] = _.bind(t, c, c);
                    c[b.restangularFields.reqParams] = _.isEmpty(e) ? null : e;
                    c[b.restangularFields.withHttpConfig] = _.bind(B, c);
                    c[b.restangularFields.plain] = _.bind(r, c, c);
                    c[b.restangularFields.restangularized] = true;
                    c[b.restangularFields.one] = _.bind(i, c, c);
                    c[b.restangularFields.all] = _.bind(j, c, c);
                    c[b.restangularFields.several] = _.bind(k, c, c);
                    c[b.restangularFields.oneUrl] = _.bind(l, c, c);
                    c[b.restangularFields.allUrl] = _.bind(m, c, c);
                    c[b.restangularFields.fromServer] = !!f;
                    if (a && b.shouldSaveParent(d)) {
                        var h = b.getIdFromElem(a);
                        var n = b.getUrlFromElem(a);
                        var o = _.union(_.values(_.pick(b.restangularFields, [ "route", "singleOne", "parentResource" ])), b.extraFields);
                        var p = _.pick(a, o);
                        if (b.isValidId(h)) {
                            b.setIdToElem(p, h, d);
                        }
                        if (b.isValidId(n)) {
                            b.setUrlToElem(p, n, d);
                        }
                        c[b.restangularFields.parentResource] = p;
                    } else {
                        c[b.restangularFields.parentResource] = null;
                    }
                    return c;
                }
                function i(a, c, d, e) {
                    var f;
                    if (_.isNumber(c) || _.isNumber(a)) {
                        f = "You're creating a Restangular entity with the number ";
                        f += "instead of the route or the parent. For example, you can't call .one(12).";
                        throw new Error(f);
                    }
                    if (_.isUndefined(c)) {
                        f = "You're creating a Restangular entity either without the path. ";
                        f += "For example you can't call .one(). Please check if your arguments are valid.";
                        throw new Error(f);
                    }
                    var g = {};
                    b.setIdToElem(g, d, c);
                    b.setFieldToElem(b.restangularFields.singleOne, g, e);
                    return u(a, g, c, false);
                }
                function j(a, b) {
                    return v(a, [], b, false);
                }
                function k(a, c) {
                    var d = [];
                    d[b.restangularFields.ids] = Array.prototype.splice.call(arguments, 2);
                    return v(a, d, c, false);
                }
                function l(a, c, d) {
                    if (!c) {
                        throw new Error("Route is mandatory when creating new Restangular objects.");
                    }
                    var e = {};
                    b.setUrlToElem(e, d, c);
                    return u(a, e, c, false);
                }
                function m(a, c, d) {
                    if (!c) {
                        throw new Error("Route is mandatory when creating new Restangular objects.");
                    }
                    var e = {};
                    b.setUrlToElem(e, d, c);
                    return v(a, e, c, false);
                }
                function n(a, c, d) {
                    a.call = _.bind(o, a);
                    a.get = _.bind(p, a);
                    a[b.restangularFields.restangularCollection] = c;
                    if (c) {
                        a.push = _.bind(o, a, "push");
                    }
                    a.$object = d;
                    if (b.restangularizePromiseInterceptor) {
                        b.restangularizePromiseInterceptor(a);
                    }
                    return a;
                }
                function o(a) {
                    var c = d.defer();
                    var e = arguments;
                    var f = {};
                    this.then(function(b) {
                        var d = Array.prototype.slice.call(e, 1);
                        var g = b[a];
                        g.apply(b, d);
                        f = b;
                        c.resolve(b);
                    });
                    return n(c.promise, this[b.restangularFields.restangularCollection], f);
                }
                function p(a) {
                    var c = d.defer();
                    var e = {};
                    this.then(function(b) {
                        e = b[a];
                        c.resolve(e);
                    });
                    return n(c.promise, this[b.restangularFields.restangularCollection], e);
                }
                function q(a, c, d, e) {
                    _.extend(e, d);
                    if (b.fullResponse) {
                        return a.resolve(_.extend(c, {
                            data: d
                        }));
                    } else {
                        a.resolve(d);
                    }
                }
                function r(a) {
                    if (_.isArray(a)) {
                        var c = [];
                        _.each(a, function(a) {
                            c.push(b.isRestangularized(a) ? r(a) : a);
                        });
                        return c;
                    } else {
                        return _.omit(a, _.values(_.omit(b.restangularFields, "id")));
                    }
                }
                function s(a) {
                    a[b.restangularFields.customOperation] = _.bind(M, a);
                    _.each([ "put", "post", "get", "delete" ], function(b) {
                        _.each([ "do", "custom" ], function(c) {
                            var d = b === "delete" ? "remove" : b;
                            var e = c + b.toUpperCase();
                            var f;
                            if (d !== "put" && d !== "post") {
                                f = M;
                            } else {
                                f = function(a, b, c, d, e) {
                                    return _.bind(M, this)(a, c, d, e, b);
                                };
                            }
                            a[e] = _.bind(f, a, d);
                        });
                    });
                    a[b.restangularFields.customGETLIST] = _.bind(A, a);
                    a[b.restangularFields.doGETLIST] = a[b.restangularFields.customGETLIST];
                }
                function t(a, c) {
                    var d = angular.copy(a, c);
                    return u(d[b.restangularFields.parentResource], d, d[b.restangularFields.route], true);
                }
                function u(a, c, d, e, g, i) {
                    var j = b.onBeforeElemRestangularized(c, false, d);
                    var k = h(a, j, d, i, e);
                    if (b.useCannonicalId) {
                        k[b.restangularFields.cannonicalId] = b.getIdFromElem(k);
                    }
                    if (g) {
                        k[b.restangularFields.getParentList] = function() {
                            return g;
                        };
                    }
                    k[b.restangularFields.restangularCollection] = false;
                    k[b.restangularFields.get] = _.bind(E, k);
                    k[b.restangularFields.getList] = _.bind(A, k);
                    k[b.restangularFields.put] = _.bind(G, k);
                    k[b.restangularFields.post] = _.bind(H, k);
                    k[b.restangularFields.remove] = _.bind(F, k);
                    k[b.restangularFields.head] = _.bind(I, k);
                    k[b.restangularFields.trace] = _.bind(J, k);
                    k[b.restangularFields.options] = _.bind(K, k);
                    k[b.restangularFields.patch] = _.bind(L, k);
                    k[b.restangularFields.save] = _.bind(C, k);
                    s(k);
                    return b.transformElem(k, false, d, f, true);
                }
                function v(a, c, d, e, g) {
                    var i = b.onBeforeElemRestangularized(c, true, d);
                    var j = h(a, i, d, g, e);
                    j[b.restangularFields.restangularCollection] = true;
                    j[b.restangularFields.post] = _.bind(H, j, null);
                    j[b.restangularFields.remove] = _.bind(F, j);
                    j[b.restangularFields.head] = _.bind(I, j);
                    j[b.restangularFields.trace] = _.bind(J, j);
                    j[b.restangularFields.putElement] = _.bind(y, j);
                    j[b.restangularFields.options] = _.bind(K, j);
                    j[b.restangularFields.patch] = _.bind(L, j);
                    j[b.restangularFields.get] = _.bind(x, j);
                    j[b.restangularFields.getList] = _.bind(A, j, null);
                    s(j);
                    return b.transformElem(j, true, d, f, true);
                }
                function w(a, b, c) {
                    var d = v(a, b, c, false);
                    _.each(d, function(b) {
                        u(a, b, c, false);
                    });
                    return d;
                }
                function x(a, b, c) {
                    return this.customGET(a.toString(), b, c);
                }
                function y(a, c, e) {
                    var g = this;
                    var h = this[a];
                    var i = d.defer();
                    var j = [];
                    j = b.transformElem(j, true, h[b.restangularFields.route], f);
                    h.put(c, e).then(function(b) {
                        var c = t(g);
                        c[a] = b;
                        j = c;
                        i.resolve(c);
                    }, function(a) {
                        i.reject(a);
                    });
                    return n(i.promise, true, j);
                }
                function z(a, c, d, e, f, g) {
                    var h = b.responseExtractor(a, c, d, e, f, g);
                    var i = f.headers("ETag");
                    if (h && i) {
                        h[b.restangularFields.etag] = i;
                    }
                    return h;
                }
                function A(a, e, h) {
                    var i = this;
                    var j = d.defer();
                    var k = "getList";
                    var l = g.fetchUrl(this, a);
                    var m = a || i[b.restangularFields.route];
                    var o = b.fullRequestInterceptor(null, k, m, l, h || {}, e || {}, this[b.restangularFields.httpConfig] || {});
                    var p = [];
                    p = b.transformElem(p, true, m, f);
                    var r = "getList";
                    if (b.jsonp) {
                        r = "jsonp";
                    }
                    var s = function(c) {
                        var d = c.data;
                        var e = c.config.params;
                        var f = z(d, k, m, l, c, j);
                        if (_.isUndefined(f) || "" === f) {
                            f = [];
                        }
                        if (!_.isArray(f)) {
                            throw new Error("Response for getList SHOULD be an array and not an object or something else");
                        }
                        var g = _.map(f, function(c) {
                            if (!i[b.restangularFields.restangularCollection]) {
                                return u(i, c, a, true, f);
                            } else {
                                return u(i[b.restangularFields.parentResource], c, i[b.restangularFields.route], true, f);
                            }
                        });
                        g = _.extend(f, g);
                        if (!i[b.restangularFields.restangularCollection]) {
                            q(j, c, v(i, g, a, true, e), p);
                        } else {
                            q(j, c, v(i[b.restangularFields.parentResource], g, i[b.restangularFields.route], true, e), p);
                        }
                    };
                    g.resource(this, c, o.httpConfig, o.headers, o.params, a, this[b.restangularFields.etag], k)[r]().then(s, function t(a) {
                        if (a.status === 304 && i[b.restangularFields.restangularCollection]) {
                            q(j, a, i, p);
                        } else if (_.every(b.errorInterceptors, function(b) {
                            return b(a, j, s) !== false;
                        })) {
                            j.reject(a);
                        }
                    });
                    return n(j.promise, true, p);
                }
                function B(a) {
                    this[b.restangularFields.httpConfig] = a;
                    return this;
                }
                function C(a, c) {
                    if (this[b.restangularFields.fromServer]) {
                        return this[b.restangularFields.put](a, c);
                    } else {
                        return _.bind(D, this)("post", undefined, a, undefined, c);
                    }
                }
                function D(a, e, h, i, j) {
                    var k = this;
                    var l = d.defer();
                    var m = h || {};
                    var o = e || this[b.restangularFields.route];
                    var p = g.fetchUrl(this, e);
                    var s = i || this;
                    var t = s[b.restangularFields.etag] || (a !== "post" ? this[b.restangularFields.etag] : null);
                    if (_.isObject(s) && b.isRestangularized(s)) {
                        s = r(s);
                    }
                    var v = b.fullRequestInterceptor(s, a, o, p, j || {}, m || {}, this[b.restangularFields.httpConfig] || {});
                    var w = {};
                    w = b.transformElem(w, false, o, f);
                    var x = function(c) {
                        var d = c.data;
                        var e = c.config.params;
                        var f = z(d, a, o, p, c, l);
                        if (f) {
                            if (a === "post" && !k[b.restangularFields.restangularCollection]) {
                                var g = u(k[b.restangularFields.parentResource], f, o, true, null, e);
                                q(l, c, g, w);
                            } else {
                                var g = u(k[b.restangularFields.parentResource], f, k[b.restangularFields.route], true, null, e);
                                g[b.restangularFields.singleOne] = k[b.restangularFields.singleOne];
                                q(l, c, g, w);
                            }
                        } else {
                            q(l, c, undefined, w);
                        }
                    };
                    var y = function(c) {
                        if (c.status === 304 && b.isSafe(a)) {
                            q(l, c, k, w);
                        } else if (_.every(b.errorInterceptors, function(a) {
                            return a(c, l, x) !== false;
                        })) {
                            l.reject(c);
                        }
                    };
                    var A = a;
                    var B = _.extend({}, v.headers);
                    var C = b.isOverridenMethod(a);
                    if (C) {
                        A = "post";
                        B = _.extend(B, {
                            "X-HTTP-Method-Override": a === "remove" ? "DELETE" : a.toUpperCase()
                        });
                    } else if (b.jsonp && A === "get") {
                        A = "jsonp";
                    }
                    if (b.isSafe(a)) {
                        if (C) {
                            g.resource(this, c, v.httpConfig, B, v.params, e, t, A)[A]({}).then(x, y);
                        } else {
                            g.resource(this, c, v.httpConfig, B, v.params, e, t, A)[A]().then(x, y);
                        }
                    } else {
                        g.resource(this, c, v.httpConfig, B, v.params, e, t, A)[A](v.element).then(x, y);
                    }
                    return n(l.promise, false, w);
                }
                function E(a, b) {
                    return _.bind(D, this)("get", undefined, a, undefined, b);
                }
                function F(a, b) {
                    return _.bind(D, this)("remove", undefined, a, undefined, b);
                }
                function G(a, b) {
                    return _.bind(D, this)("put", undefined, a, undefined, b);
                }
                function H(a, b, c, d) {
                    return _.bind(D, this)("post", a, c, b, d);
                }
                function I(a, b) {
                    return _.bind(D, this)("head", undefined, a, undefined, b);
                }
                function J(a, b) {
                    return _.bind(D, this)("trace", undefined, a, undefined, b);
                }
                function K(a, b) {
                    return _.bind(D, this)("options", undefined, a, undefined, b);
                }
                function L(a, b, c) {
                    return _.bind(D, this)("patch", undefined, b, a, c);
                }
                function M(a, b, c, d, e) {
                    return _.bind(D, this)(a, b, c, e, d);
                }
                function N(a, c, d, e, f, g) {
                    var h;
                    if (c === "getList") {
                        h = _.bind(A, this, d);
                    } else {
                        h = _.bind(M, this, c, d);
                    }
                    var i = function(a, b, c) {
                        var d = _.defaults({
                            params: a,
                            headers: b,
                            elem: c
                        }, {
                            params: e,
                            headers: f,
                            elem: g
                        });
                        return h(d.params, d.headers, d.elem);
                    };
                    if (b.isSafe(c)) {
                        this[a] = i;
                    } else {
                        this[a] = function(a, b, c) {
                            return i(b, c, a);
                        };
                    }
                }
                function O(c) {
                    var d = angular.copy(_.omit(b, "configuration"));
                    a.init(d, d);
                    c(d);
                    return e(d);
                }
                function P(a, c) {
                    var d = _.values(b.restangularFields);
                    var e = {};
                    var g = (c || f).all(a);
                    e.one = _.bind(i, c || f, c, a);
                    e.post = _.bind(g.post, g);
                    e.getList = _.bind(g.getList, g);
                    for (var h in g) {
                        if (g.hasOwnProperty(h) && _.isFunction(g[h]) && !_.contains(d, h)) {
                            e[h] = _.bind(g[h], g);
                        }
                    }
                    return e;
                }
                a.init(f, b);
                f.copy = _.bind(t, f);
                f.service = _.bind(P, f);
                f.withConfig = _.bind(O, f);
                f.one = _.bind(i, f, null);
                f.all = _.bind(j, f, null);
                f.several = _.bind(k, f, null);
                f.oneUrl = _.bind(l, f, null);
                f.allUrl = _.bind(m, f, null);
                f.stripRestangular = _.bind(r, f);
                f.restangularizeElement = _.bind(u, f);
                f.restangularizeCollection = _.bind(w, f);
                return f;
            }
            return e(b);
        } ];
    });
})();

!function(a, b) {
    b["true"] = a, function(b, c) {
        "function" == typeof define && define.amd ? define(b) : "undefined" != typeof module && "object" == typeof a ? module.exports = b() : c.rangy = b();
    }(function() {
        function a(a, b) {
            var c = typeof a[b];
            return c == u || !(c != t || !a[b]) || "unknown" == c;
        }
        function b(a, b) {
            return !(typeof a[b] != t || !a[b]);
        }
        function c(a, b) {
            return typeof a[b] != v;
        }
        function d(a) {
            return function(b, c) {
                for (var d = c.length; d--; ) if (!a(b, c[d])) return !1;
                return !0;
            };
        }
        function e(a) {
            return a && A(a, z) && C(a, y);
        }
        function f(a) {
            return b(a, "body") ? a.body : a.getElementsByTagName("body")[0];
        }
        function g(b) {
            typeof console != v && a(console, "log") && console.log(b);
        }
        function h(a, b) {
            F && b ? alert(a) : g(a);
        }
        function i(a) {
            H.initialized = !0, H.supported = !1, h("Rangy is not supported in this environment. Reason: " + a, H.config.alertOnFail);
        }
        function j(a) {
            h("Rangy warning: " + a, H.config.alertOnWarn);
        }
        function k(a) {
            return a.message || a.description || String(a);
        }
        function l() {
            if (F && !H.initialized) {
                var b, c = !1, d = !1;
                a(document, "createRange") && (b = document.createRange(), A(b, x) && C(b, w) && (c = !0));
                var h = f(document);
                if (!h || "body" != h.nodeName.toLowerCase()) return void i("No body element found");
                if (h && a(h, "createTextRange") && (b = h.createTextRange(), e(b) && (d = !0)), 
                !c && !d) return void i("Neither Range nor TextRange are available");
                H.initialized = !0, H.features = {
                    implementsDomRange: c,
                    implementsTextRange: d
                };
                var j, l;
                for (var m in E) (j = E[m]) instanceof p && j.init(j, H);
                for (var n = 0, o = K.length; o > n; ++n) try {
                    K[n](H);
                } catch (q) {
                    l = "Rangy init listener threw an exception. Continuing. Detail: " + k(q), g(l);
                }
            }
        }
        function m(a, b, c) {
            c && (a += " in module " + c.name), H.warn("DEPRECATED: " + a + " is deprecated. Please use " + b + " instead.");
        }
        function n(a, b, c, d) {
            a[b] = function() {
                return m(b, c, d), a[c].apply(a, G.toArray(arguments));
            };
        }
        function o(a) {
            a = a || window, l();
            for (var b = 0, c = L.length; c > b; ++b) L[b](a);
        }
        function p(a, b, c) {
            this.name = a, this.dependencies = b, this.initialized = !1, this.supported = !1, 
            this.initializer = c;
        }
        function q(a, b, c) {
            var d = new p(a, b, function(b) {
                if (!b.initialized) {
                    b.initialized = !0;
                    try {
                        c(H, b), b.supported = !0;
                    } catch (d) {
                        var e = "Module '" + a + "' failed to load: " + k(d);
                        g(e), d.stack && g(d.stack);
                    }
                }
            });
            return E[a] = d, d;
        }
        function r() {}
        function s() {}
        var t = "object", u = "function", v = "undefined", w = [ "startContainer", "startOffset", "endContainer", "endOffset", "collapsed", "commonAncestorContainer" ], x = [ "setStart", "setStartBefore", "setStartAfter", "setEnd", "setEndBefore", "setEndAfter", "collapse", "selectNode", "selectNodeContents", "compareBoundaryPoints", "deleteContents", "extractContents", "cloneContents", "insertNode", "surroundContents", "cloneRange", "toString", "detach" ], y = [ "boundingHeight", "boundingLeft", "boundingTop", "boundingWidth", "htmlText", "text" ], z = [ "collapse", "compareEndPoints", "duplicate", "moveToElementText", "parentElement", "select", "setEndPoint", "getBoundingClientRect" ], A = d(a), B = d(b), C = d(c), D = [].forEach ? function(a, b) {
            a.forEach(b);
        } : function(a, b) {
            for (var c = 0, d = a.length; d > c; ++c) b(a[c], c);
        }, E = {}, F = typeof window != v && typeof document != v, G = {
            isHostMethod: a,
            isHostObject: b,
            isHostProperty: c,
            areHostMethods: A,
            areHostObjects: B,
            areHostProperties: C,
            isTextRange: e,
            getBody: f,
            forEach: D
        }, H = {
            version: "1.3.0",
            initialized: !1,
            isBrowser: F,
            supported: !0,
            util: G,
            features: {},
            modules: E,
            config: {
                alertOnFail: !1,
                alertOnWarn: !1,
                preferTextRange: !1,
                autoInitialize: typeof rangyAutoInitialize == v ? !0 : rangyAutoInitialize
            }
        };
        H.fail = i, H.warn = j;
        var I;
        ({}).hasOwnProperty ? (G.extend = I = function(a, b, c) {
            var d, e;
            for (var f in b) b.hasOwnProperty(f) && (d = a[f], e = b[f], c && null !== d && "object" == typeof d && null !== e && "object" == typeof e && I(d, e, !0), 
            a[f] = e);
            return b.hasOwnProperty("toString") && (a.toString = b.toString), a;
        }, G.createOptions = function(a, b) {
            var c = {};
            return I(c, b), a && I(c, a), c;
        }) : i("hasOwnProperty not supported"), F || i("Rangy can only run in a browser"), 
        function() {
            var a;
            if (F) {
                var b = document.createElement("div");
                b.appendChild(document.createElement("span"));
                var c = [].slice;
                try {
                    1 == c.call(b.childNodes, 0)[0].nodeType && (a = function(a) {
                        return c.call(a, 0);
                    });
                } catch (d) {}
            }
            a || (a = function(a) {
                for (var b = [], c = 0, d = a.length; d > c; ++c) b[c] = a[c];
                return b;
            }), G.toArray = a;
        }();
        var J;
        F && (a(document, "addEventListener") ? J = function(a, b, c) {
            a.addEventListener(b, c, !1);
        } : a(document, "attachEvent") ? J = function(a, b, c) {
            a.attachEvent("on" + b, c);
        } : i("Document does not have required addEventListener or attachEvent method"), 
        G.addListener = J);
        var K = [];
        G.deprecationNotice = m, G.createAliasForDeprecatedMethod = n, H.init = l, H.addInitListener = function(a) {
            H.initialized ? a(H) : K.push(a);
        };
        var L = [];
        H.addShimListener = function(a) {
            L.push(a);
        }, F && (H.shim = H.createMissingNativeApi = o, n(H, "createMissingNativeApi", "shim")), 
        p.prototype = {
            init: function() {
                for (var a, b, c = this.dependencies || [], d = 0, e = c.length; e > d; ++d) {
                    if (b = c[d], a = E[b], !(a && a instanceof p)) throw new Error("required module '" + b + "' not found");
                    if (a.init(), !a.supported) throw new Error("required module '" + b + "' not supported");
                }
                this.initializer(this);
            },
            fail: function(a) {
                throw this.initialized = !0, this.supported = !1, new Error(a);
            },
            warn: function(a) {
                H.warn("Module " + this.name + ": " + a);
            },
            deprecationNotice: function(a, b) {
                H.warn("DEPRECATED: " + a + " in module " + this.name + " is deprecated. Please use " + b + " instead");
            },
            createError: function(a) {
                return new Error("Error in Rangy " + this.name + " module: " + a);
            }
        }, H.createModule = function(a) {
            var b, c;
            2 == arguments.length ? (b = arguments[1], c = []) : (b = arguments[2], c = arguments[1]);
            var d = q(a, c, b);
            H.initialized && H.supported && d.init();
        }, H.createCoreModule = function(a, b, c) {
            q(a, b, c);
        }, H.RangePrototype = r, H.rangePrototype = new r(), H.selectionPrototype = new s(), 
        H.createCoreModule("DomUtil", [], function(a, b) {
            function c(a) {
                var b;
                return typeof a.namespaceURI == F || null === (b = a.namespaceURI) || "http://www.w3.org/1999/xhtml" == b;
            }
            function d(a) {
                var b = a.parentNode;
                return 1 == b.nodeType ? b : null;
            }
            function e(a) {
                for (var b = 0; a = a.previousSibling; ) ++b;
                return b;
            }
            function f(a) {
                switch (a.nodeType) {
                  case 7:
                  case 10:
                    return 0;

                  case 3:
                  case 8:
                    return a.length;

                  default:
                    return a.childNodes.length;
                }
            }
            function g(a, b) {
                var c, d = [];
                for (c = a; c; c = c.parentNode) d.push(c);
                for (c = b; c; c = c.parentNode) if (K(d, c)) return c;
                return null;
            }
            function h(a, b, c) {
                for (var d = c ? b : b.parentNode; d; ) {
                    if (d === a) return !0;
                    d = d.parentNode;
                }
                return !1;
            }
            function i(a, b) {
                return h(a, b, !0);
            }
            function j(a, b, c) {
                for (var d, e = c ? a : a.parentNode; e; ) {
                    if (d = e.parentNode, d === b) return e;
                    e = d;
                }
                return null;
            }
            function k(a) {
                var b = a.nodeType;
                return 3 == b || 4 == b || 8 == b;
            }
            function l(a) {
                if (!a) return !1;
                var b = a.nodeType;
                return 3 == b || 8 == b;
            }
            function m(a, b) {
                var c = b.nextSibling, d = b.parentNode;
                return c ? d.insertBefore(a, c) : d.appendChild(a), a;
            }
            function n(a, b, c) {
                var d = a.cloneNode(!1);
                if (d.deleteData(0, b), a.deleteData(b, a.length - b), m(d, a), c) for (var f, g = 0; f = c[g++]; ) f.node == a && f.offset > b ? (f.node = d, 
                f.offset -= b) : f.node == a.parentNode && f.offset > e(a) && ++f.offset;
                return d;
            }
            function o(a) {
                if (9 == a.nodeType) return a;
                if (typeof a.ownerDocument != F) return a.ownerDocument;
                if (typeof a.document != F) return a.document;
                if (a.parentNode) return o(a.parentNode);
                throw b.createError("getDocument: no document found for node");
            }
            function p(a) {
                var c = o(a);
                if (typeof c.defaultView != F) return c.defaultView;
                if (typeof c.parentWindow != F) return c.parentWindow;
                throw b.createError("Cannot get a window object for node");
            }
            function q(a) {
                if (typeof a.contentDocument != F) return a.contentDocument;
                if (typeof a.contentWindow != F) return a.contentWindow.document;
                throw b.createError("getIframeDocument: No Document object found for iframe element");
            }
            function r(a) {
                if (typeof a.contentWindow != F) return a.contentWindow;
                if (typeof a.contentDocument != F) return a.contentDocument.defaultView;
                throw b.createError("getIframeWindow: No Window object found for iframe element");
            }
            function s(a) {
                return a && G.isHostMethod(a, "setTimeout") && G.isHostObject(a, "document");
            }
            function t(a, b, c) {
                var d;
                if (a ? G.isHostProperty(a, "nodeType") ? d = 1 == a.nodeType && "iframe" == a.tagName.toLowerCase() ? q(a) : o(a) : s(a) && (d = a.document) : d = document, 
                !d) throw b.createError(c + "(): Parameter must be a Window object or DOM node");
                return d;
            }
            function u(a) {
                for (var b; b = a.parentNode; ) a = b;
                return a;
            }
            function v(a, c, d, f) {
                var h, i, k, l, m;
                if (a == d) return c === f ? 0 : f > c ? -1 : 1;
                if (h = j(d, a, !0)) return c <= e(h) ? -1 : 1;
                if (h = j(a, d, !0)) return e(h) < f ? -1 : 1;
                if (i = g(a, d), !i) throw new Error("comparePoints error: nodes have no common ancestor");
                if (k = a === i ? i : j(a, i, !0), l = d === i ? i : j(d, i, !0), k === l) throw b.createError("comparePoints got to case 4 and childA and childB are the same!");
                for (m = i.firstChild; m; ) {
                    if (m === k) return -1;
                    if (m === l) return 1;
                    m = m.nextSibling;
                }
            }
            function w(a) {
                var b;
                try {
                    return b = a.parentNode, !1;
                } catch (c) {
                    return !0;
                }
            }
            function x(a) {
                if (!a) return "[No node]";
                if (L && w(a)) return "[Broken node]";
                if (k(a)) return '"' + a.data + '"';
                if (1 == a.nodeType) {
                    var b = a.id ? ' id="' + a.id + '"' : "";
                    return "<" + a.nodeName + b + ">[index:" + e(a) + ",length:" + a.childNodes.length + "][" + (a.innerHTML || "[innerHTML not supported]").slice(0, 25) + "]";
                }
                return a.nodeName;
            }
            function y(a) {
                for (var b, c = o(a).createDocumentFragment(); b = a.firstChild; ) c.appendChild(b);
                return c;
            }
            function z(a, b, c) {
                var d = H(a), e = a.createElement("div");
                e.contentEditable = "" + !!c, b && (e.innerHTML = b);
                var f = d.firstChild;
                return f ? d.insertBefore(e, f) : d.appendChild(e), e;
            }
            function A(a) {
                return a.parentNode.removeChild(a);
            }
            function B(a) {
                this.root = a, this._next = a;
            }
            function C(a) {
                return new B(a);
            }
            function D(a, b) {
                this.node = a, this.offset = b;
            }
            function E(a) {
                this.code = this[a], this.codeName = a, this.message = "DOMException: " + this.codeName;
            }
            var F = "undefined", G = a.util, H = G.getBody;
            G.areHostMethods(document, [ "createDocumentFragment", "createElement", "createTextNode" ]) || b.fail("document missing a Node creation method"), 
            G.isHostMethod(document, "getElementsByTagName") || b.fail("document missing getElementsByTagName method");
            var I = document.createElement("div");
            G.areHostMethods(I, [ "insertBefore", "appendChild", "cloneNode" ] || !G.areHostObjects(I, [ "previousSibling", "nextSibling", "childNodes", "parentNode" ])) || b.fail("Incomplete Element implementation"), 
            G.isHostProperty(I, "innerHTML") || b.fail("Element is missing innerHTML property");
            var J = document.createTextNode("test");
            G.areHostMethods(J, [ "splitText", "deleteData", "insertData", "appendData", "cloneNode" ] || !G.areHostObjects(I, [ "previousSibling", "nextSibling", "childNodes", "parentNode" ]) || !G.areHostProperties(J, [ "data" ])) || b.fail("Incomplete Text Node implementation");
            var K = function(a, b) {
                for (var c = a.length; c--; ) if (a[c] === b) return !0;
                return !1;
            }, L = !1;
            !function() {
                var b = document.createElement("b");
                b.innerHTML = "1";
                var c = b.firstChild;
                b.innerHTML = "<br />", L = w(c), a.features.crashyTextNodes = L;
            }();
            var M;
            typeof window.getComputedStyle != F ? M = function(a, b) {
                return p(a).getComputedStyle(a, null)[b];
            } : typeof document.documentElement.currentStyle != F ? M = function(a, b) {
                return a.currentStyle ? a.currentStyle[b] : "";
            } : b.fail("No means of obtaining computed style properties found"), B.prototype = {
                _current: null,
                hasNext: function() {
                    return !!this._next;
                },
                next: function() {
                    var a, b, c = this._current = this._next;
                    if (this._current) if (a = c.firstChild) this._next = a; else {
                        for (b = null; c !== this.root && !(b = c.nextSibling); ) c = c.parentNode;
                        this._next = b;
                    }
                    return this._current;
                },
                detach: function() {
                    this._current = this._next = this.root = null;
                }
            }, D.prototype = {
                equals: function(a) {
                    return !!a && this.node === a.node && this.offset == a.offset;
                },
                inspect: function() {
                    return "[DomPosition(" + x(this.node) + ":" + this.offset + ")]";
                },
                toString: function() {
                    return this.inspect();
                }
            }, E.prototype = {
                INDEX_SIZE_ERR: 1,
                HIERARCHY_REQUEST_ERR: 3,
                WRONG_DOCUMENT_ERR: 4,
                NO_MODIFICATION_ALLOWED_ERR: 7,
                NOT_FOUND_ERR: 8,
                NOT_SUPPORTED_ERR: 9,
                INVALID_STATE_ERR: 11,
                INVALID_NODE_TYPE_ERR: 24
            }, E.prototype.toString = function() {
                return this.message;
            }, a.dom = {
                arrayContains: K,
                isHtmlNamespace: c,
                parentElement: d,
                getNodeIndex: e,
                getNodeLength: f,
                getCommonAncestor: g,
                isAncestorOf: h,
                isOrIsAncestorOf: i,
                getClosestAncestorIn: j,
                isCharacterDataNode: k,
                isTextOrCommentNode: l,
                insertAfter: m,
                splitDataNode: n,
                getDocument: o,
                getWindow: p,
                getIframeWindow: r,
                getIframeDocument: q,
                getBody: H,
                isWindow: s,
                getContentDocument: t,
                getRootContainer: u,
                comparePoints: v,
                isBrokenNode: w,
                inspectNode: x,
                getComputedStyleProperty: M,
                createTestElement: z,
                removeNode: A,
                fragmentFromNodeChildren: y,
                createIterator: C,
                DomPosition: D
            }, a.DOMException = E;
        }), H.createCoreModule("DomRange", [ "DomUtil" ], function(a, b) {
            function c(a, b) {
                return 3 != a.nodeType && (P(a, b.startContainer) || P(a, b.endContainer));
            }
            function d(a) {
                return a.document || Q(a.startContainer);
            }
            function e(a) {
                return W(a.startContainer);
            }
            function f(a) {
                return new L(a.parentNode, O(a));
            }
            function g(a) {
                return new L(a.parentNode, O(a) + 1);
            }
            function h(a, b, c) {
                var d = 11 == a.nodeType ? a.firstChild : a;
                return N(b) ? c == b.length ? J.insertAfter(a, b) : b.parentNode.insertBefore(a, 0 == c ? b : S(b, c)) : c >= b.childNodes.length ? b.appendChild(a) : b.insertBefore(a, b.childNodes[c]), 
                d;
            }
            function i(a, b, c) {
                if (z(a), z(b), d(b) != d(a)) throw new M("WRONG_DOCUMENT_ERR");
                var e = R(a.startContainer, a.startOffset, b.endContainer, b.endOffset), f = R(a.endContainer, a.endOffset, b.startContainer, b.startOffset);
                return c ? 0 >= e && f >= 0 : 0 > e && f > 0;
            }
            function j(a) {
                for (var b, c, e, f = d(a.range).createDocumentFragment(); c = a.next(); ) {
                    if (b = a.isPartiallySelectedSubtree(), c = c.cloneNode(!b), b && (e = a.getSubtreeIterator(), 
                    c.appendChild(j(e)), e.detach()), 10 == c.nodeType) throw new M("HIERARCHY_REQUEST_ERR");
                    f.appendChild(c);
                }
                return f;
            }
            function k(a, b, c) {
                var d, e;
                c = c || {
                    stop: !1
                };
                for (var f, g; f = a.next(); ) if (a.isPartiallySelectedSubtree()) {
                    if (b(f) === !1) return void (c.stop = !0);
                    if (g = a.getSubtreeIterator(), k(g, b, c), g.detach(), c.stop) return;
                } else for (d = J.createIterator(f); e = d.next(); ) if (b(e) === !1) return void (c.stop = !0);
            }
            function l(a) {
                for (var b; a.next(); ) a.isPartiallySelectedSubtree() ? (b = a.getSubtreeIterator(), 
                l(b), b.detach()) : a.remove();
            }
            function m(a) {
                for (var b, c, e = d(a.range).createDocumentFragment(); b = a.next(); ) {
                    if (a.isPartiallySelectedSubtree() ? (b = b.cloneNode(!1), c = a.getSubtreeIterator(), 
                    b.appendChild(m(c)), c.detach()) : a.remove(), 10 == b.nodeType) throw new M("HIERARCHY_REQUEST_ERR");
                    e.appendChild(b);
                }
                return e;
            }
            function n(a, b, c) {
                var d, e = !(!b || !b.length), f = !!c;
                e && (d = new RegExp("^(" + b.join("|") + ")$"));
                var g = [];
                return k(new p(a, !1), function(b) {
                    if (!(e && !d.test(b.nodeType) || f && !c(b))) {
                        var h = a.startContainer;
                        if (b != h || !N(h) || a.startOffset != h.length) {
                            var i = a.endContainer;
                            b == i && N(i) && 0 == a.endOffset || g.push(b);
                        }
                    }
                }), g;
            }
            function o(a) {
                var b = "undefined" == typeof a.getName ? "Range" : a.getName();
                return "[" + b + "(" + J.inspectNode(a.startContainer) + ":" + a.startOffset + ", " + J.inspectNode(a.endContainer) + ":" + a.endOffset + ")]";
            }
            function p(a, b) {
                if (this.range = a, this.clonePartiallySelectedTextNodes = b, !a.collapsed) {
                    this.sc = a.startContainer, this.so = a.startOffset, this.ec = a.endContainer, this.eo = a.endOffset;
                    var c = a.commonAncestorContainer;
                    this.sc === this.ec && N(this.sc) ? (this.isSingleCharacterDataNode = !0, this._first = this._last = this._next = this.sc) : (this._first = this._next = this.sc !== c || N(this.sc) ? T(this.sc, c, !0) : this.sc.childNodes[this.so], 
                    this._last = this.ec !== c || N(this.ec) ? T(this.ec, c, !0) : this.ec.childNodes[this.eo - 1]);
                }
            }
            function q(a) {
                return function(b, c) {
                    for (var d, e = c ? b : b.parentNode; e; ) {
                        if (d = e.nodeType, V(a, d)) return e;
                        e = e.parentNode;
                    }
                    return null;
                };
            }
            function r(a, b) {
                if (ea(a, b)) throw new M("INVALID_NODE_TYPE_ERR");
            }
            function s(a, b) {
                if (!V(b, a.nodeType)) throw new M("INVALID_NODE_TYPE_ERR");
            }
            function t(a, b) {
                if (0 > b || b > (N(a) ? a.length : a.childNodes.length)) throw new M("INDEX_SIZE_ERR");
            }
            function u(a, b) {
                if (ca(a, !0) !== ca(b, !0)) throw new M("WRONG_DOCUMENT_ERR");
            }
            function v(a) {
                if (da(a, !0)) throw new M("NO_MODIFICATION_ALLOWED_ERR");
            }
            function w(a, b) {
                if (!a) throw new M(b);
            }
            function x(a, b) {
                return b <= (N(a) ? a.length : a.childNodes.length);
            }
            function y(a) {
                return !!a.startContainer && !!a.endContainer && !(X && (J.isBrokenNode(a.startContainer) || J.isBrokenNode(a.endContainer))) && W(a.startContainer) == W(a.endContainer) && x(a.startContainer, a.startOffset) && x(a.endContainer, a.endOffset);
            }
            function z(a) {
                if (!y(a)) throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: (" + a.inspect() + ")");
            }
            function A(a, b) {
                z(a);
                var c = a.startContainer, d = a.startOffset, e = a.endContainer, f = a.endOffset, g = c === e;
                N(e) && f > 0 && f < e.length && S(e, f, b), N(c) && d > 0 && d < c.length && (c = S(c, d, b), 
                g ? (f -= d, e = c) : e == c.parentNode && f >= O(c) && f++, d = 0), a.setStartAndEnd(c, d, e, f);
            }
            function B(a) {
                z(a);
                var b = a.commonAncestorContainer.parentNode.cloneNode(!1);
                return b.appendChild(a.cloneContents()), b.innerHTML;
            }
            function C(a) {
                a.START_TO_START = ka, a.START_TO_END = la, a.END_TO_END = ma, a.END_TO_START = na, 
                a.NODE_BEFORE = oa, a.NODE_AFTER = pa, a.NODE_BEFORE_AND_AFTER = qa, a.NODE_INSIDE = ra;
            }
            function D(a) {
                C(a), C(a.prototype);
            }
            function E(a, b) {
                return function() {
                    z(this);
                    var c, d, e = this.startContainer, f = this.startOffset, h = this.commonAncestorContainer, i = new p(this, !0);
                    e !== h && (c = T(e, h, !0), d = g(c), e = d.node, f = d.offset), k(i, v), i.reset();
                    var j = a(i);
                    return i.detach(), b(this, e, f, e, f), j;
                };
            }
            function F(b, d) {
                function e(a, b) {
                    return function(c) {
                        s(c, Z), s(W(c), $);
                        var d = (a ? f : g)(c);
                        (b ? h : i)(this, d.node, d.offset);
                    };
                }
                function h(a, b, c) {
                    var e = a.endContainer, f = a.endOffset;
                    (b !== a.startContainer || c !== a.startOffset) && ((W(b) != W(e) || 1 == R(b, c, e, f)) && (e = b, 
                    f = c), d(a, b, c, e, f));
                }
                function i(a, b, c) {
                    var e = a.startContainer, f = a.startOffset;
                    (b !== a.endContainer || c !== a.endOffset) && ((W(b) != W(e) || -1 == R(b, c, e, f)) && (e = b, 
                    f = c), d(a, e, f, b, c));
                }
                var j = function() {};
                j.prototype = a.rangePrototype, b.prototype = new j(), K.extend(b.prototype, {
                    setStart: function(a, b) {
                        r(a, !0), t(a, b), h(this, a, b);
                    },
                    setEnd: function(a, b) {
                        r(a, !0), t(a, b), i(this, a, b);
                    },
                    setStartAndEnd: function() {
                        var a = arguments, b = a[0], c = a[1], e = b, f = c;
                        switch (a.length) {
                          case 3:
                            f = a[2];
                            break;

                          case 4:
                            e = a[2], f = a[3];
                        }
                        d(this, b, c, e, f);
                    },
                    setBoundary: function(a, b, c) {
                        this["set" + (c ? "Start" : "End")](a, b);
                    },
                    setStartBefore: e(!0, !0),
                    setStartAfter: e(!1, !0),
                    setEndBefore: e(!0, !1),
                    setEndAfter: e(!1, !1),
                    collapse: function(a) {
                        z(this), a ? d(this, this.startContainer, this.startOffset, this.startContainer, this.startOffset) : d(this, this.endContainer, this.endOffset, this.endContainer, this.endOffset);
                    },
                    selectNodeContents: function(a) {
                        r(a, !0), d(this, a, 0, a, U(a));
                    },
                    selectNode: function(a) {
                        r(a, !1), s(a, Z);
                        var b = f(a), c = g(a);
                        d(this, b.node, b.offset, c.node, c.offset);
                    },
                    extractContents: E(m, d),
                    deleteContents: E(l, d),
                    canSurroundContents: function() {
                        z(this), v(this.startContainer), v(this.endContainer);
                        var a = new p(this, !0), b = a._first && c(a._first, this) || a._last && c(a._last, this);
                        return a.detach(), !b;
                    },
                    splitBoundaries: function() {
                        A(this);
                    },
                    splitBoundariesPreservingPositions: function(a) {
                        A(this, a);
                    },
                    normalizeBoundaries: function() {
                        z(this);
                        var a, b = this.startContainer, c = this.startOffset, e = this.endContainer, f = this.endOffset, g = function(a) {
                            var b = a.nextSibling;
                            b && b.nodeType == a.nodeType && (e = a, f = a.length, a.appendData(b.data), Y(b));
                        }, h = function(a) {
                            var d = a.previousSibling;
                            if (d && d.nodeType == a.nodeType) {
                                b = a;
                                var g = a.length;
                                if (c = d.length, a.insertData(0, d.data), Y(d), b == e) f += c, e = b; else if (e == a.parentNode) {
                                    var h = O(a);
                                    f == h ? (e = a, f = g) : f > h && f--;
                                }
                            }
                        }, i = !0;
                        if (N(e)) f == e.length ? g(e) : 0 == f && (a = e.previousSibling, a && a.nodeType == e.nodeType && (f = a.length, 
                        b == e && (i = !1), a.appendData(e.data), Y(e), e = a)); else {
                            if (f > 0) {
                                var j = e.childNodes[f - 1];
                                j && N(j) && g(j);
                            }
                            i = !this.collapsed;
                        }
                        if (i) {
                            if (N(b)) 0 == c ? h(b) : c == b.length && (a = b.nextSibling, a && a.nodeType == b.nodeType && (e == a && (e = b, 
                            f += b.length), b.appendData(a.data), Y(a))); else if (c < b.childNodes.length) {
                                var k = b.childNodes[c];
                                k && N(k) && h(k);
                            }
                        } else b = e, c = f;
                        d(this, b, c, e, f);
                    },
                    collapseToPoint: function(a, b) {
                        r(a, !0), t(a, b), this.setStartAndEnd(a, b);
                    }
                }), D(b);
            }
            function G(a) {
                a.collapsed = a.startContainer === a.endContainer && a.startOffset === a.endOffset, 
                a.commonAncestorContainer = a.collapsed ? a.startContainer : J.getCommonAncestor(a.startContainer, a.endContainer);
            }
            function H(a, b, c, d, e) {
                a.startContainer = b, a.startOffset = c, a.endContainer = d, a.endOffset = e, a.document = J.getDocument(b), 
                G(a);
            }
            function I(a) {
                this.startContainer = a, this.startOffset = 0, this.endContainer = a, this.endOffset = 0, 
                this.document = a, G(this);
            }
            var J = a.dom, K = a.util, L = J.DomPosition, M = a.DOMException, N = J.isCharacterDataNode, O = J.getNodeIndex, P = J.isOrIsAncestorOf, Q = J.getDocument, R = J.comparePoints, S = J.splitDataNode, T = J.getClosestAncestorIn, U = J.getNodeLength, V = J.arrayContains, W = J.getRootContainer, X = a.features.crashyTextNodes, Y = J.removeNode;
            p.prototype = {
                _current: null,
                _next: null,
                _first: null,
                _last: null,
                isSingleCharacterDataNode: !1,
                reset: function() {
                    this._current = null, this._next = this._first;
                },
                hasNext: function() {
                    return !!this._next;
                },
                next: function() {
                    var a = this._current = this._next;
                    return a && (this._next = a !== this._last ? a.nextSibling : null, N(a) && this.clonePartiallySelectedTextNodes && (a === this.ec && (a = a.cloneNode(!0)).deleteData(this.eo, a.length - this.eo), 
                    this._current === this.sc && (a = a.cloneNode(!0)).deleteData(0, this.so))), a;
                },
                remove: function() {
                    var a, b, c = this._current;
                    !N(c) || c !== this.sc && c !== this.ec ? c.parentNode && Y(c) : (a = c === this.sc ? this.so : 0, 
                    b = c === this.ec ? this.eo : c.length, a != b && c.deleteData(a, b - a));
                },
                isPartiallySelectedSubtree: function() {
                    var a = this._current;
                    return c(a, this.range);
                },
                getSubtreeIterator: function() {
                    var a;
                    if (this.isSingleCharacterDataNode) a = this.range.cloneRange(), a.collapse(!1); else {
                        a = new I(d(this.range));
                        var b = this._current, c = b, e = 0, f = b, g = U(b);
                        P(b, this.sc) && (c = this.sc, e = this.so), P(b, this.ec) && (f = this.ec, g = this.eo), 
                        H(a, c, e, f, g);
                    }
                    return new p(a, this.clonePartiallySelectedTextNodes);
                },
                detach: function() {
                    this.range = this._current = this._next = this._first = this._last = this.sc = this.so = this.ec = this.eo = null;
                }
            };
            var Z = [ 1, 3, 4, 5, 7, 8, 10 ], $ = [ 2, 9, 11 ], _ = [ 5, 6, 10, 12 ], aa = [ 1, 3, 4, 5, 7, 8, 10, 11 ], ba = [ 1, 3, 4, 5, 7, 8 ], ca = q([ 9, 11 ]), da = q(_), ea = q([ 6, 10, 12 ]), fa = document.createElement("style"), ga = !1;
            try {
                fa.innerHTML = "<b>x</b>", ga = 3 == fa.firstChild.nodeType;
            } catch (ha) {}
            a.features.htmlParsingConforms = ga;
            var ia = ga ? function(a) {
                var b = this.startContainer, c = Q(b);
                if (!b) throw new M("INVALID_STATE_ERR");
                var d = null;
                return 1 == b.nodeType ? d = b : N(b) && (d = J.parentElement(b)), d = null === d || "HTML" == d.nodeName && J.isHtmlNamespace(Q(d).documentElement) && J.isHtmlNamespace(d) ? c.createElement("body") : d.cloneNode(!1), 
                d.innerHTML = a, J.fragmentFromNodeChildren(d);
            } : function(a) {
                var b = d(this), c = b.createElement("body");
                return c.innerHTML = a, J.fragmentFromNodeChildren(c);
            }, ja = [ "startContainer", "startOffset", "endContainer", "endOffset", "collapsed", "commonAncestorContainer" ], ka = 0, la = 1, ma = 2, na = 3, oa = 0, pa = 1, qa = 2, ra = 3;
            K.extend(a.rangePrototype, {
                compareBoundaryPoints: function(a, b) {
                    z(this), u(this.startContainer, b.startContainer);
                    var c, d, e, f, g = a == na || a == ka ? "start" : "end", h = a == la || a == ka ? "start" : "end";
                    return c = this[g + "Container"], d = this[g + "Offset"], e = b[h + "Container"], 
                    f = b[h + "Offset"], R(c, d, e, f);
                },
                insertNode: function(a) {
                    if (z(this), s(a, aa), v(this.startContainer), P(a, this.startContainer)) throw new M("HIERARCHY_REQUEST_ERR");
                    var b = h(a, this.startContainer, this.startOffset);
                    this.setStartBefore(b);
                },
                cloneContents: function() {
                    z(this);
                    var a, b;
                    if (this.collapsed) return d(this).createDocumentFragment();
                    if (this.startContainer === this.endContainer && N(this.startContainer)) return a = this.startContainer.cloneNode(!0), 
                    a.data = a.data.slice(this.startOffset, this.endOffset), b = d(this).createDocumentFragment(), 
                    b.appendChild(a), b;
                    var c = new p(this, !0);
                    return a = j(c), c.detach(), a;
                },
                canSurroundContents: function() {
                    z(this), v(this.startContainer), v(this.endContainer);
                    var a = new p(this, !0), b = a._first && c(a._first, this) || a._last && c(a._last, this);
                    return a.detach(), !b;
                },
                surroundContents: function(a) {
                    if (s(a, ba), !this.canSurroundContents()) throw new M("INVALID_STATE_ERR");
                    var b = this.extractContents();
                    if (a.hasChildNodes()) for (;a.lastChild; ) a.removeChild(a.lastChild);
                    h(a, this.startContainer, this.startOffset), a.appendChild(b), this.selectNode(a);
                },
                cloneRange: function() {
                    z(this);
                    for (var a, b = new I(d(this)), c = ja.length; c--; ) a = ja[c], b[a] = this[a];
                    return b;
                },
                toString: function() {
                    z(this);
                    var a = this.startContainer;
                    if (a === this.endContainer && N(a)) return 3 == a.nodeType || 4 == a.nodeType ? a.data.slice(this.startOffset, this.endOffset) : "";
                    var b = [], c = new p(this, !0);
                    return k(c, function(a) {
                        (3 == a.nodeType || 4 == a.nodeType) && b.push(a.data);
                    }), c.detach(), b.join("");
                },
                compareNode: function(a) {
                    z(this);
                    var b = a.parentNode, c = O(a);
                    if (!b) throw new M("NOT_FOUND_ERR");
                    var d = this.comparePoint(b, c), e = this.comparePoint(b, c + 1);
                    return 0 > d ? e > 0 ? qa : oa : e > 0 ? pa : ra;
                },
                comparePoint: function(a, b) {
                    return z(this), w(a, "HIERARCHY_REQUEST_ERR"), u(a, this.startContainer), R(a, b, this.startContainer, this.startOffset) < 0 ? -1 : R(a, b, this.endContainer, this.endOffset) > 0 ? 1 : 0;
                },
                createContextualFragment: ia,
                toHtml: function() {
                    return B(this);
                },
                intersectsNode: function(a, b) {
                    if (z(this), W(a) != e(this)) return !1;
                    var c = a.parentNode, d = O(a);
                    if (!c) return !0;
                    var f = R(c, d, this.endContainer, this.endOffset), g = R(c, d + 1, this.startContainer, this.startOffset);
                    return b ? 0 >= f && g >= 0 : 0 > f && g > 0;
                },
                isPointInRange: function(a, b) {
                    return z(this), w(a, "HIERARCHY_REQUEST_ERR"), u(a, this.startContainer), R(a, b, this.startContainer, this.startOffset) >= 0 && R(a, b, this.endContainer, this.endOffset) <= 0;
                },
                intersectsRange: function(a) {
                    return i(this, a, !1);
                },
                intersectsOrTouchesRange: function(a) {
                    return i(this, a, !0);
                },
                intersection: function(a) {
                    if (this.intersectsRange(a)) {
                        var b = R(this.startContainer, this.startOffset, a.startContainer, a.startOffset), c = R(this.endContainer, this.endOffset, a.endContainer, a.endOffset), d = this.cloneRange();
                        return -1 == b && d.setStart(a.startContainer, a.startOffset), 1 == c && d.setEnd(a.endContainer, a.endOffset), 
                        d;
                    }
                    return null;
                },
                union: function(a) {
                    if (this.intersectsOrTouchesRange(a)) {
                        var b = this.cloneRange();
                        return -1 == R(a.startContainer, a.startOffset, this.startContainer, this.startOffset) && b.setStart(a.startContainer, a.startOffset), 
                        1 == R(a.endContainer, a.endOffset, this.endContainer, this.endOffset) && b.setEnd(a.endContainer, a.endOffset), 
                        b;
                    }
                    throw new M("Ranges do not intersect");
                },
                containsNode: function(a, b) {
                    return b ? this.intersectsNode(a, !1) : this.compareNode(a) == ra;
                },
                containsNodeContents: function(a) {
                    return this.comparePoint(a, 0) >= 0 && this.comparePoint(a, U(a)) <= 0;
                },
                containsRange: function(a) {
                    var b = this.intersection(a);
                    return null !== b && a.equals(b);
                },
                containsNodeText: function(a) {
                    var b = this.cloneRange();
                    b.selectNode(a);
                    var c = b.getNodes([ 3 ]);
                    if (c.length > 0) {
                        b.setStart(c[0], 0);
                        var d = c.pop();
                        return b.setEnd(d, d.length), this.containsRange(b);
                    }
                    return this.containsNodeContents(a);
                },
                getNodes: function(a, b) {
                    return z(this), n(this, a, b);
                },
                getDocument: function() {
                    return d(this);
                },
                collapseBefore: function(a) {
                    this.setEndBefore(a), this.collapse(!1);
                },
                collapseAfter: function(a) {
                    this.setStartAfter(a), this.collapse(!0);
                },
                getBookmark: function(b) {
                    var c = d(this), e = a.createRange(c);
                    b = b || J.getBody(c), e.selectNodeContents(b);
                    var f = this.intersection(e), g = 0, h = 0;
                    return f && (e.setEnd(f.startContainer, f.startOffset), g = e.toString().length, 
                    h = g + f.toString().length), {
                        start: g,
                        end: h,
                        containerNode: b
                    };
                },
                moveToBookmark: function(a) {
                    var b = a.containerNode, c = 0;
                    this.setStart(b, 0), this.collapse(!0);
                    for (var d, e, f, g, h = [ b ], i = !1, j = !1; !j && (d = h.pop()); ) if (3 == d.nodeType) e = c + d.length, 
                    !i && a.start >= c && a.start <= e && (this.setStart(d, a.start - c), i = !0), i && a.end >= c && a.end <= e && (this.setEnd(d, a.end - c), 
                    j = !0), c = e; else for (g = d.childNodes, f = g.length; f--; ) h.push(g[f]);
                },
                getName: function() {
                    return "DomRange";
                },
                equals: function(a) {
                    return I.rangesEqual(this, a);
                },
                isValid: function() {
                    return y(this);
                },
                inspect: function() {
                    return o(this);
                },
                detach: function() {}
            }), F(I, H), K.extend(I, {
                rangeProperties: ja,
                RangeIterator: p,
                copyComparisonConstants: D,
                createPrototypeRange: F,
                inspect: o,
                toHtml: B,
                getRangeDocument: d,
                rangesEqual: function(a, b) {
                    return a.startContainer === b.startContainer && a.startOffset === b.startOffset && a.endContainer === b.endContainer && a.endOffset === b.endOffset;
                }
            }), a.DomRange = I;
        }), H.createCoreModule("WrappedRange", [ "DomRange" ], function(a, b) {
            var c, d, e = a.dom, f = a.util, g = e.DomPosition, h = a.DomRange, i = e.getBody, j = e.getContentDocument, k = e.isCharacterDataNode;
            if (a.features.implementsDomRange && !function() {
                function d(a) {
                    for (var b, c = m.length; c--; ) b = m[c], a[b] = a.nativeRange[b];
                    a.collapsed = a.startContainer === a.endContainer && a.startOffset === a.endOffset;
                }
                function g(a, b, c, d, e) {
                    var f = a.startContainer !== b || a.startOffset != c, g = a.endContainer !== d || a.endOffset != e, h = !a.equals(a.nativeRange);
                    (f || g || h) && (a.setEnd(d, e), a.setStart(b, c));
                }
                var k, l, m = h.rangeProperties;
                c = function(a) {
                    if (!a) throw b.createError("WrappedRange: Range must be specified");
                    this.nativeRange = a, d(this);
                }, h.createPrototypeRange(c, g), k = c.prototype, k.selectNode = function(a) {
                    this.nativeRange.selectNode(a), d(this);
                }, k.cloneContents = function() {
                    return this.nativeRange.cloneContents();
                }, k.surroundContents = function(a) {
                    this.nativeRange.surroundContents(a), d(this);
                }, k.collapse = function(a) {
                    this.nativeRange.collapse(a), d(this);
                }, k.cloneRange = function() {
                    return new c(this.nativeRange.cloneRange());
                }, k.refresh = function() {
                    d(this);
                }, k.toString = function() {
                    return this.nativeRange.toString();
                };
                var n = document.createTextNode("test");
                i(document).appendChild(n);
                var o = document.createRange();
                o.setStart(n, 0), o.setEnd(n, 0);
                try {
                    o.setStart(n, 1), k.setStart = function(a, b) {
                        this.nativeRange.setStart(a, b), d(this);
                    }, k.setEnd = function(a, b) {
                        this.nativeRange.setEnd(a, b), d(this);
                    }, l = function(a) {
                        return function(b) {
                            this.nativeRange[a](b), d(this);
                        };
                    };
                } catch (p) {
                    k.setStart = function(a, b) {
                        try {
                            this.nativeRange.setStart(a, b);
                        } catch (c) {
                            this.nativeRange.setEnd(a, b), this.nativeRange.setStart(a, b);
                        }
                        d(this);
                    }, k.setEnd = function(a, b) {
                        try {
                            this.nativeRange.setEnd(a, b);
                        } catch (c) {
                            this.nativeRange.setStart(a, b), this.nativeRange.setEnd(a, b);
                        }
                        d(this);
                    }, l = function(a, b) {
                        return function(c) {
                            try {
                                this.nativeRange[a](c);
                            } catch (e) {
                                this.nativeRange[b](c), this.nativeRange[a](c);
                            }
                            d(this);
                        };
                    };
                }
                k.setStartBefore = l("setStartBefore", "setEndBefore"), k.setStartAfter = l("setStartAfter", "setEndAfter"), 
                k.setEndBefore = l("setEndBefore", "setStartBefore"), k.setEndAfter = l("setEndAfter", "setStartAfter"), 
                k.selectNodeContents = function(a) {
                    this.setStartAndEnd(a, 0, e.getNodeLength(a));
                }, o.selectNodeContents(n), o.setEnd(n, 3);
                var q = document.createRange();
                q.selectNodeContents(n), q.setEnd(n, 4), q.setStart(n, 2), -1 == o.compareBoundaryPoints(o.START_TO_END, q) && 1 == o.compareBoundaryPoints(o.END_TO_START, q) ? k.compareBoundaryPoints = function(a, b) {
                    return b = b.nativeRange || b, a == b.START_TO_END ? a = b.END_TO_START : a == b.END_TO_START && (a = b.START_TO_END), 
                    this.nativeRange.compareBoundaryPoints(a, b);
                } : k.compareBoundaryPoints = function(a, b) {
                    return this.nativeRange.compareBoundaryPoints(a, b.nativeRange || b);
                };
                var r = document.createElement("div");
                r.innerHTML = "123";
                var s = r.firstChild, t = i(document);
                t.appendChild(r), o.setStart(s, 1), o.setEnd(s, 2), o.deleteContents(), "13" == s.data && (k.deleteContents = function() {
                    this.nativeRange.deleteContents(), d(this);
                }, k.extractContents = function() {
                    var a = this.nativeRange.extractContents();
                    return d(this), a;
                }), t.removeChild(r), t = null, f.isHostMethod(o, "createContextualFragment") && (k.createContextualFragment = function(a) {
                    return this.nativeRange.createContextualFragment(a);
                }), i(document).removeChild(n), k.getName = function() {
                    return "WrappedRange";
                }, a.WrappedRange = c, a.createNativeRange = function(a) {
                    return a = j(a, b, "createNativeRange"), a.createRange();
                };
            }(), a.features.implementsTextRange) {
                var l = function(a) {
                    var b = a.parentElement(), c = a.duplicate();
                    c.collapse(!0);
                    var d = c.parentElement();
                    c = a.duplicate(), c.collapse(!1);
                    var f = c.parentElement(), g = d == f ? d : e.getCommonAncestor(d, f);
                    return g == b ? g : e.getCommonAncestor(b, g);
                }, m = function(a) {
                    return 0 == a.compareEndPoints("StartToEnd", a);
                }, n = function(a, b, c, d, f) {
                    var h = a.duplicate();
                    h.collapse(c);
                    var i = h.parentElement();
                    if (e.isOrIsAncestorOf(b, i) || (i = b), !i.canHaveHTML) {
                        var j = new g(i.parentNode, e.getNodeIndex(i));
                        return {
                            boundaryPosition: j,
                            nodeInfo: {
                                nodeIndex: j.offset,
                                containerElement: j.node
                            }
                        };
                    }
                    var l = e.getDocument(i).createElement("span");
                    l.parentNode && e.removeNode(l);
                    for (var m, n, o, p, q, r = c ? "StartToStart" : "StartToEnd", s = f && f.containerElement == i ? f.nodeIndex : 0, t = i.childNodes.length, u = t, v = u; ;) {
                        if (v == t ? i.appendChild(l) : i.insertBefore(l, i.childNodes[v]), h.moveToElementText(l), 
                        m = h.compareEndPoints(r, a), 0 == m || s == u) break;
                        if (-1 == m) {
                            if (u == s + 1) break;
                            s = v;
                        } else u = u == s + 1 ? s : v;
                        v = Math.floor((s + u) / 2), i.removeChild(l);
                    }
                    if (q = l.nextSibling, -1 == m && q && k(q)) {
                        h.setEndPoint(c ? "EndToStart" : "EndToEnd", a);
                        var w;
                        if (/[\r\n]/.test(q.data)) {
                            var x = h.duplicate(), y = x.text.replace(/\r\n/g, "\r").length;
                            for (w = x.moveStart("character", y); -1 == (m = x.compareEndPoints("StartToEnd", x)); ) w++, 
                            x.moveStart("character", 1);
                        } else w = h.text.length;
                        p = new g(q, w);
                    } else n = (d || !c) && l.previousSibling, o = (d || c) && l.nextSibling, p = o && k(o) ? new g(o, 0) : n && k(n) ? new g(n, n.data.length) : new g(i, e.getNodeIndex(l));
                    return e.removeNode(l), {
                        boundaryPosition: p,
                        nodeInfo: {
                            nodeIndex: v,
                            containerElement: i
                        }
                    };
                }, o = function(a, b) {
                    var c, d, f, g, h = a.offset, j = e.getDocument(a.node), l = i(j).createTextRange(), m = k(a.node);
                    return m ? (c = a.node, d = c.parentNode) : (g = a.node.childNodes, c = h < g.length ? g[h] : null, 
                    d = a.node), f = j.createElement("span"), f.innerHTML = "&#feff;", c ? d.insertBefore(f, c) : d.appendChild(f), 
                    l.moveToElementText(f), l.collapse(!b), d.removeChild(f), m && l[b ? "moveStart" : "moveEnd"]("character", h), 
                    l;
                };
                d = function(a) {
                    this.textRange = a, this.refresh();
                }, d.prototype = new h(document), d.prototype.refresh = function() {
                    var a, b, c, d = l(this.textRange);
                    m(this.textRange) ? b = a = n(this.textRange, d, !0, !0).boundaryPosition : (c = n(this.textRange, d, !0, !1), 
                    a = c.boundaryPosition, b = n(this.textRange, d, !1, !1, c.nodeInfo).boundaryPosition), 
                    this.setStart(a.node, a.offset), this.setEnd(b.node, b.offset);
                }, d.prototype.getName = function() {
                    return "WrappedTextRange";
                }, h.copyComparisonConstants(d);
                var p = function(a) {
                    if (a.collapsed) return o(new g(a.startContainer, a.startOffset), !0);
                    var b = o(new g(a.startContainer, a.startOffset), !0), c = o(new g(a.endContainer, a.endOffset), !1), d = i(h.getRangeDocument(a)).createTextRange();
                    return d.setEndPoint("StartToStart", b), d.setEndPoint("EndToEnd", c), d;
                };
                if (d.rangeToTextRange = p, d.prototype.toTextRange = function() {
                    return p(this);
                }, a.WrappedTextRange = d, !a.features.implementsDomRange || a.config.preferTextRange) {
                    var q = function(a) {
                        return a("return this;")();
                    }(Function);
                    "undefined" == typeof q.Range && (q.Range = d), a.createNativeRange = function(a) {
                        return a = j(a, b, "createNativeRange"), i(a).createTextRange();
                    }, a.WrappedRange = d;
                }
            }
            a.createRange = function(c) {
                return c = j(c, b, "createRange"), new a.WrappedRange(a.createNativeRange(c));
            }, a.createRangyRange = function(a) {
                return a = j(a, b, "createRangyRange"), new h(a);
            }, f.createAliasForDeprecatedMethod(a, "createIframeRange", "createRange"), f.createAliasForDeprecatedMethod(a, "createIframeRangyRange", "createRangyRange"), 
            a.addShimListener(function(b) {
                var c = b.document;
                "undefined" == typeof c.createRange && (c.createRange = function() {
                    return a.createRange(c);
                }), c = b = null;
            });
        }), H.createCoreModule("WrappedSelection", [ "DomRange", "WrappedRange" ], function(a, b) {
            function c(a) {
                return "string" == typeof a ? /^backward(s)?$/i.test(a) : !!a;
            }
            function d(a, c) {
                if (a) {
                    if (C.isWindow(a)) return a;
                    if (a instanceof r) return a.win;
                    var d = C.getContentDocument(a, b, c);
                    return C.getWindow(d);
                }
                return window;
            }
            function e(a) {
                return d(a, "getWinSelection").getSelection();
            }
            function f(a) {
                return d(a, "getDocSelection").document.selection;
            }
            function g(a) {
                var b = !1;
                return a.anchorNode && (b = 1 == C.comparePoints(a.anchorNode, a.anchorOffset, a.focusNode, a.focusOffset)), 
                b;
            }
            function h(a, b, c) {
                var d = c ? "end" : "start", e = c ? "start" : "end";
                a.anchorNode = b[d + "Container"], a.anchorOffset = b[d + "Offset"], a.focusNode = b[e + "Container"], 
                a.focusOffset = b[e + "Offset"];
            }
            function i(a) {
                var b = a.nativeSelection;
                a.anchorNode = b.anchorNode, a.anchorOffset = b.anchorOffset, a.focusNode = b.focusNode, 
                a.focusOffset = b.focusOffset;
            }
            function j(a) {
                a.anchorNode = a.focusNode = null, a.anchorOffset = a.focusOffset = 0, a.rangeCount = 0, 
                a.isCollapsed = !0, a._ranges.length = 0;
            }
            function k(b) {
                var c;
                return b instanceof F ? (c = a.createNativeRange(b.getDocument()), c.setEnd(b.endContainer, b.endOffset), 
                c.setStart(b.startContainer, b.startOffset)) : b instanceof G ? c = b.nativeRange : J.implementsDomRange && b instanceof C.getWindow(b.startContainer).Range && (c = b), 
                c;
            }
            function l(a) {
                if (!a.length || 1 != a[0].nodeType) return !1;
                for (var b = 1, c = a.length; c > b; ++b) if (!C.isAncestorOf(a[0], a[b])) return !1;
                return !0;
            }
            function m(a) {
                var c = a.getNodes();
                if (!l(c)) throw b.createError("getSingleElementFromRange: range " + a.inspect() + " did not consist of a single element");
                return c[0];
            }
            function n(a) {
                return !!a && "undefined" != typeof a.text;
            }
            function o(a, b) {
                var c = new G(b);
                a._ranges = [ c ], h(a, c, !1), a.rangeCount = 1, a.isCollapsed = c.collapsed;
            }
            function p(b) {
                if (b._ranges.length = 0, "None" == b.docSelection.type) j(b); else {
                    var c = b.docSelection.createRange();
                    if (n(c)) o(b, c); else {
                        b.rangeCount = c.length;
                        for (var d, e = L(c.item(0)), f = 0; f < b.rangeCount; ++f) d = a.createRange(e), 
                        d.selectNode(c.item(f)), b._ranges.push(d);
                        b.isCollapsed = 1 == b.rangeCount && b._ranges[0].collapsed, h(b, b._ranges[b.rangeCount - 1], !1);
                    }
                }
            }
            function q(a, c) {
                for (var d = a.docSelection.createRange(), e = m(c), f = L(d.item(0)), g = M(f).createControlRange(), h = 0, i = d.length; i > h; ++h) g.add(d.item(h));
                try {
                    g.add(e);
                } catch (j) {
                    throw b.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)");
                }
                g.select(), p(a);
            }
            function r(a, b, c) {
                this.nativeSelection = a, this.docSelection = b, this._ranges = [], this.win = c, 
                this.refresh();
            }
            function s(a) {
                a.win = a.anchorNode = a.focusNode = a._ranges = null, a.rangeCount = a.anchorOffset = a.focusOffset = 0, 
                a.detached = !0;
            }
            function t(a, b) {
                for (var c, d, e = ba.length; e--; ) if (c = ba[e], d = c.selection, "deleteAll" == b) s(d); else if (c.win == a) return "delete" == b ? (ba.splice(e, 1), 
                !0) : d;
                return "deleteAll" == b && (ba.length = 0), null;
            }
            function u(a, c) {
                for (var d, e = L(c[0].startContainer), f = M(e).createControlRange(), g = 0, h = c.length; h > g; ++g) {
                    d = m(c[g]);
                    try {
                        f.add(d);
                    } catch (i) {
                        throw b.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)");
                    }
                }
                f.select(), p(a);
            }
            function v(a, b) {
                if (a.win.document != L(b)) throw new H("WRONG_DOCUMENT_ERR");
            }
            function w(b) {
                return function(c, d) {
                    var e;
                    this.rangeCount ? (e = this.getRangeAt(0), e["set" + (b ? "Start" : "End")](c, d)) : (e = a.createRange(this.win.document), 
                    e.setStartAndEnd(c, d)), this.setSingleRange(e, this.isBackward());
                };
            }
            function x(a) {
                var b = [], c = new I(a.anchorNode, a.anchorOffset), d = new I(a.focusNode, a.focusOffset), e = "function" == typeof a.getName ? a.getName() : "Selection";
                if ("undefined" != typeof a.rangeCount) for (var f = 0, g = a.rangeCount; g > f; ++f) b[f] = F.inspect(a.getRangeAt(f));
                return "[" + e + "(Ranges: " + b.join(", ") + ")(anchor: " + c.inspect() + ", focus: " + d.inspect() + "]";
            }
            a.config.checkSelectionRanges = !0;
            var y, z, A = "boolean", B = "number", C = a.dom, D = a.util, E = D.isHostMethod, F = a.DomRange, G = a.WrappedRange, H = a.DOMException, I = C.DomPosition, J = a.features, K = "Control", L = C.getDocument, M = C.getBody, N = F.rangesEqual, O = E(window, "getSelection"), P = D.isHostObject(document, "selection");
            J.implementsWinGetSelection = O, J.implementsDocSelection = P;
            var Q = P && (!O || a.config.preferTextRange);
            if (Q) y = f, a.isSelectionValid = function(a) {
                var b = d(a, "isSelectionValid").document, c = b.selection;
                return "None" != c.type || L(c.createRange().parentElement()) == b;
            }; else {
                if (!O) return b.fail("Neither document.selection or window.getSelection() detected."), 
                !1;
                y = e, a.isSelectionValid = function() {
                    return !0;
                };
            }
            a.getNativeSelection = y;
            var R = y();
            if (!R) return b.fail("Native selection was null (possibly issue 138?)"), !1;
            var S = a.createNativeRange(document), T = M(document), U = D.areHostProperties(R, [ "anchorNode", "focusNode", "anchorOffset", "focusOffset" ]);
            J.selectionHasAnchorAndFocus = U;
            var V = E(R, "extend");
            J.selectionHasExtend = V;
            var W = typeof R.rangeCount == B;
            J.selectionHasRangeCount = W;
            var X = !1, Y = !0, Z = V ? function(b, c) {
                var d = F.getRangeDocument(c), e = a.createRange(d);
                e.collapseToPoint(c.endContainer, c.endOffset), b.addRange(k(e)), b.extend(c.startContainer, c.startOffset);
            } : null;
            D.areHostMethods(R, [ "addRange", "getRangeAt", "removeAllRanges" ]) && typeof R.rangeCount == B && J.implementsDomRange && !function() {
                var b = window.getSelection();
                if (b) {
                    for (var c = b.rangeCount, d = c > 1, e = [], f = g(b), h = 0; c > h; ++h) e[h] = b.getRangeAt(h);
                    var i = C.createTestElement(document, "", !1), j = i.appendChild(document.createTextNode("   ")), k = document.createRange();
                    if (k.setStart(j, 1), k.collapse(!0), b.removeAllRanges(), b.addRange(k), Y = 1 == b.rangeCount, 
                    b.removeAllRanges(), !d) {
                        var l = window.navigator.appVersion.match(/Chrome\/(.*?) /);
                        if (l && parseInt(l[1]) >= 36) X = !1; else {
                            var m = k.cloneRange();
                            k.setStart(j, 0), m.setEnd(j, 3), m.setStart(j, 2), b.addRange(k), b.addRange(m), 
                            X = 2 == b.rangeCount;
                        }
                    }
                    for (C.removeNode(i), b.removeAllRanges(), h = 0; c > h; ++h) 0 == h && f ? Z ? Z(b, e[h]) : (a.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"), 
                    b.addRange(e[h])) : b.addRange(e[h]);
                }
            }(), J.selectionSupportsMultipleRanges = X, J.collapsedNonEditableSelectionsSupported = Y;
            var $, _ = !1;
            T && E(T, "createControlRange") && ($ = T.createControlRange(), D.areHostProperties($, [ "item", "add" ]) && (_ = !0)), 
            J.implementsControlRange = _, z = U ? function(a) {
                return a.anchorNode === a.focusNode && a.anchorOffset === a.focusOffset;
            } : function(a) {
                return a.rangeCount ? a.getRangeAt(a.rangeCount - 1).collapsed : !1;
            };
            var aa;
            E(R, "getRangeAt") ? aa = function(a, b) {
                try {
                    return a.getRangeAt(b);
                } catch (c) {
                    return null;
                }
            } : U && (aa = function(b) {
                var c = L(b.anchorNode), d = a.createRange(c);
                return d.setStartAndEnd(b.anchorNode, b.anchorOffset, b.focusNode, b.focusOffset), 
                d.collapsed !== this.isCollapsed && d.setStartAndEnd(b.focusNode, b.focusOffset, b.anchorNode, b.anchorOffset), 
                d;
            }), r.prototype = a.selectionPrototype;
            var ba = [], ca = function(a) {
                if (a && a instanceof r) return a.refresh(), a;
                a = d(a, "getNativeSelection");
                var b = t(a), c = y(a), e = P ? f(a) : null;
                return b ? (b.nativeSelection = c, b.docSelection = e, b.refresh()) : (b = new r(c, e, a), 
                ba.push({
                    win: a,
                    selection: b
                })), b;
            };
            a.getSelection = ca, D.createAliasForDeprecatedMethod(a, "getIframeSelection", "getSelection");
            var da = r.prototype;
            if (!Q && U && D.areHostMethods(R, [ "removeAllRanges", "addRange" ])) {
                da.removeAllRanges = function() {
                    this.nativeSelection.removeAllRanges(), j(this);
                };
                var ea = function(a, b) {
                    Z(a.nativeSelection, b), a.refresh();
                };
                W ? da.addRange = function(b, d) {
                    if (_ && P && this.docSelection.type == K) q(this, b); else if (c(d) && V) ea(this, b); else {
                        var e;
                        X ? e = this.rangeCount : (this.removeAllRanges(), e = 0);
                        var f = k(b).cloneRange();
                        try {
                            this.nativeSelection.addRange(f);
                        } catch (g) {}
                        if (this.rangeCount = this.nativeSelection.rangeCount, this.rangeCount == e + 1) {
                            if (a.config.checkSelectionRanges) {
                                var i = aa(this.nativeSelection, this.rangeCount - 1);
                                i && !N(i, b) && (b = new G(i));
                            }
                            this._ranges[this.rangeCount - 1] = b, h(this, b, ha(this.nativeSelection)), this.isCollapsed = z(this);
                        } else this.refresh();
                    }
                } : da.addRange = function(a, b) {
                    c(b) && V ? ea(this, a) : (this.nativeSelection.addRange(k(a)), this.refresh());
                }, da.setRanges = function(a) {
                    if (_ && P && a.length > 1) u(this, a); else {
                        this.removeAllRanges();
                        for (var b = 0, c = a.length; c > b; ++b) this.addRange(a[b]);
                    }
                };
            } else {
                if (!(E(R, "empty") && E(S, "select") && _ && Q)) return b.fail("No means of selecting a Range or TextRange was found"), 
                !1;
                da.removeAllRanges = function() {
                    try {
                        if (this.docSelection.empty(), "None" != this.docSelection.type) {
                            var a;
                            if (this.anchorNode) a = L(this.anchorNode); else if (this.docSelection.type == K) {
                                var b = this.docSelection.createRange();
                                b.length && (a = L(b.item(0)));
                            }
                            if (a) {
                                var c = M(a).createTextRange();
                                c.select(), this.docSelection.empty();
                            }
                        }
                    } catch (d) {}
                    j(this);
                }, da.addRange = function(b) {
                    this.docSelection.type == K ? q(this, b) : (a.WrappedTextRange.rangeToTextRange(b).select(), 
                    this._ranges[0] = b, this.rangeCount = 1, this.isCollapsed = this._ranges[0].collapsed, 
                    h(this, b, !1));
                }, da.setRanges = function(a) {
                    this.removeAllRanges();
                    var b = a.length;
                    b > 1 ? u(this, a) : b && this.addRange(a[0]);
                };
            }
            da.getRangeAt = function(a) {
                if (0 > a || a >= this.rangeCount) throw new H("INDEX_SIZE_ERR");
                return this._ranges[a].cloneRange();
            };
            var fa;
            if (Q) fa = function(b) {
                var c;
                a.isSelectionValid(b.win) ? c = b.docSelection.createRange() : (c = M(b.win.document).createTextRange(), 
                c.collapse(!0)), b.docSelection.type == K ? p(b) : n(c) ? o(b, c) : j(b);
            }; else if (E(R, "getRangeAt") && typeof R.rangeCount == B) fa = function(b) {
                if (_ && P && b.docSelection.type == K) p(b); else if (b._ranges.length = b.rangeCount = b.nativeSelection.rangeCount, 
                b.rangeCount) {
                    for (var c = 0, d = b.rangeCount; d > c; ++c) b._ranges[c] = new a.WrappedRange(b.nativeSelection.getRangeAt(c));
                    h(b, b._ranges[b.rangeCount - 1], ha(b.nativeSelection)), b.isCollapsed = z(b);
                } else j(b);
            }; else {
                if (!U || typeof R.isCollapsed != A || typeof S.collapsed != A || !J.implementsDomRange) return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"), 
                !1;
                fa = function(a) {
                    var b, c = a.nativeSelection;
                    c.anchorNode ? (b = aa(c, 0), a._ranges = [ b ], a.rangeCount = 1, i(a), a.isCollapsed = z(a)) : j(a);
                };
            }
            da.refresh = function(a) {
                var b = a ? this._ranges.slice(0) : null, c = this.anchorNode, d = this.anchorOffset;
                if (fa(this), a) {
                    var e = b.length;
                    if (e != this._ranges.length) return !0;
                    if (this.anchorNode != c || this.anchorOffset != d) return !0;
                    for (;e--; ) if (!N(b[e], this._ranges[e])) return !0;
                    return !1;
                }
            };
            var ga = function(a, b) {
                var c = a.getAllRanges();
                a.removeAllRanges();
                for (var d = 0, e = c.length; e > d; ++d) N(b, c[d]) || a.addRange(c[d]);
                a.rangeCount || j(a);
            };
            _ && P ? da.removeRange = function(a) {
                if (this.docSelection.type == K) {
                    for (var b, c = this.docSelection.createRange(), d = m(a), e = L(c.item(0)), f = M(e).createControlRange(), g = !1, h = 0, i = c.length; i > h; ++h) b = c.item(h), 
                    b !== d || g ? f.add(c.item(h)) : g = !0;
                    f.select(), p(this);
                } else ga(this, a);
            } : da.removeRange = function(a) {
                ga(this, a);
            };
            var ha;
            !Q && U && J.implementsDomRange ? (ha = g, da.isBackward = function() {
                return ha(this);
            }) : ha = da.isBackward = function() {
                return !1;
            }, da.isBackwards = da.isBackward, da.toString = function() {
                for (var a = [], b = 0, c = this.rangeCount; c > b; ++b) a[b] = "" + this._ranges[b];
                return a.join("");
            }, da.collapse = function(b, c) {
                v(this, b);
                var d = a.createRange(b);
                d.collapseToPoint(b, c), this.setSingleRange(d), this.isCollapsed = !0;
            }, da.collapseToStart = function() {
                if (!this.rangeCount) throw new H("INVALID_STATE_ERR");
                var a = this._ranges[0];
                this.collapse(a.startContainer, a.startOffset);
            }, da.collapseToEnd = function() {
                if (!this.rangeCount) throw new H("INVALID_STATE_ERR");
                var a = this._ranges[this.rangeCount - 1];
                this.collapse(a.endContainer, a.endOffset);
            }, da.selectAllChildren = function(b) {
                v(this, b);
                var c = a.createRange(b);
                c.selectNodeContents(b), this.setSingleRange(c);
            }, da.deleteFromDocument = function() {
                if (_ && P && this.docSelection.type == K) {
                    for (var a, b = this.docSelection.createRange(); b.length; ) a = b.item(0), b.remove(a), 
                    C.removeNode(a);
                    this.refresh();
                } else if (this.rangeCount) {
                    var c = this.getAllRanges();
                    if (c.length) {
                        this.removeAllRanges();
                        for (var d = 0, e = c.length; e > d; ++d) c[d].deleteContents();
                        this.addRange(c[e - 1]);
                    }
                }
            }, da.eachRange = function(a, b) {
                for (var c = 0, d = this._ranges.length; d > c; ++c) if (a(this.getRangeAt(c))) return b;
            }, da.getAllRanges = function() {
                var a = [];
                return this.eachRange(function(b) {
                    a.push(b);
                }), a;
            }, da.setSingleRange = function(a, b) {
                this.removeAllRanges(), this.addRange(a, b);
            }, da.callMethodOnEachRange = function(a, b) {
                var c = [];
                return this.eachRange(function(d) {
                    c.push(d[a].apply(d, b || []));
                }), c;
            }, da.setStart = w(!0), da.setEnd = w(!1), a.rangePrototype.select = function(a) {
                ca(this.getDocument()).setSingleRange(this, a);
            }, da.changeEachRange = function(a) {
                var b = [], c = this.isBackward();
                this.eachRange(function(c) {
                    a(c), b.push(c);
                }), this.removeAllRanges(), c && 1 == b.length ? this.addRange(b[0], "backward") : this.setRanges(b);
            }, da.containsNode = function(a, b) {
                return this.eachRange(function(c) {
                    return c.containsNode(a, b);
                }, !0) || !1;
            }, da.getBookmark = function(a) {
                return {
                    backward: this.isBackward(),
                    rangeBookmarks: this.callMethodOnEachRange("getBookmark", [ a ])
                };
            }, da.moveToBookmark = function(b) {
                for (var c, d, e = [], f = 0; c = b.rangeBookmarks[f++]; ) d = a.createRange(this.win), 
                d.moveToBookmark(c), e.push(d);
                b.backward ? this.setSingleRange(e[0], "backward") : this.setRanges(e);
            }, da.saveRanges = function() {
                return {
                    backward: this.isBackward(),
                    ranges: this.callMethodOnEachRange("cloneRange")
                };
            }, da.restoreRanges = function(a) {
                this.removeAllRanges();
                for (var b, c = 0; b = a.ranges[c]; ++c) this.addRange(b, a.backward && 0 == c);
            }, da.toHtml = function() {
                var a = [];
                return this.eachRange(function(b) {
                    a.push(F.toHtml(b));
                }), a.join("");
            }, J.implementsTextRange && (da.getNativeTextRange = function() {
                var c;
                if (c = this.docSelection) {
                    var d = c.createRange();
                    if (n(d)) return d;
                    throw b.createError("getNativeTextRange: selection is a control selection");
                }
                if (this.rangeCount > 0) return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));
                throw b.createError("getNativeTextRange: selection contains no range");
            }), da.getName = function() {
                return "WrappedSelection";
            }, da.inspect = function() {
                return x(this);
            }, da.detach = function() {
                t(this.win, "delete"), s(this);
            }, r.detachAll = function() {
                t(null, "deleteAll");
            }, r.inspect = x, r.isDirectionBackward = c, a.Selection = r, a.selectionPrototype = da, 
            a.addShimListener(function(a) {
                "undefined" == typeof a.getSelection && (a.getSelection = function() {
                    return ca(a);
                }), a = null;
            });
        });
        var M = !1, N = function(a) {
            M || (M = !0, !H.initialized && H.config.autoInitialize && l());
        };
        return F && ("complete" == document.readyState ? N() : (a(document, "addEventListener") && document.addEventListener("DOMContentLoaded", N, !1), 
        J(window, "load", N))), H;
    }, this), function(b, c) {
        "function" == typeof define && define.amd ? define([ "./rangy-core" ], b) : "undefined" != typeof module && "object" == typeof a ? module.exports = b(require("rangy")) : b(c.rangy);
    }(function(a) {
        return a.createModule("SaveRestore", [ "WrappedRange" ], function(a, b) {
            function c(a, b) {
                return (b || document).getElementById(a);
            }
            function d(a, b) {
                var c, d = "selectionBoundary_" + +new Date() + "_" + ("" + Math.random()).slice(2), e = o.getDocument(a.startContainer), f = a.cloneRange();
                return f.collapse(b), c = e.createElement("span"), c.id = d, c.style.lineHeight = "0", 
                c.style.display = "none", c.className = "rangySelectionBoundary", c.appendChild(e.createTextNode(r)), 
                f.insertNode(c), c;
            }
            function e(a, d, e, f) {
                var g = c(e, a);
                g ? (d[f ? "setStartBefore" : "setEndBefore"](g), p(g)) : b.warn("Marker element has been removed. Cannot restore selection.");
            }
            function f(a, b) {
                return b.compareBoundaryPoints(a.START_TO_START, a);
            }
            function g(b, c) {
                var e, f, g = a.DomRange.getRangeDocument(b), h = b.toString(), i = q(c);
                return b.collapsed ? (f = d(b, !1), {
                    document: g,
                    markerId: f.id,
                    collapsed: !0
                }) : (f = d(b, !1), e = d(b, !0), {
                    document: g,
                    startMarkerId: e.id,
                    endMarkerId: f.id,
                    collapsed: !1,
                    backward: i,
                    toString: function() {
                        return "original text: '" + h + "', new text: '" + b.toString() + "'";
                    }
                });
            }
            function h(d, f) {
                var g = d.document;
                "undefined" == typeof f && (f = !0);
                var h = a.createRange(g);
                if (d.collapsed) {
                    var i = c(d.markerId, g);
                    if (i) {
                        i.style.display = "inline";
                        var j = i.previousSibling;
                        j && 3 == j.nodeType ? (p(i), h.collapseToPoint(j, j.length)) : (h.collapseBefore(i), 
                        p(i));
                    } else b.warn("Marker element has been removed. Cannot restore selection.");
                } else e(g, h, d.startMarkerId, !0), e(g, h, d.endMarkerId, !1);
                return f && h.normalizeBoundaries(), h;
            }
            function i(b, d) {
                var e, h, i = [], j = q(d);
                b = b.slice(0), b.sort(f);
                for (var k = 0, l = b.length; l > k; ++k) i[k] = g(b[k], j);
                for (k = l - 1; k >= 0; --k) e = b[k], h = a.DomRange.getRangeDocument(e), e.collapsed ? e.collapseAfter(c(i[k].markerId, h)) : (e.setEndBefore(c(i[k].endMarkerId, h)), 
                e.setStartAfter(c(i[k].startMarkerId, h)));
                return i;
            }
            function j(c) {
                if (!a.isSelectionValid(c)) return b.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."), 
                null;
                var d = a.getSelection(c), e = d.getAllRanges(), f = 1 == e.length && d.isBackward(), g = i(e, f);
                return f ? d.setSingleRange(e[0], f) : d.setRanges(e), {
                    win: c,
                    rangeInfos: g,
                    restored: !1
                };
            }
            function k(a) {
                for (var b = [], c = a.length, d = c - 1; d >= 0; d--) b[d] = h(a[d], !0);
                return b;
            }
            function l(b, c) {
                if (!b.restored) {
                    var d = b.rangeInfos, e = a.getSelection(b.win), f = k(d), g = d.length;
                    1 == g && c && a.features.selectionHasExtend && d[0].backward ? (e.removeAllRanges(), 
                    e.addRange(f[0], !0)) : e.setRanges(f), b.restored = !0;
                }
            }
            function m(a, b) {
                var d = c(b, a);
                d && p(d);
            }
            function n(a) {
                for (var b, c = a.rangeInfos, d = 0, e = c.length; e > d; ++d) b = c[d], b.collapsed ? m(a.doc, b.markerId) : (m(a.doc, b.startMarkerId), 
                m(a.doc, b.endMarkerId));
            }
            var o = a.dom, p = o.removeNode, q = a.Selection.isDirectionBackward, r = "\ufeff";
            a.util.extend(a, {
                saveRange: g,
                restoreRange: h,
                saveRanges: i,
                restoreRanges: k,
                saveSelection: j,
                restoreSelection: l,
                removeMarkerElement: m,
                removeMarkers: n
            });
        }), a;
    }, this);
}({}, function() {
    return this;
}());

!function(a, b) {
    b["true"] = a, function(a, b, c) {
        "use strict";
        function d() {
            this.$get = [ "$$sanitizeUri", function(a) {
                return function(b) {
                    "undefined" != typeof arguments[1] && (arguments[1].version = "taSanitize");
                    var c = [];
                    return g(b, l(c, function(b, c) {
                        return !/^unsafe/.test(a(b, c));
                    })), c.join("");
                };
            } ];
        }
        function e(a) {
            var c = [], d = l(c, b.noop);
            return d.chars(a), c.join("");
        }
        function f(a) {
            var b, c = {}, d = a.split(",");
            for (b = 0; b < d.length; b++) c[d[b]] = !0;
            return c;
        }
        function g(a, c) {
            function d(a, d, f, g) {
                if (d = b.lowercase(d), D[d]) for (;k.last() && E[k.last()]; ) e("", k.last());
                C[d] && k.last() == d && e("", d), g = z[d] || !!g, g || k.push(d);
                var i = {};
                f.replace(p, function(a, b, c, d, e) {
                    var f = c || d || e || "";
                    i[b] = h(f);
                }), c.start && c.start(d, i, g);
            }
            function e(a, d) {
                var e, f = 0;
                if (d = b.lowercase(d)) for (f = k.length - 1; f >= 0 && k[f] != d; f--) ;
                if (f >= 0) {
                    for (e = k.length - 1; e >= f; e--) c.end && c.end(k[e]);
                    k.length = f;
                }
            }
            "string" != typeof a && (a = null === a || "undefined" == typeof a ? "" : "" + a);
            var f, g, i, j, k = [], l = a;
            for (k.last = function() {
                return k[k.length - 1];
            }; a; ) {
                if (j = "", g = !0, k.last() && G[k.last()]) a = a.replace(new RegExp("([^]*)<\\s*\\/\\s*" + k.last() + "[^>]*>", "i"), function(a, b) {
                    return b = b.replace(s, "$1").replace(v, "$1"), c.chars && c.chars(h(b)), "";
                }), e("", k.last()); else {
                    if (y.test(a)) {
                        if (i = a.match(y)) {
                            i[0];
                            c.whitespace && c.whitespace(i[0]), a = a.replace(i[0], ""), g = !1;
                        }
                    } else t.test(a) ? (i = a.match(t), i && (c.comment && c.comment(i[1]), a = a.replace(i[0], ""), 
                    g = !1)) : u.test(a) ? (i = a.match(u), i && (a = a.replace(i[0], ""), g = !1)) : r.test(a) ? (i = a.match(o), 
                    i && (a = a.substring(i[0].length), i[0].replace(o, e), g = !1)) : q.test(a) && (i = a.match(n), 
                    i ? (i[4] && (a = a.substring(i[0].length), i[0].replace(n, d)), g = !1) : (j += "<", 
                    a = a.substring(1)));
                    g && (f = a.indexOf("<"), j += 0 > f ? a : a.substring(0, f), a = 0 > f ? "" : a.substring(f), 
                    c.chars && c.chars(h(j)));
                }
                if (a == l) throw m("badparse", "The sanitizer was unable to parse the following block of html: {0}", a);
                l = a;
            }
            e();
        }
        function h(a) {
            if (!a) return "";
            var b = N.exec(a), c = b[1], d = b[3], e = b[2];
            return e && (M.innerHTML = e.replace(/</g, "&lt;"), e = "textContent" in M ? M.textContent : M.innerText), 
            c + e + d;
        }
        function i(a) {
            return a.replace(/&/g, "&amp;").replace(w, function(a) {
                var b = a.charCodeAt(0), c = a.charCodeAt(1);
                return "&#" + (1024 * (b - 55296) + (c - 56320) + 65536) + ";";
            }).replace(x, function(a) {
                var b = a.charCodeAt(0);
                return 159 >= b || 173 == b || b >= 1536 && 1540 >= b || 1807 == b || 6068 == b || 6069 == b || b >= 8204 && 8207 >= b || b >= 8232 && 8239 >= b || b >= 8288 && 8303 >= b || 65279 == b || b >= 65520 && 65535 >= b ? "&#" + b + ";" : a;
            }).replace(/</g, "&lt;").replace(/>/g, "&gt;");
        }
        function j(a) {
            var c = "", d = a.split(";");
            return b.forEach(d, function(a) {
                var d = a.split(":");
                if (2 == d.length) {
                    var e = O(b.lowercase(d[0])), a = O(b.lowercase(d[1]));
                    (("color" === e || "background-color" === e) && (a.match(/^rgb\([0-9%,\. ]*\)$/i) || a.match(/^rgba\([0-9%,\. ]*\)$/i) || a.match(/^hsl\([0-9%,\. ]*\)$/i) || a.match(/^hsla\([0-9%,\. ]*\)$/i) || a.match(/^#[0-9a-f]{3,6}$/i) || a.match(/^[a-z]*$/i)) || "text-align" === e && ("left" === a || "right" === a || "center" === a || "justify" === a) || "float" === e && ("left" === a || "right" === a || "none" === a) || ("width" === e || "height" === e) && a.match(/[0-9\.]*(px|em|rem|%)/) || "direction" === e && a.match(/^ltr|rtl|initial|inherit$/)) && (c += e + ": " + a + ";");
                }
            }), c;
        }
        function k(a, b, c, d) {
            return "img" === a && b["ta-insert-video"] && ("ta-insert-video" === c || "allowfullscreen" === c || "frameborder" === c || "contenteditable" === c && "false" === d) ? !0 : !1;
        }
        function l(a, c) {
            var d = !1, e = b.bind(a, a.push);
            return {
                start: function(a, f, g) {
                    a = b.lowercase(a), !d && G[a] && (d = a), d || H[a] !== !0 || (e("<"), e(a), b.forEach(f, function(d, g) {
                        var h = b.lowercase(g), l = "img" === a && "src" === h || "background" === h;
                        ("style" === h && "" !== (d = j(d)) || k(a, f, h, d) || L[h] === !0 && (I[h] !== !0 || c(d, l))) && (e(" "), 
                        e(g), e('="'), e(i(d)), e('"'));
                    }), e(g ? "/>" : ">"));
                },
                comment: function(a) {
                    e(a);
                },
                whitespace: function(a) {
                    e(i(a));
                },
                end: function(a) {
                    a = b.lowercase(a), d || H[a] !== !0 || (e("</"), e(a), e(">")), a == d && (d = !1);
                },
                chars: function(a) {
                    d || e(i(a));
                }
            };
        }
        var m = b.$$minErr("$sanitize"), n = /^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/, o = /^<\/\s*([\w:-]+)[^>]*>/, p = /([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g, q = /^</, r = /^<\//, s = /<!--(.*?)-->/g, t = /(^<!--.*?-->)/, u = /<!DOCTYPE([^>]*?)>/i, v = /<!\[CDATA\[(.*?)]]>/g, w = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, x = /([^\#-~| |!])/g, y = /^(\s+)/, z = f("area,br,col,hr,img,wbr,input"), A = f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"), B = f("rp,rt"), C = b.extend({}, B, A), D = b.extend({}, A, f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")), E = b.extend({}, B, f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")), F = f("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"), G = f("script,style"), H = b.extend({}, z, D, E, C, F), I = f("background,cite,href,longdesc,src,usemap,xlink:href"), J = f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"), K = f("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"), L = b.extend({}, I, K, J), M = document.createElement("pre"), N = /^(\s*)([\s\S]*?)(\s*)$/, O = function() {
            return String.prototype.trim ? function(a) {
                return b.isString(a) ? a.trim() : a;
            } : function(a) {
                return b.isString(a) ? a.replace(/^\s\s*/, "").replace(/\s\s*$/, "") : a;
            };
        }();
        b.module("ngSanitize", []).provider("$sanitize", d), b.module("ngSanitize").filter("linky", [ "$sanitize", function(a) {
            var c = /((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/, d = /^mailto:/;
            return function(f, g) {
                function h(a) {
                    a && n.push(e(a));
                }
                function i(a, c) {
                    n.push("<a "), b.isDefined(g) && n.push('target="', g, '" '), n.push('href="', a.replace(/"/g, "&quot;"), '">'), 
                    h(c), n.push("</a>");
                }
                if (!f) return f;
                for (var j, k, l, m = f, n = []; j = m.match(c); ) k = j[0], j[2] || j[4] || (k = (j[3] ? "http://" : "mailto:") + k), 
                l = j.index, h(m.substr(0, l)), i(k, j[0].replace(d, "")), m = m.substring(l + j[0].length);
                return h(m), a(n.join(""));
            };
        } ]);
    }(window, window.angular);
}({}, function() {
    return this;
}());

"undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "textAngular");

(function() {
    "use strict";
    var a = {
        ie: function() {
            var a, b = 3, c = document.createElement("div"), d = c.getElementsByTagName("i");
            while (c.innerHTML = "<!--[if gt IE " + ++b + "]><i></i><![endif]-->", d[0]) ;
            return b > 4 ? b : a;
        }(),
        webkit: /AppleWebKit\/([\d.]+)/i.test(navigator.userAgent)
    };
    var b = false;
    if (a.webkit) {
        document.addEventListener("mousedown", function(a) {
            var c = a || window.event;
            var d = c.target;
            if (b && d !== null) {
                var e = false;
                var f = d;
                while (f !== null && f.tagName.toLowerCase() !== "html" && !e) {
                    e = f.contentEditable === "true";
                    f = f.parentNode;
                }
                if (!e) {
                    document.getElementById("textAngular-editableFix-010203040506070809").setSelectionRange(0, 0);
                    d.focus();
                    if (d.select) {
                        d.select();
                    }
                }
            }
            b = false;
        }, false);
        angular.element(document).ready(function() {
            angular.element(document.body).append(angular.element('<input id="textAngular-editableFix-010203040506070809" class="ta-hidden-input" aria-hidden="true" unselectable="on" tabIndex="-1">'));
        });
    }
    var c = /^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i;
    var d = /^(ul|li|ol)$/i;
    var e = /^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;
    if (!String.prototype.trim) {
        String.prototype.trim = function() {
            return this.replace(/^\s+|\s+$/g, "");
        };
    }
    var f, g, h, i, j, k;
    if (a.ie > 8 || a.ie === undefined) {
        var l = document.styleSheets;
        for (var m = 0; m < l.length; m++) {
            if (l[m].media.length === 0 || l[m].media.mediaText.match(/(all|screen)/gi)) {
                if (l[m].href) {
                    if (l[m].href.match(/textangular\.(min\.|)css/gi)) {
                        f = l[m];
                        break;
                    }
                }
            }
        }
        if (!f) {
            f = function() {
                var b = document.createElement("style");
                if (a.webkit) b.appendChild(document.createTextNode(""));
                document.getElementsByTagName("head")[0].appendChild(b);
                return b.sheet;
            }();
        }
        g = function(a, b) {
            return i(f, a, b);
        };
        i = function(a, b, c) {
            var d;
            var e;
            if (a.cssRules) d = Math.max(a.cssRules.length - 1, 0); else if (a.rules) d = Math.max(a.rules.length - 1, 0);
            if (a.insertRule) {
                a.insertRule(b + "{" + c + "}", d);
            } else {
                a.addRule(b, c, d);
            }
            if (f.rules) e = f.rules[d]; else if (f.cssRules) e = f.cssRules[d];
            return e;
        };
        k = function(a, b) {
            var c, d;
            for (c = 0; c < b.length; c++) {
                if (b[c].cssText === a.cssText) {
                    d = c;
                    break;
                }
            }
            return d;
        };
        h = function(a) {
            j(f, a);
        };
        j = function(a, b) {
            var c = a.cssRules || a.rules;
            if (!c || c.length === 0) return;
            var d = k(b, c);
            if (a.removeRule) {
                a.removeRule(d);
            } else {
                a.deleteRule(d);
            }
        };
    }
    angular.module("textAngular.factories", []).factory("taBrowserTag", [ function() {
        return function(b) {
            if (!b) return a.ie <= 8 ? "P" : "p"; else if (b === "") return a.ie === undefined ? "div" : a.ie <= 8 ? "P" : "p"; else return a.ie <= 8 ? b.toUpperCase() : b;
        };
    } ]).factory("taApplyCustomRenderers", [ "taCustomRenderers", "taDOM", function(a, b) {
        return function(c) {
            var d = angular.element("<div></div>");
            d[0].innerHTML = c;
            angular.forEach(a, function(a) {
                var c = [];
                if (a.selector && a.selector !== "") c = d.find(a.selector); else if (a.customAttribute && a.customAttribute !== "") c = b.getByAttribute(d, a.customAttribute);
                angular.forEach(c, function(b) {
                    b = angular.element(b);
                    if (a.selector && a.selector !== "" && a.customAttribute && a.customAttribute !== "") {
                        if (b.attr(a.customAttribute) !== undefined) a.renderLogic(b);
                    } else a.renderLogic(b);
                });
            });
            return d[0].innerHTML;
        };
    } ]).factory("taFixChrome", function() {
        var a = function(a) {
            if (!a || !angular.isString(a) || a.length <= 0) return a;
            var b = /<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi;
            var c, d, e, f = "", g = 0;
            while (c = b.exec(a)) {
                d = c[3] || c[4];
                if (d && d.match(/line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;/i)) {
                    d = d.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;/gi, "");
                    e = "<" + c[1].trim();
                    if (d.trim().length > 0) e += " style=" + c[2].substring(0, 1) + d + c[2].substring(0, 1);
                    e += c[5].trim() + ">";
                    f += a.substring(g, c.index) + e;
                    g = c.index + c[0].length;
                }
            }
            f += a.substring(g);
            if (g > 0) {
                return f.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi, "$1");
            } else return a;
        };
        return a;
    }).factory("taSanitize", [ "$sanitize", function p(a) {
        var b = [ {
            property: "font-weight",
            values: [ "bold" ],
            tag: "b"
        }, {
            property: "font-style",
            values: [ "italic" ],
            tag: "i"
        } ];
        var c = [];
        for (var d = 0; d < b.length; d++) {
            var e = "(" + b[d].property + ":\\s*(";
            for (var f = 0; f < b[d].values.length; f++) {
                if (f > 0) e += "|";
                e += b[d].values[f];
            }
            e += ");)";
            c.push(e);
        }
        var g = "(" + c.join("|") + ")";
        function h(a, b) {
            var c = 0;
            var d = 0;
            var e;
            var f = /<[^>]*>/gi;
            while (e = f.exec(a)) {
                d = e.index;
                if (e[0].substr(1, 1) === "/") {
                    if (c === 0) break; else c--;
                } else c++;
            }
            return b + a.substring(0, d) + angular.element(b)[0].outerHTML.substring(b.length) + a.substring(d);
        }
        function i(a) {
            if (!a || !angular.isString(a) || a.length <= 0) return a;
            var c;
            var d = /<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi;
            var e, f, j, k, l = "", m, n = "", o = 0;
            while (e = d.exec(a)) {
                j = e[3] || e[4];
                var p = new RegExp(g, "i");
                if (angular.isString(j) && p.test(j)) {
                    k = "";
                    var q = new RegExp(g, "ig");
                    while (f = q.exec(j)) {
                        for (c = 0; c < b.length; c++) {
                            if (!!f[c * 2 + 2]) {
                                k += "<" + b[c].tag + ">";
                            }
                        }
                    }
                    m = i(a.substring(o, e.index));
                    if (l.length > 0) {
                        n += h(m, l);
                    } else n += m;
                    j = j.replace(new RegExp(g, "ig"), "");
                    n += "<" + e[1].trim();
                    if (j.length > 0) n += ' style="' + j + '"';
                    n += e[5] + ">";
                    o = e.index + e[0].length;
                    l = k;
                }
            }
            if (l.length > 0) {
                n += h(a.substring(o), l);
            } else n += a.substring(o);
            return n;
        }
        function j(a) {
            if (!a || !angular.isString(a) || a.length <= 0) return a;
            var b = /<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi;
            var c, d = "", e = 0;
            while (c = b.exec(a)) {
                d += a.substring(e, c.index);
                e = c.index + c[0].length;
                var f = "<" + c[1] + c[5];
                if (/style=("([^"]+)"|'([^']+)')/gi.test(f)) {
                    f = f.replace(/style=("([^"]+)"|'([^']+)')/i, 'style="$2$3 text-align:' + (c[3] || c[4]) + ';"');
                } else {
                    f += ' style="text-align:' + (c[3] || c[4]) + ';"';
                }
                f += ">";
                d += f;
            }
            return d + a.substring(e);
        }
        return function k(b, c, d) {
            if (!d) {
                try {
                    b = i(b);
                } catch (e) {}
            }
            b = j(b);
            var f;
            try {
                f = a(b);
                if (d) f = b;
            } catch (e) {
                f = c || "";
            }
            var g = f.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi);
            var h = f.replace(/(&#(9|10);)*/gi, "");
            var k = /<pre[^>]*>.*?<\/pre[^>]*>/gi;
            var l = 0;
            var m = 0;
            var n;
            f = "";
            while ((n = k.exec(h)) !== null && l < g.length) {
                f += h.substring(m, n.index) + g[l];
                m = n.index + n[0].length;
                l++;
            }
            return f + h.substring(m);
        };
    } ]).factory("taToolExecuteAction", [ "$q", "$log", function(a, b) {
        return function(c) {
            if (c !== undefined) this.$editor = function() {
                return c;
            };
            var d = a.defer(), e = d.promise, f = this.$editor();
            var g;
            try {
                g = this.action(d, f.startAction());
                e["finally"](function() {
                    f.endAction.call(f);
                });
            } catch (h) {
                b.error(h);
            }
            if (g || g === undefined) {
                d.resolve();
            }
        };
    } ]);
    angular.module("textAngular.DOM", [ "textAngular.factories" ]).factory("taExecCommand", [ "taSelection", "taBrowserTag", "$document", function(a, b, e) {
        var f = function(b, c) {
            var d, e;
            var f = b.find("li");
            for (e = f.length - 1; e >= 0; e--) {
                d = angular.element("<" + c + ">" + f[e].innerHTML + "</" + c + ">");
                b.after(d);
            }
            b.remove();
            a.setSelectionToElementEnd(d[0]);
        };
        var g = function(b) {
            if (/(<br(|\/)>)$/i.test(b.innerHTML.trim())) a.setSelectionBeforeElement(angular.element(b).find("br")[0]); else a.setSelectionToElementEnd(b);
        };
        var h = function(a, b) {
            var c = angular.element("<" + b + ">" + a[0].innerHTML + "</" + b + ">");
            a.after(c);
            a.remove();
            g(c.find("li")[0]);
        };
        var i = function(a, c, d) {
            var e = "";
            for (var f = 0; f < a.length; f++) {
                e += "<" + b("li") + ">" + a[f].innerHTML + "</" + b("li") + ">";
            }
            var h = angular.element("<" + d + ">" + e + "</" + d + ">");
            c.after(h);
            c.remove();
            g(h.find("li")[0]);
        };
        return function(g, j) {
            g = b(g);
            return function(k, l, m, n) {
                var o, p, q, r, s, t, u;
                var v = angular.element("<" + g + ">");
                try {
                    u = a.getSelectionElement();
                } catch (w) {}
                var x = angular.element(u);
                if (u !== undefined) {
                    var y = u.tagName.toLowerCase();
                    if (k.toLowerCase() === "insertorderedlist" || k.toLowerCase() === "insertunorderedlist") {
                        var z = b(k.toLowerCase() === "insertorderedlist" ? "ol" : "ul");
                        if (y === z) {
                            return f(x, g);
                        } else if (y === "li" && x.parent()[0].tagName.toLowerCase() === z && x.parent().children().length === 1) {
                            return f(x.parent(), g);
                        } else if (y === "li" && x.parent()[0].tagName.toLowerCase() !== z && x.parent().children().length === 1) {
                            return h(x.parent(), z);
                        } else if (y.match(c) && !x.hasClass("ta-bind")) {
                            if (y === "ol" || y === "ul") {
                                return h(x, z);
                            } else {
                                var A = false;
                                angular.forEach(x.children(), function(a) {
                                    if (a.tagName.match(c)) {
                                        A = true;
                                    }
                                });
                                if (A) {
                                    return i(x.children(), x, z);
                                } else {
                                    return i([ angular.element("<div>" + u.innerHTML + "</div>")[0] ], x, z);
                                }
                            }
                        } else if (y.match(c)) {
                            r = a.getOnlySelectedElements();
                            if (r.length === 0) {
                                p = angular.element("<" + z + "><li>" + u.innerHTML + "</li></" + z + ">");
                                x.html("");
                                x.append(p);
                            } else if (r.length === 1 && (r[0].tagName.toLowerCase() === "ol" || r[0].tagName.toLowerCase() === "ul")) {
                                if (r[0].tagName.toLowerCase() === z) {
                                    return f(angular.element(r[0]), g);
                                } else {
                                    return h(angular.element(r[0]), z);
                                }
                            } else {
                                q = "";
                                var B = [];
                                for (o = 0; o < r.length; o++) {
                                    if (r[o].nodeType !== 3) {
                                        var C = angular.element(r[o]);
                                        if (r[o].tagName.toLowerCase() === "li") continue; else if (r[o].tagName.toLowerCase() === "ol" || r[o].tagName.toLowerCase() === "ul") {
                                            q += C[0].innerHTML;
                                        } else if (r[o].tagName.toLowerCase() === "span" && (r[o].childNodes[0].tagName.toLowerCase() === "ol" || r[o].childNodes[0].tagName.toLowerCase() === "ul")) {
                                            q += C[0].childNodes[0].innerHTML;
                                        } else {
                                            q += "<" + b("li") + ">" + C[0].innerHTML + "</" + b("li") + ">";
                                        }
                                        B.unshift(C);
                                    }
                                }
                                p = angular.element("<" + z + ">" + q + "</" + z + ">");
                                B.pop().replaceWith(p);
                                angular.forEach(B, function(a) {
                                    a.remove();
                                });
                            }
                            a.setSelectionToElementEnd(p[0]);
                            return;
                        }
                    } else if (k.toLowerCase() === "formatblock") {
                        t = m.toLowerCase().replace(/[<>]/gi, "");
                        if (t.trim() === "default") {
                            t = g;
                            m = "<" + g + ">";
                        }
                        if (y === "li") p = x.parent(); else p = x;
                        while (!p[0].tagName || !p[0].tagName.match(c) && !p.parent().attr("contenteditable")) {
                            p = p.parent();
                            y = (p[0].tagName || "").toLowerCase();
                        }
                        if (y === t) {
                            r = p.children();
                            var D = false;
                            for (o = 0; o < r.length; o++) {
                                D = D || r[o].tagName.match(c);
                            }
                            if (D) {
                                p.after(r);
                                s = p.next();
                                p.remove();
                                p = s;
                            } else {
                                v.append(p[0].childNodes);
                                p.after(v);
                                p.remove();
                                p = v;
                            }
                        } else if (p.parent()[0].tagName.toLowerCase() === t && !p.parent().hasClass("ta-bind")) {
                            var E = p.parent();
                            var F = E.contents();
                            for (o = 0; o < F.length; o++) {
                                if (E.parent().hasClass("ta-bind") && F[o].nodeType === 3) {
                                    v = angular.element("<" + g + ">");
                                    v[0].innerHTML = F[o].outerHTML;
                                    F[o] = v[0];
                                }
                                E.parent()[0].insertBefore(F[o], E[0]);
                            }
                            E.remove();
                        } else if (y.match(d)) {
                            p.wrap(m);
                        } else {
                            r = a.getOnlySelectedElements();
                            if (r.length === 0) r = [ p[0] ];
                            for (o = 0; o < r.length; o++) {
                                if (r[o].nodeType === 3 || !r[o].tagName.match(c)) {
                                    while (r[o].nodeType === 3 || !r[o].tagName || !r[o].tagName.match(c)) {
                                        r[o] = r[o].parentNode;
                                    }
                                }
                            }
                            if (angular.element(r[0]).hasClass("ta-bind")) {
                                p = angular.element(m);
                                p[0].innerHTML = r[0].innerHTML;
                                r[0].innerHTML = p[0].outerHTML;
                            } else if (t === "blockquote") {
                                q = "";
                                for (o = 0; o < r.length; o++) {
                                    q += r[o].outerHTML;
                                }
                                p = angular.element(m);
                                p[0].innerHTML = q;
                                r[0].parentNode.insertBefore(p[0], r[0]);
                                for (o = r.length - 1; o >= 0; o--) {
                                    if (r[o].parentNode) r[o].parentNode.removeChild(r[o]);
                                }
                            } else {
                                for (o = 0; o < r.length; o++) {
                                    p = angular.element(m);
                                    p[0].innerHTML = r[o].innerHTML;
                                    r[o].parentNode.insertBefore(p[0], r[o]);
                                    r[o].parentNode.removeChild(r[o]);
                                }
                            }
                        }
                        a.setSelectionToElementEnd(p[0]);
                        return;
                    } else if (k.toLowerCase() === "createlink") {
                        var G = '<a href="' + m + '" target="' + (n.a.target ? n.a.target : "") + '">', H = "</a>", I = a.getSelection();
                        if (I.collapsed) {
                            a.insertHtml(G + m + H, j);
                        } else if (rangy.getSelection().getRangeAt(0).canSurroundContents()) {
                            var J = angular.element(G + H)[0];
                            rangy.getSelection().getRangeAt(0).surroundContents(J);
                        }
                        return;
                    } else if (k.toLowerCase() === "inserthtml") {
                        a.insertHtml(m, j);
                        return;
                    }
                }
                try {
                    e[0].execCommand(k, l, m);
                } catch (w) {}
            };
        };
    } ]).service("taSelection", [ "$window", "$document", "taDOM", function(a, b, d) {
        var f = b[0];
        var g = a.rangy;
        var h = function(a, b) {
            if (a.tagName && a.tagName.match(/^br$/i) && b === 0 && !a.previousSibling) {
                return {
                    element: a.parentNode,
                    offset: 0
                };
            } else {
                return {
                    element: a,
                    offset: b
                };
            }
        };
        var i = {
            getSelection: function() {
                var a = g.getSelection().getRangeAt(0);
                var b = a.commonAncestorContainer;
                var c = {
                    start: h(a.startContainer, a.startOffset),
                    end: h(a.endContainer, a.endOffset),
                    collapsed: a.collapsed
                };
                b = b.nodeType === 3 ? b.parentNode : b;
                if (b.parentNode === c.start.element || b.parentNode === c.end.element) {
                    c.container = b.parentNode;
                } else {
                    c.container = b;
                }
                return c;
            },
            getOnlySelectedElements: function() {
                var a = g.getSelection().getRangeAt(0);
                var b = a.commonAncestorContainer;
                b = b.nodeType === 3 ? b.parentNode : b;
                return a.getNodes([ 1 ], function(a) {
                    return a.parentNode === b;
                });
            },
            getSelectionElement: function() {
                return i.getSelection().container;
            },
            setSelection: function(a, b, c) {
                var d = g.createRange();
                d.setStart(a, b);
                d.setEnd(a, c);
                g.getSelection().setSingleRange(d);
            },
            setSelectionBeforeElement: function(a) {
                var b = g.createRange();
                b.selectNode(a);
                b.collapse(true);
                g.getSelection().setSingleRange(b);
            },
            setSelectionAfterElement: function(a) {
                var b = g.createRange();
                b.selectNode(a);
                b.collapse(false);
                g.getSelection().setSingleRange(b);
            },
            setSelectionToElementStart: function(a) {
                var b = g.createRange();
                b.selectNodeContents(a);
                b.collapse(true);
                g.getSelection().setSingleRange(b);
            },
            setSelectionToElementEnd: function(a) {
                var b = g.createRange();
                b.selectNodeContents(a);
                b.collapse(false);
                if (a.childNodes && a.childNodes[a.childNodes.length - 1] && a.childNodes[a.childNodes.length - 1].nodeName === "br") {
                    b.startOffset = b.endOffset = b.startOffset - 1;
                }
                g.getSelection().setSingleRange(b);
            },
            insertHtml: function(a, b) {
                var h, j, k, l, m, n, o;
                var p = angular.element("<div>" + a + "</div>");
                var q = g.getSelection().getRangeAt(0);
                var r = f.createDocumentFragment();
                var s = p[0].childNodes;
                var t = true;
                if (s.length > 0) {
                    l = [];
                    for (k = 0; k < s.length; k++) {
                        if (!(s[k].nodeName.toLowerCase() === "p" && s[k].innerHTML.trim() === "" || s[k].nodeType === 3 && s[k].nodeValue.trim() === "")) {
                            t = t && !c.test(s[k].nodeName);
                            l.push(s[k]);
                        }
                    }
                    for (var u = 0; u < l.length; u++) n = r.appendChild(l[u]);
                    if (!t && q.collapsed && /^(|<br(|\/)>)$/i.test(q.startContainer.innerHTML)) q.selectNode(q.startContainer);
                } else {
                    t = true;
                    n = r = f.createTextNode(a);
                }
                if (t) {
                    q.deleteContents();
                } else {
                    if (q.collapsed && q.startContainer !== b) {
                        if (q.startContainer.innerHTML && q.startContainer.innerHTML.match(/^<[^>]*>$/i)) {
                            h = q.startContainer;
                            if (q.startOffset === 1) {
                                q.setStartAfter(h);
                                q.setEndAfter(h);
                            } else {
                                q.setStartBefore(h);
                                q.setEndBefore(h);
                            }
                        } else {
                            if (q.startContainer.nodeType === 3 && q.startContainer.parentNode !== b) {
                                h = q.startContainer.parentNode;
                                j = h.cloneNode();
                                d.splitNodes(h.childNodes, h, j, q.startContainer, q.startOffset);
                                while (!e.test(h.nodeName)) {
                                    angular.element(h).after(j);
                                    h = h.parentNode;
                                    var v = j;
                                    j = h.cloneNode();
                                    d.splitNodes(h.childNodes, h, j, v);
                                }
                            } else {
                                h = q.startContainer;
                                j = h.cloneNode();
                                d.splitNodes(h.childNodes, h, j, undefined, undefined, q.startOffset);
                            }
                            angular.element(h).after(j);
                            q.setStartAfter(h);
                            q.setEndAfter(h);
                            if (/^(|<br(|\/)>)$/i.test(h.innerHTML.trim())) {
                                q.setStartBefore(h);
                                q.setEndBefore(h);
                                angular.element(h).remove();
                            }
                            if (/^(|<br(|\/)>)$/i.test(j.innerHTML.trim())) angular.element(j).remove();
                            if (h.nodeName.toLowerCase() === "li") {
                                o = f.createDocumentFragment();
                                for (m = 0; m < r.childNodes.length; m++) {
                                    p = angular.element("<li>");
                                    d.transferChildNodes(r.childNodes[m], p[0]);
                                    d.transferNodeAttributes(r.childNodes[m], p[0]);
                                    o.appendChild(p[0]);
                                }
                                r = o;
                                if (n) {
                                    n = r.childNodes[r.childNodes.length - 1];
                                    n = n.childNodes[n.childNodes.length - 1];
                                }
                            }
                        }
                    } else {
                        q.deleteContents();
                    }
                }
                q.insertNode(r);
                if (n) {
                    i.setSelectionToElementEnd(n);
                }
            }
        };
        return i;
    } ]).service("taDOM", function() {
        var a = {
            getByAttribute: function(b, c) {
                var d = [];
                var e = b.children();
                if (e.length) {
                    angular.forEach(e, function(b) {
                        d = d.concat(a.getByAttribute(angular.element(b), c));
                    });
                }
                if (b.attr(c) !== undefined) d.push(b);
                return d;
            },
            transferChildNodes: function(a, b) {
                b.innerHTML = "";
                while (a.childNodes.length > 0) b.appendChild(a.childNodes[0]);
                return b;
            },
            splitNodes: function(b, c, d, e, f, g) {
                if (!e && isNaN(g)) throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");
                var h = document.createDocumentFragment();
                var i = document.createDocumentFragment();
                var j = 0;
                while (b.length > 0 && (isNaN(g) || g !== j) && b[0] !== e) {
                    h.appendChild(b[0]);
                    j++;
                }
                if (!isNaN(f) && f >= 0 && b[0]) {
                    h.appendChild(document.createTextNode(b[0].nodeValue.substring(0, f)));
                    b[0].nodeValue = b[0].nodeValue.substring(f);
                }
                while (b.length > 0) i.appendChild(b[0]);
                a.transferChildNodes(h, c);
                a.transferChildNodes(i, d);
            },
            transferNodeAttributes: function(a, b) {
                for (var c = 0; c < a.attributes.length; c++) b.setAttribute(a.attributes[c].name, a.attributes[c].value);
                return b;
            }
        };
        return a;
    });
    angular.module("textAngular.validators", []).directive("taMaxText", function() {
        return {
            restrict: "A",
            require: "ngModel",
            link: function(a, b, c, d) {
                var e = parseInt(a.$eval(c.taMaxText));
                if (isNaN(e)) {
                    throw "Max text must be an integer";
                }
                c.$observe("taMaxText", function(a) {
                    e = parseInt(a);
                    if (isNaN(e)) {
                        throw "Max text must be an integer";
                    }
                    if (d.$dirty) {
                        d.$validate();
                    }
                });
                d.$validators.taMaxText = function(a) {
                    var b = angular.element("<div/>");
                    b.html(a);
                    return b.text().length <= e;
                };
            }
        };
    }).directive("taMinText", function() {
        return {
            restrict: "A",
            require: "ngModel",
            link: function(a, b, c, d) {
                var e = parseInt(a.$eval(c.taMinText));
                if (isNaN(e)) {
                    throw "Min text must be an integer";
                }
                c.$observe("taMinText", function(a) {
                    e = parseInt(a);
                    if (isNaN(e)) {
                        throw "Min text must be an integer";
                    }
                    if (d.$dirty) {
                        d.$validate();
                    }
                });
                d.$validators.taMinText = function(a) {
                    var b = angular.element("<div/>");
                    b.html(a);
                    return !b.text().length || b.text().length >= e;
                };
            }
        };
    });
    angular.module("textAngular.taBind", [ "textAngular.factories", "textAngular.DOM" ]).service("_taBlankTest", [ function() {
        var a = /<(a|abbr|acronym|bdi|bdo|big|cite|code|del|dfn|img|ins|kbd|label|map|mark|q|ruby|rp|rt|s|samp|time|tt|var)[^>]*(>|$)/i;
        return function(b) {
            return function(c) {
                if (!c) return true;
                var d = /(^[^<]|>)[^<]/i.exec(c);
                var e;
                if (!d) {
                    c = c.toString().replace(/="[^"]*"/i, "").replace(/="[^"]*"/i, "").replace(/="[^"]*"/i, "").replace(/="[^"]*"/i, "");
                    e = c.indexOf(">");
                } else {
                    e = d.index;
                }
                c = c.trim().substring(e, e + 100);
                if (/^[^<>]+$/i.test(c)) return false;
                if (c.length === 0 || c === b || /^>(\s|&nbsp;)*<\/[^>]+>$/gi.test(c)) return true; else if (/>\s*[^\s<]/i.test(c) || a.test(c)) return false; else return true;
            };
        };
    } ]).directive("taButton", [ function() {
        return {
            link: function(a, b, c) {
                b.attr("unselectable", "on");
                b.on("mousedown", function(a, b) {
                    if (b) angular.extend(a, b);
                    a.preventDefault();
                    return false;
                });
            }
        };
    } ]).directive("taBind", [ "taSanitize", "$timeout", "$window", "$document", "taFixChrome", "taBrowserTag", "taSelection", "taSelectableElements", "taApplyCustomRenderers", "taOptions", "_taBlankTest", "$parse", "taDOM", "textAngularManager", function(d, f, i, j, k, l, m, o, p, q, r, s, t, u) {
        return {
            priority: 2,
            require: [ "ngModel", "?ngModelOptions" ],
            link: function(l, v, w, x) {
                var y = x[0];
                var z = x[1] || {};
                var A = v.attr("contenteditable") !== undefined && v.attr("contenteditable");
                var B = A || v[0].tagName.toLowerCase() === "textarea" || v[0].tagName.toLowerCase() === "input";
                var C = false;
                var D = false;
                var E = false;
                var F = w.taUnsafeSanitizer || q.disableSanitizer;
                var G;
                var H = /^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i;
                var I = /^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i;
                var J;
                var K, L;
                var M = 1;
                var N = 2;
                var O = 4;
                var P = 8;
                var Q = [ {
                    specialKey: "UndoKey",
                    forbiddenModifiers: O + P,
                    mustHaveModifiers: [ N + M ],
                    keyCode: 90
                }, {
                    specialKey: "RedoKey",
                    forbiddenModifiers: O,
                    mustHaveModifiers: [ N + M, P ],
                    keyCode: 90
                }, {
                    specialKey: "RedoKey",
                    forbiddenModifiers: O + P,
                    mustHaveModifiers: [ N + M ],
                    keyCode: 89
                }, {
                    specialKey: "TabKey",
                    forbiddenModifiers: N + P + O + M,
                    mustHaveModifiers: [],
                    keyCode: 9
                }, {
                    specialKey: "ShiftTabKey",
                    forbiddenModifiers: N + O + M,
                    mustHaveModifiers: [ P ],
                    keyCode: 9
                } ];
                function R(a) {
                    var b;
                    Q.forEach(function(c) {
                        if (c.keyCode === a.keyCode) {
                            var d = (a.metaKey ? N : 0) + (a.ctrlKey ? M : 0) + (a.shiftKey ? P : 0) + (a.altKey ? O : 0);
                            if (c.forbiddenModifiers & d) return;
                            if (c.mustHaveModifiers.every(function(a) {
                                return d & a;
                            })) {
                                b = c.specialKey;
                            }
                        }
                    });
                    return b;
                }
                if (w.taDefaultWrap === undefined) w.taDefaultWrap = "p";
                if (w.taDefaultWrap === "") {
                    K = "";
                    L = a.ie === undefined ? "<div><br></div>" : a.ie >= 11 ? "<p><br></p>" : a.ie <= 8 ? "<P>&nbsp;</P>" : "<p>&nbsp;</p>";
                } else {
                    K = a.ie === undefined || a.ie >= 11 ? "<" + w.taDefaultWrap + "><br></" + w.taDefaultWrap + ">" : a.ie <= 8 ? "<" + w.taDefaultWrap.toUpperCase() + "></" + w.taDefaultWrap.toUpperCase() + ">" : "<" + w.taDefaultWrap + "></" + w.taDefaultWrap + ">";
                    L = a.ie === undefined || a.ie >= 11 ? "<" + w.taDefaultWrap + "><br></" + w.taDefaultWrap + ">" : a.ie <= 8 ? "<" + w.taDefaultWrap.toUpperCase() + ">&nbsp;</" + w.taDefaultWrap.toUpperCase() + ">" : "<" + w.taDefaultWrap + ">&nbsp;</" + w.taDefaultWrap + ">";
                }
                if (!z.$options) z.$options = {};
                var S = r(L);
                var T = function(a) {
                    if (S(a)) return a;
                    var b = angular.element("<div>" + a + "</div>");
                    if (b.children().length === 0) {
                        a = "<" + w.taDefaultWrap + ">" + a + "</" + w.taDefaultWrap + ">";
                    } else {
                        var d = b[0].childNodes;
                        var e;
                        var f = false;
                        for (e = 0; e < d.length; e++) {
                            if (f = d[e].nodeName.toLowerCase().match(c)) break;
                        }
                        if (!f) {
                            a = "<" + w.taDefaultWrap + ">" + a + "</" + w.taDefaultWrap + ">";
                        } else {
                            a = "";
                            for (e = 0; e < d.length; e++) {
                                var g = d[e];
                                var h = g.nodeName.toLowerCase();
                                if (h === "#comment") {
                                    a += "<!--" + g.nodeValue + "-->";
                                } else if (h === "#text") {
                                    var i = g.textContent;
                                    if (!i.trim()) {
                                        a += i;
                                    } else {
                                        a += "<" + w.taDefaultWrap + ">" + i + "</" + w.taDefaultWrap + ">";
                                    }
                                } else if (!h.match(c)) {
                                    var j = g.outerHTML || g.nodeValue;
                                    if (j.trim() !== "") a += "<" + w.taDefaultWrap + ">" + j + "</" + w.taDefaultWrap + ">"; else a += j;
                                } else {
                                    a += g.outerHTML;
                                }
                            }
                        }
                    }
                    return a;
                };
                if (w.taPaste) J = s(w.taPaste);
                v.addClass("ta-bind");
                var U;
                l["$undoManager" + (w.id || "")] = y.$undoManager = {
                    _stack: [],
                    _index: 0,
                    _max: 1e3,
                    push: function(a) {
                        if (typeof a === "undefined" || a === null || typeof this.current() !== "undefined" && this.current() !== null && a === this.current()) return a;
                        if (this._index < this._stack.length - 1) {
                            this._stack = this._stack.slice(0, this._index + 1);
                        }
                        this._stack.push(a);
                        if (U) f.cancel(U);
                        if (this._stack.length > this._max) this._stack.shift();
                        this._index = this._stack.length - 1;
                        return a;
                    },
                    undo: function() {
                        return this.setToIndex(this._index - 1);
                    },
                    redo: function() {
                        return this.setToIndex(this._index + 1);
                    },
                    setToIndex: function(a) {
                        if (a < 0 || a > this._stack.length - 1) {
                            return undefined;
                        }
                        this._index = a;
                        return this.current();
                    },
                    current: function() {
                        return this._stack[this._index];
                    }
                };
                var V;
                var W = l["$undoTaBind" + (w.id || "")] = function() {
                    if (!C && A) {
                        var a = y.$undoManager.undo();
                        if (typeof a !== "undefined" && a !== null) {
                            ja(a);
                            Z(a, false);
                            if (V) f.cancel(V);
                            V = f(function() {
                                v[0].focus();
                                m.setSelectionToElementEnd(v[0]);
                            }, 1);
                        }
                    }
                };
                var X = l["$redoTaBind" + (w.id || "")] = function() {
                    if (!C && A) {
                        var a = y.$undoManager.redo();
                        if (typeof a !== "undefined" && a !== null) {
                            ja(a);
                            Z(a, false);
                            if (V) f.cancel(V);
                            V = f(function() {
                                v[0].focus();
                                m.setSelectionToElementEnd(v[0]);
                            }, 1);
                        }
                    }
                };
                var Y = function() {
                    if (A) return v[0].innerHTML;
                    if (B) return v.val();
                    throw "textAngular Error: attempting to update non-editable taBind";
                };
                var Z = function(a, b, c) {
                    E = c || false;
                    if (typeof b === "undefined" || b === null) b = true && A;
                    if (typeof a === "undefined" || a === null) a = Y();
                    if (S(a)) {
                        if (y.$viewValue !== "") y.$setViewValue("");
                        if (b && y.$undoManager.current() !== "") y.$undoManager.push("");
                    } else {
                        ia();
                        if (y.$viewValue !== a) {
                            y.$setViewValue(a);
                            if (b) y.$undoManager.push(a);
                        }
                    }
                    y.$render();
                };
                l["updateTaBind" + (w.id || "")] = function() {
                    if (!C) Z(undefined, undefined, true);
                };
                var $ = function(a) {
                    return y.$oldViewValue = d(k(a), y.$oldViewValue, F);
                };
                if (v.attr("required")) y.$validators.required = function(a, b) {
                    return !S(a || b);
                };
                y.$parsers.push($);
                y.$parsers.unshift(T);
                y.$formatters.push($);
                y.$formatters.unshift(T);
                y.$formatters.unshift(function(a) {
                    return y.$undoManager.push(a || "");
                });
                if (B) {
                    l.events = {};
                    if (!A) {
                        v.on("change blur", l.events.change = l.events.blur = function() {
                            if (!C) y.$setViewValue(Y());
                        });
                        v.on("keydown", l.events.keydown = function(a, b) {
                            if (b) angular.extend(a, b);
                            if (a.keyCode === 9) {
                                var c = this.selectionStart;
                                var d = this.selectionEnd;
                                var e = v.val();
                                if (a.shiftKey) {
                                    var f = e.lastIndexOf("\n", c), g = e.lastIndexOf("	", c);
                                    if (g !== -1 && g >= f) {
                                        v.val(e.substring(0, g) + e.substring(g + 1));
                                        this.selectionStart = this.selectionEnd = c - 1;
                                    }
                                } else {
                                    v.val(e.substring(0, c) + "	" + e.substring(d));
                                    this.selectionStart = this.selectionEnd = c + 1;
                                }
                                a.preventDefault();
                            }
                        });
                        var _ = function(a, b) {
                            var c = "";
                            for (var d = 0; d < b; d++) c += a;
                            return c;
                        };
                        var aa = function(a, b, c) {
                            for (var d = 0; d < a.length; d++) {
                                b.call(c, d, a[d]);
                            }
                        };
                        var ba = function(a, b) {
                            var c = "";
                            var d = a.childNodes;
                            b++;
                            c += _("	", b - 1) + a.outerHTML.substring(0, 4);
                            aa(d, function(a, d) {
                                var e = d.nodeName.toLowerCase();
                                if (e === "#comment") {
                                    c += "<!--" + d.nodeValue + "-->";
                                    return;
                                }
                                if (e === "#text") {
                                    c += d.textContent;
                                    return;
                                }
                                if (!d.outerHTML) {
                                    return;
                                }
                                if (e === "ul" || e === "ol") {
                                    c += "\n" + ba(d, b);
                                } else {
                                    c += "\n" + _("	", b) + d.outerHTML;
                                }
                            });
                            c += "\n" + _("	", b - 1) + a.outerHTML.substring(a.outerHTML.lastIndexOf("<"));
                            return c;
                        };
                        y.$formatters.unshift(function(a) {
                            var b = angular.element("<div>" + a + "</div>")[0].childNodes;
                            if (b.length > 0) {
                                a = "";
                                aa(b, function(b, c) {
                                    var d = c.nodeName.toLowerCase();
                                    if (d === "#comment") {
                                        a += "<!--" + c.nodeValue + "-->";
                                        return;
                                    }
                                    if (d === "#text") {
                                        a += c.textContent;
                                        return;
                                    }
                                    if (!c.outerHTML) {
                                        return;
                                    }
                                    if (a.length > 0) {
                                        a += "\n";
                                    }
                                    if (d === "ul" || d === "ol") {
                                        a += "" + ba(c, 0);
                                    } else {
                                        a += "" + c.outerHTML;
                                    }
                                });
                            }
                            return a;
                        });
                    } else {
                        var ca = false;
                        var da = function(a) {
                            if (a && a.trim().length) {
                                if (a.match(/class=["']*Mso(Normal|List)/i)) {
                                    var b = a.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);
                                    if (!b) b = a; else b = b[1];
                                    b = b.replace(/<o:p>[\s\S]*?<\/o:p>/gi, "").replace(/class=(["']|)MsoNormal(["']|)/gi, "");
                                    var c = angular.element("<div>" + b + "</div>");
                                    var e = angular.element("<div></div>");
                                    var g = {
                                        element: null,
                                        lastIndent: [],
                                        lastLi: null,
                                        isUl: false
                                    };
                                    g.lastIndent.peek = function() {
                                        var a = this.length;
                                        if (a > 0) return this[a - 1];
                                    };
                                    var h = function(a) {
                                        g.isUl = a;
                                        g.element = angular.element(a ? "<ul>" : "<ol>");
                                        g.lastIndent = [];
                                        g.lastIndent.peek = function() {
                                            var a = this.length;
                                            if (a > 0) return this[a - 1];
                                        };
                                        g.lastLevelMatch = null;
                                    };
                                    for (var i = 0; i <= c[0].childNodes.length; i++) {
                                        if (!c[0].childNodes[i] || c[0].childNodes[i].nodeName === "#text" || c[0].childNodes[i].tagName.toLowerCase() !== "p") continue;
                                        var j = angular.element(c[0].childNodes[i]);
                                        var k = (j.attr("class") || "").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);
                                        if (k) {
                                            if (j[0].childNodes.length < 2 || j[0].childNodes[1].childNodes.length < 1) {
                                                continue;
                                            }
                                            var n = k[1].toLowerCase() === "bullet" || k[1].toLowerCase() !== "number" && !(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(j[0].childNodes[1].innerHTML) || /^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(j[0].childNodes[1].childNodes[0].innerHTML));
                                            var o = (j.attr("style") || "").match(/margin-left:([\-\.0-9]*)/i);
                                            var p = parseFloat(o ? o[1] : 0);
                                            var q = (j.attr("style") || "").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);
                                            if (q && q[2]) p = parseInt(q[2]);
                                            if (q && (!g.lastLevelMatch || q[1] !== g.lastLevelMatch[1]) || !k[3] || k[3].toLowerCase() === "first" || g.lastIndent.peek() === null || g.isUl !== n && g.lastIndent.peek() === p) {
                                                h(n);
                                                e.append(g.element);
                                            } else if (g.lastIndent.peek() != null && g.lastIndent.peek() < p) {
                                                g.element = angular.element(n ? "<ul>" : "<ol>");
                                                g.lastLi.append(g.element);
                                            } else if (g.lastIndent.peek() != null && g.lastIndent.peek() > p) {
                                                while (g.lastIndent.peek() != null && g.lastIndent.peek() > p) {
                                                    if (g.element.parent()[0].tagName.toLowerCase() === "li") {
                                                        g.element = g.element.parent();
                                                        continue;
                                                    } else if (/[uo]l/i.test(g.element.parent()[0].tagName.toLowerCase())) {
                                                        g.element = g.element.parent();
                                                    } else {
                                                        break;
                                                    }
                                                    g.lastIndent.pop();
                                                }
                                                g.isUl = g.element[0].tagName.toLowerCase() === "ul";
                                                if (n !== g.isUl) {
                                                    h(n);
                                                    e.append(g.element);
                                                }
                                            }
                                            g.lastLevelMatch = q;
                                            if (p !== g.lastIndent.peek()) g.lastIndent.push(p);
                                            g.lastLi = angular.element("<li>");
                                            g.element.append(g.lastLi);
                                            g.lastLi.html(j.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi, ""));
                                            j.remove();
                                        } else {
                                            h(false);
                                            e.append(j);
                                        }
                                    }
                                    var r = function(a) {
                                        a = angular.element(a);
                                        for (var b = a[0].childNodes.length - 1; b >= 0; b--) a.after(a[0].childNodes[b]);
                                        a.remove();
                                    };
                                    angular.forEach(e.find("span"), function(a) {
                                        a.removeAttribute("lang");
                                        if (a.attributes.length <= 0) r(a);
                                    });
                                    angular.forEach(e.find("font"), r);
                                    a = e.html();
                                } else {
                                    a = a.replace(/<(|\/)meta[^>]*?>/gi, "");
                                    if (a.match(/<[^>]*?(ta-bind)[^>]*?>/)) {
                                        if (a.match(/<[^>]*?(text-angular)[^>]*?>/)) {
                                            var s = angular.element("<div>" + a + "</div>");
                                            s.find("textarea").remove();
                                            var u = t.getByAttribute(s, "ta-bind");
                                            for (var w = 0; w < u.length; w++) {
                                                var x = u[w][0].parentNode.parentNode;
                                                for (var z = 0; z < u[w][0].childNodes.length; z++) {
                                                    x.parentNode.insertBefore(u[w][0].childNodes[z], x);
                                                }
                                                x.parentNode.removeChild(x);
                                            }
                                            a = s.html().replace('<br class="Apple-interchange-newline">', "");
                                        }
                                    } else if (a.match(/^<span/)) {
                                        if (!a.match(/<span class=(\"Apple-converted-space\"|\'Apple-converted-space\')>.<\/span>/gi)) {
                                            a = a.replace(/<(|\/)span[^>]*?>/gi, "");
                                        }
                                    }
                                    a = a.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi, "").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi, "&nbsp;");
                                }
                                if (/<li(\s.*)?>/i.test(a) && /(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(a) === false) {
                                    a = a.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i, "<ul>$&</ul>");
                                }
                                a = a.replace(/^[ |\u00A0]+/gm, function(a) {
                                    var b = "";
                                    for (var c = 0; c < a.length; c++) {
                                        b += "&nbsp;";
                                    }
                                    return b;
                                }).replace(/\n|\r\n|\r/g, "<br />").replace(/\t/g, "&nbsp;&nbsp;&nbsp;&nbsp;");
                                if (J) a = J(l, {
                                    $html: a
                                }) || a;
                                a = d(a, "", F);
                                m.insertHtml(a, v[0]);
                                f(function() {
                                    y.$setViewValue(Y());
                                    ca = false;
                                    v.removeClass("processing-paste");
                                }, 0);
                            } else {
                                ca = false;
                                v.removeClass("processing-paste");
                            }
                        };
                        v.on("paste", l.events.paste = function(a, b) {
                            if (b) angular.extend(a, b);
                            if (C || ca) {
                                a.stopPropagation();
                                a.preventDefault();
                                return false;
                            }
                            ca = true;
                            v.addClass("processing-paste");
                            var c;
                            var d = (a.originalEvent || a).clipboardData;
                            if (d && d.getData && d.types.length > 0) {
                                var e = "";
                                for (var g = 0; g < d.types.length; g++) {
                                    e += " " + d.types[g];
                                }
                                if (/text\/html/i.test(e)) {
                                    c = d.getData("text/html");
                                } else if (/text\/plain/i.test(e)) {
                                    c = d.getData("text/plain");
                                }
                                da(c);
                                a.stopPropagation();
                                a.preventDefault();
                                return false;
                            } else {
                                var h = i.rangy.saveSelection(), k = angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');
                                j.find("body").append(k);
                                k[0].focus();
                                f(function() {
                                    i.rangy.restoreSelection(h);
                                    da(k[0].innerHTML);
                                    v[0].focus();
                                    k.remove();
                                }, 0);
                            }
                        });
                        v.on("cut", l.events.cut = function(a) {
                            if (!C) f(function() {
                                y.$setViewValue(Y());
                            }, 0); else a.preventDefault();
                        });
                        v.on("keydown", l.events.keydown = function(a, b) {
                            if (b) angular.extend(a, b);
                            a.specialKey = R(a);
                            var c;
                            q.keyMappings.forEach(function(b) {
                                if (a.specialKey === b.commandKeyCode) {
                                    a.specialKey = undefined;
                                }
                                if (b.testForKey(a)) {
                                    c = b.commandKeyCode;
                                }
                                if (b.commandKeyCode === "UndoKey" || b.commandKeyCode === "RedoKey") {
                                    if (!b.enablePropagation) {
                                        a.preventDefault();
                                    }
                                }
                            });
                            if (typeof c !== "undefined") {
                                a.specialKey = c;
                            }
                            if (typeof a.specialKey !== "undefined" && (a.specialKey !== "UndoKey" || a.specialKey !== "RedoKey")) {
                                a.preventDefault();
                                u.sendKeyCommand(l, a);
                            }
                            if (!C) {
                                if (a.specialKey === "UndoKey") {
                                    W();
                                    a.preventDefault();
                                }
                                if (a.specialKey === "RedoKey") {
                                    X();
                                    a.preventDefault();
                                }
                                if (a.keyCode === 13 && !a.shiftKey) {
                                    var d;
                                    var f = m.getSelectionElement();
                                    if (!f.tagName.match(e)) return;
                                    var g = angular.element(K);
                                    if (/^<br(|\/)>$/i.test(f.innerHTML.trim()) && f.parentNode.tagName.toLowerCase() === "blockquote" && !f.nextSibling) {
                                        d = angular.element(f);
                                        var h = d.parent();
                                        h.after(g);
                                        d.remove();
                                        if (h.children().length === 0) h.remove();
                                        m.setSelectionToElementStart(g[0]);
                                        a.preventDefault();
                                    } else if (/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(f.innerHTML.trim()) && f.tagName.toLowerCase() === "blockquote") {
                                        d = angular.element(f);
                                        d.after(g);
                                        d.remove();
                                        m.setSelectionToElementStart(g[0]);
                                        a.preventDefault();
                                    }
                                }
                            }
                        });
                        var ea;
                        v.on("keyup", l.events.keyup = function(a, b) {
                            if (b) angular.extend(a, b);
                            if (a.keyCode === 9) {
                                var c = m.getSelection();
                                if (c.start.element === v[0] && v.children().length) m.setSelectionToElementStart(v.children()[0]);
                                return;
                            }
                            if (U) f.cancel(U);
                            if (!C && !H.test(a.keyCode)) {
                                if (K !== "" && a.keyCode === 13) {
                                    if (!a.shiftKey) {
                                        var d = m.getSelectionElement();
                                        while (!d.tagName.match(e) && d !== v[0]) {
                                            d = d.parentNode;
                                        }
                                        if (d.tagName.toLowerCase() !== w.taDefaultWrap && d.tagName.toLowerCase() !== "li" && (d.innerHTML.trim() === "" || d.innerHTML.trim() === "<br>")) {
                                            var g = angular.element(K);
                                            angular.element(d).replaceWith(g);
                                            m.setSelectionToElementStart(g[0]);
                                        }
                                    }
                                }
                                var h = Y();
                                if (K !== "" && h.trim() === "") {
                                    ja(K);
                                    m.setSelectionToElementStart(v.children()[0]);
                                } else if (h.substring(0, 1) !== "<" && w.taDefaultWrap !== "") {}
                                var i = G !== a.keyCode && I.test(a.keyCode);
                                if (ea) f.cancel(ea);
                                ea = f(function() {
                                    Z(h, i, true);
                                }, z.$options.debounce || 400);
                                if (!i) U = f(function() {
                                    y.$undoManager.push(h);
                                }, 250);
                                G = a.keyCode;
                            }
                        });
                        v.on("blur", l.events.blur = function() {
                            D = false;
                            if (!C) {
                                Z(undefined, undefined, true);
                            } else {
                                E = true;
                                y.$render();
                            }
                        });
                        if (w.placeholder && (a.ie > 8 || a.ie === undefined)) {
                            var fa;
                            if (w.id) fa = g("#" + w.id + ".placeholder-text:before", 'content: "' + w.placeholder + '"'); else throw "textAngular Error: An unique ID is required for placeholders to work";
                            l.$on("$destroy", function() {
                                h(fa);
                            });
                        }
                        v.on("focus", l.events.focus = function() {
                            D = true;
                            v.removeClass("placeholder-text");
                            ia();
                        });
                        v.on("mouseup", l.events.mouseup = function() {
                            var a = m.getSelection();
                            if (a.start.element === v[0] && v.children().length) m.setSelectionToElementStart(v.children()[0]);
                        });
                        v.on("mousedown", l.events.mousedown = function(a, b) {
                            if (b) angular.extend(a, b);
                            a.stopPropagation();
                        });
                    }
                }
                var ga = function(a) {
                    l.$emit("ta-element-select", this);
                    a.preventDefault();
                    return false;
                };
                var ha = function(a, b) {
                    if (b) angular.extend(a, b);
                    if (!n && !C) {
                        n = true;
                        var c;
                        if (a.originalEvent) c = a.originalEvent.dataTransfer; else c = a.dataTransfer;
                        l.$emit("ta-drop-event", this, a, c);
                        f(function() {
                            n = false;
                            Z(undefined, undefined, true);
                        }, 100);
                    }
                };
                var ia = l["reApplyOnSelectorHandlers" + (w.id || "")] = function() {
                    if (!C) angular.forEach(o, function(a) {
                        v.find(a).off("click", ga).on("click", ga);
                    });
                };
                var ja = function(a) {
                    v[0].innerHTML = a;
                };
                var ka;
                var la = false;
                y.$render = function() {
                    if (la) return; else la = true;
                    var a = y.$viewValue || "";
                    if (!E) {
                        if (A && D) {
                            v.removeClass("placeholder-text");
                            if (ka) f.cancel(ka);
                            ka = f(function() {
                                if (!D) {
                                    v[0].focus();
                                    m.setSelectionToElementEnd(v.children()[v.children().length - 1]);
                                }
                                ka = undefined;
                            }, 1);
                        }
                        if (A) {
                            if (w.placeholder) {
                                if (a === "") {
                                    ja(K);
                                } else {
                                    ja(a);
                                }
                            } else {
                                ja(a === "" ? K : a);
                            }
                            if (!C) {
                                ia();
                                v.on("drop", ha);
                            } else {
                                v.off("drop", ha);
                            }
                        } else if (v[0].tagName.toLowerCase() !== "textarea" && v[0].tagName.toLowerCase() !== "input") {
                            ja(p(a));
                        } else {
                            v.val(a);
                        }
                    }
                    if (A && w.placeholder) {
                        if (a === "") {
                            if (D) v.removeClass("placeholder-text"); else v.addClass("placeholder-text");
                        } else {
                            v.removeClass("placeholder-text");
                        }
                    }
                    la = E = false;
                };
                if (w.taReadonly) {
                    C = l.$eval(w.taReadonly);
                    if (C) {
                        v.addClass("ta-readonly");
                        if (v[0].tagName.toLowerCase() === "textarea" || v[0].tagName.toLowerCase() === "input") {
                            v.attr("disabled", "disabled");
                        }
                        if (v.attr("contenteditable") !== undefined && v.attr("contenteditable")) {
                            v.removeAttr("contenteditable");
                        }
                    } else {
                        v.removeClass("ta-readonly");
                        if (v[0].tagName.toLowerCase() === "textarea" || v[0].tagName.toLowerCase() === "input") {
                            v.removeAttr("disabled");
                        } else if (A) {
                            v.attr("contenteditable", "true");
                        }
                    }
                    l.$watch(w.taReadonly, function(a, b) {
                        if (b === a) return;
                        if (a) {
                            v.addClass("ta-readonly");
                            if (v[0].tagName.toLowerCase() === "textarea" || v[0].tagName.toLowerCase() === "input") {
                                v.attr("disabled", "disabled");
                            }
                            if (v.attr("contenteditable") !== undefined && v.attr("contenteditable")) {
                                v.removeAttr("contenteditable");
                            }
                            angular.forEach(o, function(a) {
                                v.find(a).on("click", ga);
                            });
                            v.off("drop", ha);
                        } else {
                            v.removeClass("ta-readonly");
                            if (v[0].tagName.toLowerCase() === "textarea" || v[0].tagName.toLowerCase() === "input") {
                                v.removeAttr("disabled");
                            } else if (A) {
                                v.attr("contenteditable", "true");
                            }
                            angular.forEach(o, function(a) {
                                v.find(a).off("click", ga);
                            });
                            v.on("drop", ha);
                        }
                        C = a;
                    });
                }
                if (A && !C) {
                    angular.forEach(o, function(a) {
                        v.find(a).on("click", ga);
                    });
                    v.on("drop", ha);
                    v.on("blur", function() {
                        if (a.webkit) {
                            b = true;
                        }
                    });
                }
            }
        };
    } ]);
    var n = false;
    var o = angular.module("textAngular", [ "ngSanitize", "textAngularSetup", "textAngular.factories", "textAngular.DOM", "textAngular.validators", "textAngular.taBind" ]);
    o.config([ function() {
        angular.forEach(taTools, function(a, b) {
            delete taTools[b];
        });
    } ]);
    o.run([ function() {
        if (typeof define === "function" && define.amd) {
            define(function(a) {
                window.rangy = a("rangy");
                window.rangy.saveSelection = a("rangy/lib/rangy-selectionsaverestore");
            });
        } else if (typeof require === "function" && typeof module !== "undefined" && typeof exports === "object") {
            window.rangy = require("rangy");
            window.rangy.saveSelection = require("rangy/lib/rangy-selectionsaverestore");
        } else {
            if (!window.rangy) {
                throw "rangy-core.js and rangy-selectionsaverestore.js are required for textAngular to work correctly, rangy-core is not yet loaded.";
            } else {
                window.rangy.init();
                if (!window.rangy.saveSelection) {
                    throw "rangy-selectionsaverestore.js is required for textAngular to work correctly.";
                }
            }
        }
    } ]);
    o.directive("textAngular", [ "$compile", "$timeout", "taOptions", "taSelection", "taExecCommand", "textAngularManager", "$window", "$document", "$animate", "$log", "$q", "$parse", function(a, b, c, d, e, f, g, h, i, j, k, l) {
        return {
            require: "?ngModel",
            scope: {},
            restrict: "EA",
            priority: 2,
            link: function(m, n, o, p) {
                var q, r, s, t, u, v, w, x, y = o.serial ? o.serial : Math.floor(Math.random() * 1e16), z, A, B;
                m._name = o.name ? o.name : "textAngularEditor" + y;
                var C = function(a, c, d) {
                    b(function() {
                        var b = function() {
                            a.off(c, b);
                            d.apply(this, arguments);
                        };
                        a.on(c, b);
                    }, 100);
                };
                z = e(o.taDefaultWrap);
                angular.extend(m, angular.copy(c), {
                    wrapSelection: function(a, b, c) {
                        if (a.toLowerCase() === "undo") {
                            m["$undoTaBindtaTextElement" + y]();
                        } else if (a.toLowerCase() === "redo") {
                            m["$redoTaBindtaTextElement" + y]();
                        } else {
                            z(a, false, b, m.defaultTagAttributes);
                            if (c) {
                                m["reApplyOnSelectorHandlerstaTextElement" + y]();
                            }
                            m.displayElements.text[0].focus();
                        }
                    },
                    showHtml: m.$eval(o.taShowHtml) || false
                });
                if (o.taFocussedClass) m.classes.focussed = o.taFocussedClass;
                if (o.taTextEditorClass) m.classes.textEditor = o.taTextEditorClass;
                if (o.taHtmlEditorClass) m.classes.htmlEditor = o.taHtmlEditorClass;
                if (o.taDefaultTagAttributes) {
                    try {
                        angular.extend(m.defaultTagAttributes, angular.fromJson(o.taDefaultTagAttributes));
                    } catch (D) {
                        j.error(D);
                    }
                }
                if (o.taTextEditorSetup) m.setup.textEditorSetup = m.$parent.$eval(o.taTextEditorSetup);
                if (o.taHtmlEditorSetup) m.setup.htmlEditorSetup = m.$parent.$eval(o.taHtmlEditorSetup);
                if (o.taFileDrop) m.fileDropHandler = m.$parent.$eval(o.taFileDrop); else m.fileDropHandler = m.defaultFileDropHandler;
                w = n[0].innerHTML;
                n[0].innerHTML = "";
                m.displayElements = {
                    forminput: angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),
                    html: angular.element("<textarea></textarea>"),
                    text: angular.element("<div></div>"),
                    scrollWindow: angular.element("<div class='ta-scroll-window'></div>"),
                    popover: angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),
                    popoverArrow: angular.element('<div class="arrow"></div>'),
                    popoverContainer: angular.element('<div class="popover-content"></div>'),
                    resize: {
                        overlay: angular.element('<div class="ta-resizer-handle-overlay"></div>'),
                        background: angular.element('<div class="ta-resizer-handle-background"></div>'),
                        anchors: [ angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'), angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'), angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'), angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>') ],
                        info: angular.element('<div class="ta-resizer-handle-info"></div>')
                    }
                };
                m.displayElements.popover.append(m.displayElements.popoverArrow);
                m.displayElements.popover.append(m.displayElements.popoverContainer);
                m.displayElements.scrollWindow.append(m.displayElements.popover);
                m.displayElements.popover.on("mousedown", function(a, b) {
                    if (b) angular.extend(a, b);
                    a.preventDefault();
                    return false;
                });
                m.showPopover = function(a) {
                    m.displayElements.popover.css("display", "block");
                    m.reflowPopover(a);
                    i.addClass(m.displayElements.popover, "in");
                    C(h.find("body"), "click keyup", function() {
                        m.hidePopover();
                    });
                };
                m.reflowPopover = function(a) {
                    if (m.displayElements.text[0].offsetHeight - 51 > a[0].offsetTop) {
                        m.displayElements.popover.css("top", a[0].offsetTop + a[0].offsetHeight + m.displayElements.scrollWindow[0].scrollTop + "px");
                        m.displayElements.popover.removeClass("top").addClass("bottom");
                    } else {
                        m.displayElements.popover.css("top", a[0].offsetTop - 54 + m.displayElements.scrollWindow[0].scrollTop + "px");
                        m.displayElements.popover.removeClass("bottom").addClass("top");
                    }
                    var b = m.displayElements.text[0].offsetWidth - m.displayElements.popover[0].offsetWidth;
                    var c = a[0].offsetLeft + a[0].offsetWidth / 2 - m.displayElements.popover[0].offsetWidth / 2;
                    m.displayElements.popover.css("left", Math.max(0, Math.min(b, c)) + "px");
                    m.displayElements.popoverArrow.css("margin-left", Math.min(c, Math.max(0, c - b)) - 11 + "px");
                };
                m.hidePopover = function() {
                    m.displayElements.popover.css("display", "");
                    m.displayElements.popoverContainer.attr("style", "");
                    m.displayElements.popoverContainer.attr("class", "popover-content");
                    m.displayElements.popover.removeClass("in");
                };
                m.displayElements.resize.overlay.append(m.displayElements.resize.background);
                angular.forEach(m.displayElements.resize.anchors, function(a) {
                    m.displayElements.resize.overlay.append(a);
                });
                m.displayElements.resize.overlay.append(m.displayElements.resize.info);
                m.displayElements.scrollWindow.append(m.displayElements.resize.overlay);
                m.reflowResizeOverlay = function(a) {
                    a = angular.element(a)[0];
                    m.displayElements.resize.overlay.css({
                        display: "block",
                        left: a.offsetLeft - 5 + "px",
                        top: a.offsetTop - 5 + "px",
                        width: a.offsetWidth + 10 + "px",
                        height: a.offsetHeight + 10 + "px"
                    });
                    m.displayElements.resize.info.text(a.offsetWidth + " x " + a.offsetHeight);
                };
                m.showResizeOverlay = function(a) {
                    var b = h.find("body");
                    A = function(c) {
                        var d = {
                            width: parseInt(a.attr("width")),
                            height: parseInt(a.attr("height")),
                            x: c.clientX,
                            y: c.clientY
                        };
                        if (d.width === undefined || isNaN(d.width)) d.width = a[0].offsetWidth;
                        if (d.height === undefined || isNaN(d.height)) d.height = a[0].offsetHeight;
                        m.hidePopover();
                        var e = d.height / d.width;
                        var f = function(b) {
                            var c = {
                                x: Math.max(0, d.width + (b.clientX - d.x)),
                                y: Math.max(0, d.height + (b.clientY - d.y))
                            };
                            var f = o.taResizeForceAspectRatio !== undefined;
                            var g = o.taResizeMaintainAspectRatio;
                            var h = f || g && !b.shiftKey;
                            if (h) {
                                var i = c.y / c.x;
                                c.x = e > i ? c.x : c.y / e;
                                c.y = e > i ? c.x * e : c.y;
                            }
                            var j = angular.element(a);
                            function k(a) {
                                return Math.round(Math.max(0, a));
                            }
                            j.css("height", k(c.y) + "px");
                            j.css("width", k(c.x) + "px");
                            m.reflowResizeOverlay(a);
                        };
                        b.on("mousemove", f);
                        C(b, "mouseup", function(c) {
                            c.preventDefault();
                            c.stopPropagation();
                            b.off("mousemove", f);
                            m.showPopover(a);
                        });
                        c.stopPropagation();
                        c.preventDefault();
                    };
                    m.displayElements.resize.anchors[3].off("mousedown");
                    m.displayElements.resize.anchors[3].on("mousedown", A);
                    m.reflowResizeOverlay(a);
                    C(b, "click", function() {
                        m.hideResizeOverlay();
                    });
                };
                m.hideResizeOverlay = function() {
                    m.displayElements.resize.anchors[3].off("mousedown", A);
                    m.displayElements.resize.overlay.css("display", "");
                };
                m.setup.htmlEditorSetup(m.displayElements.html);
                m.setup.textEditorSetup(m.displayElements.text);
                m.displayElements.html.attr({
                    id: "taHtmlElement" + y,
                    "ng-show": "showHtml",
                    "ta-bind": "ta-bind",
                    "ng-model": "html",
                    "ng-model-options": n.attr("ng-model-options")
                });
                m.displayElements.text.attr({
                    id: "taTextElement" + y,
                    contentEditable: "true",
                    "ta-bind": "ta-bind",
                    "ng-model": "html",
                    "ng-model-options": n.attr("ng-model-options")
                });
                m.displayElements.scrollWindow.attr({
                    "ng-hide": "showHtml"
                });
                if (o.taDefaultWrap) m.displayElements.text.attr("ta-default-wrap", o.taDefaultWrap);
                if (o.taUnsafeSanitizer) {
                    m.displayElements.text.attr("ta-unsafe-sanitizer", o.taUnsafeSanitizer);
                    m.displayElements.html.attr("ta-unsafe-sanitizer", o.taUnsafeSanitizer);
                }
                m.displayElements.scrollWindow.append(m.displayElements.text);
                n.append(m.displayElements.scrollWindow);
                n.append(m.displayElements.html);
                m.displayElements.forminput.attr("name", m._name);
                n.append(m.displayElements.forminput);
                if (o.tabindex) {
                    n.removeAttr("tabindex");
                    m.displayElements.text.attr("tabindex", o.tabindex);
                    m.displayElements.html.attr("tabindex", o.tabindex);
                }
                if (o.placeholder) {
                    m.displayElements.text.attr("placeholder", o.placeholder);
                    m.displayElements.html.attr("placeholder", o.placeholder);
                }
                if (o.taDisabled) {
                    m.displayElements.text.attr("ta-readonly", "disabled");
                    m.displayElements.html.attr("ta-readonly", "disabled");
                    m.disabled = m.$parent.$eval(o.taDisabled);
                    m.$parent.$watch(o.taDisabled, function(a) {
                        m.disabled = a;
                        if (m.disabled) {
                            n.addClass(m.classes.disabled);
                        } else {
                            n.removeClass(m.classes.disabled);
                        }
                    });
                }
                if (o.taPaste) {
                    m._pasteHandler = function(a) {
                        return l(o.taPaste)(m.$parent, {
                            $html: a
                        });
                    };
                    m.displayElements.text.attr("ta-paste", "_pasteHandler($html)");
                }
                a(m.displayElements.scrollWindow)(m);
                a(m.displayElements.html)(m);
                m.updateTaBindtaTextElement = m["updateTaBindtaTextElement" + y];
                m.updateTaBindtaHtmlElement = m["updateTaBindtaHtmlElement" + y];
                n.addClass("ta-root");
                m.displayElements.scrollWindow.addClass("ta-text ta-editor " + m.classes.textEditor);
                m.displayElements.html.addClass("ta-html ta-editor " + m.classes.htmlEditor);
                m._actionRunning = false;
                var E = false;
                m.startAction = function() {
                    m._actionRunning = true;
                    E = g.rangy.saveSelection();
                    return function() {
                        if (E) g.rangy.restoreSelection(E);
                    };
                };
                m.endAction = function() {
                    m._actionRunning = false;
                    if (E) {
                        if (m.showHtml) {
                            m.displayElements.html[0].focus();
                        } else {
                            m.displayElements.text[0].focus();
                        }
                        g.rangy.removeMarkers(E);
                    }
                    E = false;
                    m.updateSelectedStyles();
                    if (!m.showHtml) m["updateTaBindtaTextElement" + y]();
                };
                u = function() {
                    m.focussed = true;
                    n.addClass(m.classes.focussed);
                    x.focus();
                    n.triggerHandler("focus");
                };
                m.displayElements.html.on("focus", u);
                m.displayElements.text.on("focus", u);
                v = function(a) {
                    if (!m._actionRunning && h[0].activeElement !== m.displayElements.html[0] && h[0].activeElement !== m.displayElements.text[0]) {
                        n.removeClass(m.classes.focussed);
                        x.unfocus();
                        b(function() {
                            m._bUpdateSelectedStyles = false;
                            n.triggerHandler("blur");
                            m.focussed = false;
                        }, 0);
                    }
                    a.preventDefault();
                    return false;
                };
                m.displayElements.html.on("blur", v);
                m.displayElements.text.on("blur", v);
                m.displayElements.text.on("paste", function(a) {
                    n.triggerHandler("paste", a);
                });
                m.queryFormatBlockState = function(a) {
                    return !m.showHtml && a.toLowerCase() === h[0].queryCommandValue("formatBlock").toLowerCase();
                };
                m.queryCommandState = function(a) {
                    return !m.showHtml ? h[0].queryCommandState(a) : "";
                };
                m.switchView = function() {
                    m.showHtml = !m.showHtml;
                    i.enabled(false, m.displayElements.html);
                    i.enabled(false, m.displayElements.text);
                    if (m.showHtml) {
                        b(function() {
                            i.enabled(true, m.displayElements.html);
                            i.enabled(true, m.displayElements.text);
                            return m.displayElements.html[0].focus();
                        }, 100);
                    } else {
                        b(function() {
                            i.enabled(true, m.displayElements.html);
                            i.enabled(true, m.displayElements.text);
                            return m.displayElements.text[0].focus();
                        }, 100);
                    }
                };
                if (o.ngModel) {
                    var F = true;
                    p.$render = function() {
                        if (F) {
                            F = false;
                            var a = m.$parent.$eval(o.ngModel);
                            if ((a === undefined || a === null) && (w && w !== "")) {
                                p.$setViewValue(w);
                            }
                        }
                        m.displayElements.forminput.val(p.$viewValue);
                        m.html = p.$viewValue || "";
                    };
                    if (n.attr("required")) p.$validators.required = function(a, b) {
                        var c = a || b;
                        return !(!c || c.trim() === "");
                    };
                } else {
                    m.displayElements.forminput.val(w);
                    m.html = w;
                }
                m.$watch("html", function(a, b) {
                    if (a !== b) {
                        if (o.ngModel && p.$viewValue !== a) p.$setViewValue(a);
                        m.displayElements.forminput.val(a);
                    }
                });
                if (o.taTargetToolbars) x = f.registerEditor(m._name, m, o.taTargetToolbars.split(",")); else {
                    var G = angular.element('<div text-angular-toolbar name="textAngularToolbar' + y + '">');
                    if (o.taToolbar) G.attr("ta-toolbar", o.taToolbar);
                    if (o.taToolbarClass) G.attr("ta-toolbar-class", o.taToolbarClass);
                    if (o.taToolbarGroupClass) G.attr("ta-toolbar-group-class", o.taToolbarGroupClass);
                    if (o.taToolbarButtonClass) G.attr("ta-toolbar-button-class", o.taToolbarButtonClass);
                    if (o.taToolbarActiveButtonClass) G.attr("ta-toolbar-active-button-class", o.taToolbarActiveButtonClass);
                    if (o.taFocussedClass) G.attr("ta-focussed-class", o.taFocussedClass);
                    n.prepend(G);
                    a(G)(m.$parent);
                    x = f.registerEditor(m._name, m, [ "textAngularToolbar" + y ]);
                }
                m.$on("$destroy", function() {
                    f.unregisterEditor(m._name);
                    angular.element(window).off("blur");
                });
                m.$on("ta-element-select", function(a, b) {
                    if (x.triggerElementSelect(a, b)) {
                        m["reApplyOnSelectorHandlerstaTextElement" + y]();
                    }
                });
                m.$on("ta-drop-event", function(a, c, d, e) {
                    m.displayElements.text[0].focus();
                    if (e && e.files && e.files.length > 0) {
                        angular.forEach(e.files, function(a) {
                            try {
                                k.when(m.fileDropHandler(a, m.wrapSelection) || m.fileDropHandler !== m.defaultFileDropHandler && k.when(m.defaultFileDropHandler(a, m.wrapSelection))).then(function() {
                                    m["updateTaBindtaTextElement" + y]();
                                });
                            } catch (b) {
                                j.error(b);
                            }
                        });
                        d.preventDefault();
                        d.stopPropagation();
                    } else {
                        b(function() {
                            m["updateTaBindtaTextElement" + y]();
                        }, 0);
                    }
                });
                m._bUpdateSelectedStyles = false;
                angular.element(window).on("blur", function() {
                    m._bUpdateSelectedStyles = false;
                    m.focussed = false;
                });
                m.updateSelectedStyles = function() {
                    var a;
                    if (B) b.cancel(B);
                    if ((a = d.getSelectionElement()) !== undefined && a.parentNode !== m.displayElements.text[0]) {
                        x.updateSelectedStyles(angular.element(a));
                    } else x.updateSelectedStyles();
                    if (m._bUpdateSelectedStyles) B = b(m.updateSelectedStyles, 200);
                };
                q = function() {
                    if (!m.focussed) {
                        m._bUpdateSelectedStyles = false;
                        return;
                    }
                    if (!m._bUpdateSelectedStyles) {
                        m._bUpdateSelectedStyles = true;
                        m.$apply(function() {
                            m.updateSelectedStyles();
                        });
                    }
                };
                m.displayElements.html.on("keydown", q);
                m.displayElements.text.on("keydown", q);
                r = function() {
                    m._bUpdateSelectedStyles = false;
                };
                m.displayElements.html.on("keyup", r);
                m.displayElements.text.on("keyup", r);
                s = function(a, b) {
                    if (b) angular.extend(a, b);
                    m.$apply(function() {
                        if (x.sendKeyCommand(a)) {
                            if (!m._bUpdateSelectedStyles) {
                                m.updateSelectedStyles();
                            }
                            a.preventDefault();
                            return false;
                        }
                    });
                };
                m.displayElements.html.on("keypress", s);
                m.displayElements.text.on("keypress", s);
                t = function() {
                    m._bUpdateSelectedStyles = false;
                    m.$apply(function() {
                        m.updateSelectedStyles();
                    });
                };
                m.displayElements.html.on("mouseup", t);
                m.displayElements.text.on("mouseup", t);
            }
        };
    } ]);
    o.service("textAngularManager", [ "taToolExecuteAction", "taTools", "taRegisterTool", function(a, b, c) {
        var d = {}, e = {};
        return {
            registerEditor: function(c, f, g) {
                if (!c || c === "") throw "textAngular Error: An editor requires a name";
                if (!f) throw "textAngular Error: An editor requires a scope";
                if (e[c]) throw 'textAngular Error: An Editor with name "' + c + '" already exists';
                var h = [];
                angular.forEach(g, function(a) {
                    if (d[a]) h.push(d[a]);
                });
                e[c] = {
                    scope: f,
                    toolbars: g,
                    _registerToolbar: function(a) {
                        if (this.toolbars.indexOf(a.name) >= 0) h.push(a);
                    },
                    editorFunctions: {
                        disable: function() {
                            angular.forEach(h, function(a) {
                                a.disabled = true;
                            });
                        },
                        enable: function() {
                            angular.forEach(h, function(a) {
                                a.disabled = false;
                            });
                        },
                        focus: function() {
                            angular.forEach(h, function(a) {
                                a._parent = f;
                                a.disabled = false;
                                a.focussed = true;
                                f.focussed = true;
                            });
                        },
                        unfocus: function() {
                            angular.forEach(h, function(a) {
                                a.disabled = true;
                                a.focussed = false;
                            });
                            f.focussed = false;
                        },
                        updateSelectedStyles: function(a) {
                            angular.forEach(h, function(b) {
                                angular.forEach(b.tools, function(c) {
                                    if (c.activeState) {
                                        b._parent = f;
                                        c.active = c.activeState(a);
                                    }
                                });
                            });
                        },
                        sendKeyCommand: function(c) {
                            var d = false;
                            if (c.ctrlKey || c.metaKey || c.specialKey) angular.forEach(b, function(b, e) {
                                if (b.commandKeyCode && (b.commandKeyCode === c.which || b.commandKeyCode === c.specialKey)) {
                                    for (var g = 0; g < h.length; g++) {
                                        if (h[g].tools[e] !== undefined) {
                                            a.call(h[g].tools[e], f);
                                            d = true;
                                            break;
                                        }
                                    }
                                }
                            });
                            return d;
                        },
                        triggerElementSelect: function(a, c) {
                            var d = function(a, b) {
                                var c = true;
                                for (var d = 0; d < b.length; d++) c = c && a.attr(b[d]);
                                return c;
                            };
                            var e = [];
                            var g = {};
                            var i = false;
                            c = angular.element(c);
                            var j = false;
                            angular.forEach(b, function(a, b) {
                                if (a.onElementSelect && a.onElementSelect.element && a.onElementSelect.element.toLowerCase() === c[0].tagName.toLowerCase() && (!a.onElementSelect.filter || a.onElementSelect.filter(c))) {
                                    j = j || angular.isArray(a.onElementSelect.onlyWithAttrs) && d(c, a.onElementSelect.onlyWithAttrs);
                                    if (!a.onElementSelect.onlyWithAttrs || d(c, a.onElementSelect.onlyWithAttrs)) g[b] = a;
                                }
                            });
                            if (j) {
                                angular.forEach(g, function(a, b) {
                                    if (a.onElementSelect.onlyWithAttrs && d(c, a.onElementSelect.onlyWithAttrs)) e.push({
                                        name: b,
                                        tool: a
                                    });
                                });
                                e.sort(function(a, b) {
                                    return b.tool.onElementSelect.onlyWithAttrs.length - a.tool.onElementSelect.onlyWithAttrs.length;
                                });
                            } else {
                                angular.forEach(g, function(a, b) {
                                    e.push({
                                        name: b,
                                        tool: a
                                    });
                                });
                            }
                            if (e.length > 0) {
                                for (var k = 0; k < e.length; k++) {
                                    var l = e[k].tool;
                                    var m = e[k].name;
                                    for (var n = 0; n < h.length; n++) {
                                        if (h[n].tools[m] !== undefined) {
                                            l.onElementSelect.action.call(h[n].tools[m], a, c, f);
                                            i = true;
                                            break;
                                        }
                                    }
                                    if (i) break;
                                }
                            }
                            return i;
                        }
                    }
                };
                return e[c].editorFunctions;
            },
            retrieveEditor: function(a) {
                return e[a];
            },
            unregisterEditor: function(a) {
                delete e[a];
            },
            registerToolbar: function(a) {
                if (!a) throw "textAngular Error: A toolbar requires a scope";
                if (!a.name || a.name === "") throw "textAngular Error: A toolbar requires a name";
                if (d[a.name]) throw 'textAngular Error: A toolbar with name "' + a.name + '" already exists';
                d[a.name] = a;
                angular.forEach(e, function(b) {
                    b._registerToolbar(a);
                });
            },
            retrieveToolbar: function(a) {
                return d[a];
            },
            retrieveToolbarsViaEditor: function(a) {
                var b = [], c = this;
                angular.forEach(this.retrieveEditor(a).toolbars, function(a) {
                    b.push(c.retrieveToolbar(a));
                });
                return b;
            },
            unregisterToolbar: function(a) {
                delete d[a];
            },
            updateToolsDisplay: function(a) {
                var b = this;
                angular.forEach(a, function(a, c) {
                    b.updateToolDisplay(c, a);
                });
            },
            resetToolsDisplay: function() {
                var a = this;
                angular.forEach(b, function(b, c) {
                    a.resetToolDisplay(c);
                });
            },
            updateToolDisplay: function(a, b) {
                var c = this;
                angular.forEach(d, function(d, e) {
                    c.updateToolbarToolDisplay(e, a, b);
                });
            },
            resetToolDisplay: function(a) {
                var b = this;
                angular.forEach(d, function(c, d) {
                    b.resetToolbarToolDisplay(d, a);
                });
            },
            updateToolbarToolDisplay: function(a, b, c) {
                if (d[a]) d[a].updateToolDisplay(b, c); else throw 'textAngular Error: No Toolbar with name "' + a + '" exists';
            },
            resetToolbarToolDisplay: function(a, c) {
                if (d[a]) d[a].updateToolDisplay(c, b[c], true); else throw 'textAngular Error: No Toolbar with name "' + a + '" exists';
            },
            removeTool: function(a) {
                delete b[a];
                angular.forEach(d, function(b) {
                    delete b.tools[a];
                    for (var c = 0; c < b.toolbar.length; c++) {
                        var d;
                        for (var e = 0; e < b.toolbar[c].length; e++) {
                            if (b.toolbar[c][e] === a) {
                                d = {
                                    group: c,
                                    index: e
                                };
                                break;
                            }
                            if (d !== undefined) break;
                        }
                        if (d !== undefined) {
                            b.toolbar[d.group].slice(d.index, 1);
                            b._$element.children().eq(d.group).children().eq(d.index).remove();
                        }
                    }
                });
            },
            addTool: function(a, b, e, f) {
                c(a, b);
                angular.forEach(d, function(c) {
                    c.addTool(a, b, e, f);
                });
            },
            addToolToToolbar: function(a, b, e, f, g) {
                c(a, b);
                d[e].addTool(a, b, f, g);
            },
            refreshEditor: function(a) {
                if (e[a]) {
                    e[a].scope.updateTaBindtaTextElement();
                    if (!e[a].scope.$$phase) e[a].scope.$digest();
                } else throw 'textAngular Error: No Editor with name "' + a + '" exists';
            },
            sendKeyCommand: function(a, b) {
                angular.forEach(e, function(c) {
                    if (c.editorFunctions.sendKeyCommand(b)) {
                        if (!a._bUpdateSelectedStyles) {
                            a.updateSelectedStyles();
                        }
                        b.preventDefault();
                        return false;
                    }
                });
            }
        };
    } ]);
    o.directive("textAngularToolbar", [ "$compile", "textAngularManager", "taOptions", "taTools", "taToolExecuteAction", "$window", function(a, b, c, d, e, f) {
        return {
            scope: {
                name: "@"
            },
            restrict: "EA",
            link: function(g, h, i) {
                if (!g.name || g.name === "") throw "textAngular Error: A toolbar requires a name";
                angular.extend(g, angular.copy(c));
                if (i.taToolbar) g.toolbar = g.$parent.$eval(i.taToolbar);
                if (i.taToolbarClass) g.classes.toolbar = i.taToolbarClass;
                if (i.taToolbarGroupClass) g.classes.toolbarGroup = i.taToolbarGroupClass;
                if (i.taToolbarButtonClass) g.classes.toolbarButton = i.taToolbarButtonClass;
                if (i.taToolbarActiveButtonClass) g.classes.toolbarButtonActive = i.taToolbarActiveButtonClass;
                if (i.taFocussedClass) g.classes.focussed = i.taFocussedClass;
                g.disabled = true;
                g.focussed = false;
                g._$element = h;
                h[0].innerHTML = "";
                h.addClass("ta-toolbar " + g.classes.toolbar);
                g.$watch("focussed", function() {
                    if (g.focussed) h.addClass(g.classes.focussed); else h.removeClass(g.classes.focussed);
                });
                var j = function(b, c) {
                    var d;
                    if (b && b.display) {
                        d = angular.element(b.display);
                    } else d = angular.element("<button type='button'>");
                    if (b && b["class"]) d.addClass(b["class"]); else d.addClass(g.classes.toolbarButton);
                    d.attr("name", c.name);
                    d.attr("ta-button", "ta-button");
                    d.attr("ng-disabled", "isDisabled()");
                    d.attr("tabindex", "-1");
                    d.attr("ng-click", "executeAction()");
                    d.attr("ng-class", "displayActiveToolClass(active)");
                    if (b && b.tooltiptext) {
                        d.attr("title", b.tooltiptext);
                    }
                    if (b && !b.display && !c._display) {
                        d[0].innerHTML = "";
                        if (b.buttontext) d[0].innerHTML = b.buttontext;
                        if (b.iconclass) {
                            var e = angular.element("<i>"), f = d[0].innerHTML;
                            e.addClass(b.iconclass);
                            d[0].innerHTML = "";
                            d.append(e);
                            if (f && f !== "") d.append("&nbsp;" + f);
                        }
                    }
                    c._lastToolDefinition = angular.copy(b);
                    return a(d)(c);
                };
                g.tools = {};
                g._parent = {
                    disabled: true,
                    showHtml: false,
                    queryFormatBlockState: function() {
                        return false;
                    },
                    queryCommandState: function() {
                        return false;
                    }
                };
                var k = {
                    $window: f,
                    $editor: function() {
                        return g._parent;
                    },
                    isDisabled: function() {
                        return typeof this.$eval("disabled") !== "function" && this.$eval("disabled") || this.$eval("disabled()") || this.name !== "html" && this.$editor().showHtml || this.$parent.disabled || this.$editor().disabled;
                    },
                    displayActiveToolClass: function(a) {
                        return a ? g.classes.toolbarButtonActive : "";
                    },
                    executeAction: e
                };
                angular.forEach(g.toolbar, function(a) {
                    var b = angular.element("<div>");
                    b.addClass(g.classes.toolbarGroup);
                    angular.forEach(a, function(a) {
                        g.tools[a] = angular.extend(g.$new(true), d[a], k, {
                            name: a
                        });
                        g.tools[a].$element = j(d[a], g.tools[a]);
                        b.append(g.tools[a].$element);
                    });
                    h.append(b);
                });
                g.updateToolDisplay = function(a, b, c) {
                    var d = g.tools[a];
                    if (d) {
                        if (d._lastToolDefinition && !c) b = angular.extend({}, d._lastToolDefinition, b);
                        if (b.buttontext === null && b.iconclass === null && b.display === null) throw 'textAngular Error: Tool Definition for updating "' + a + '" does not have a valid display/iconclass/buttontext value';
                        if (b.buttontext === null) {
                            delete b.buttontext;
                        }
                        if (b.iconclass === null) {
                            delete b.iconclass;
                        }
                        if (b.display === null) {
                            delete b.display;
                        }
                        var e = j(b, d);
                        d.$element.replaceWith(e);
                        d.$element = e;
                    }
                };
                g.addTool = function(a, b, c, e) {
                    g.tools[a] = angular.extend(g.$new(true), d[a], k, {
                        name: a
                    });
                    g.tools[a].$element = j(d[a], g.tools[a]);
                    var f;
                    if (c === undefined) c = g.toolbar.length - 1;
                    f = angular.element(h.children()[c]);
                    if (e === undefined) {
                        f.append(g.tools[a].$element);
                        g.toolbar[c][g.toolbar[c].length - 1] = a;
                    } else {
                        f.children().eq(e).after(g.tools[a].$element);
                        g.toolbar[c][e] = a;
                    }
                };
                b.registerToolbar(g);
                g.$on("$destroy", function() {
                    b.unregisterToolbar(g.name);
                });
            }
        };
    } ]);
})();

function validElementString(a) {
    try {
        return angular.element(a).length !== 0;
    } catch (b) {
        return false;
    }
}

var taTools = {};

function registerTextAngularTool(a, b) {
    if (!a || a === "" || taTools.hasOwnProperty(a)) throw "textAngular Error: A unique name is required for a Tool Definition";
    if (b.display && (b.display === "" || !validElementString(b.display)) || !b.display && !b.buttontext && !b.iconclass) throw 'textAngular Error: Tool Definition for "' + a + '" does not have a valid display/iconclass/buttontext value';
    taTools[a] = b;
}

angular.module("textAngularSetup", []).constant("taRegisterTool", registerTextAngularTool).value("taTools", taTools).value("taOptions", {
    forceTextAngularSanitize: true,
    keyMappings: [],
    toolbar: [ [ "h1", "h2", "h3", "h4", "h5", "h6", "p", "pre", "quote" ], [ "bold", "italics", "underline", "strikeThrough", "ul", "ol", "redo", "undo", "clear" ], [ "justifyLeft", "justifyCenter", "justifyRight", "justifyFull", "indent", "outdent" ], [ "html", "insertImage", "insertLink", "insertVideo", "wordcount", "charcount" ] ],
    classes: {
        focussed: "focussed",
        toolbar: "btn-toolbar",
        toolbarGroup: "btn-group",
        toolbarButton: "btn btn-default",
        toolbarButtonActive: "active",
        disabled: "disabled",
        textEditor: "form-control",
        htmlEditor: "form-control"
    },
    defaultTagAttributes: {
        a: {
            target: ""
        }
    },
    setup: {
        textEditorSetup: function(a) {},
        htmlEditorSetup: function(a) {}
    },
    defaultFileDropHandler: function(a, b) {
        var c = new FileReader();
        if (a.type.substring(0, 5) === "image") {
            c.onload = function() {
                if (c.result !== "") b("insertImage", c.result, true);
            };
            c.readAsDataURL(a);
            return true;
        }
        return false;
    }
}).value("taSelectableElements", [ "a", "img" ]).value("taCustomRenderers", [ {
    selector: "img",
    customAttribute: "ta-insert-video",
    renderLogic: function(a) {
        var b = angular.element("<iframe></iframe>");
        var c = a.prop("attributes");
        angular.forEach(c, function(a) {
            b.attr(a.name, a.value);
        });
        b.attr("src", b.attr("ta-insert-video"));
        a.replaceWith(b);
    }
} ]).value("taTranslations", {
    html: {
        tooltip: "Toggle html / Rich Text"
    },
    heading: {
        tooltip: "Heading "
    },
    p: {
        tooltip: "Paragraph"
    },
    pre: {
        tooltip: "Preformatted text"
    },
    ul: {
        tooltip: "Unordered List"
    },
    ol: {
        tooltip: "Ordered List"
    },
    quote: {
        tooltip: "Quote/unquote selection or paragraph"
    },
    undo: {
        tooltip: "Undo"
    },
    redo: {
        tooltip: "Redo"
    },
    bold: {
        tooltip: "Bold"
    },
    italic: {
        tooltip: "Italic"
    },
    underline: {
        tooltip: "Underline"
    },
    strikeThrough: {
        tooltip: "Strikethrough"
    },
    justifyLeft: {
        tooltip: "Align text left"
    },
    justifyRight: {
        tooltip: "Align text right"
    },
    justifyFull: {
        tooltip: "Justify text"
    },
    justifyCenter: {
        tooltip: "Center"
    },
    indent: {
        tooltip: "Increase indent"
    },
    outdent: {
        tooltip: "Decrease indent"
    },
    clear: {
        tooltip: "Clear formatting"
    },
    insertImage: {
        dialogPrompt: "Please enter an image URL to insert",
        tooltip: "Insert image",
        hotkey: "the - possibly language dependent hotkey ... for some future implementation"
    },
    insertVideo: {
        tooltip: "Insert video",
        dialogPrompt: "Please enter a youtube URL to embed"
    },
    insertLink: {
        tooltip: "Insert / edit link",
        dialogPrompt: "Please enter a URL to insert"
    },
    editLink: {
        reLinkButton: {
            tooltip: "Relink"
        },
        unLinkButton: {
            tooltip: "Unlink"
        },
        targetToggle: {
            buttontext: "Open in New Window"
        }
    },
    wordcount: {
        tooltip: "Display words Count"
    },
    charcount: {
        tooltip: "Display characters Count"
    }
}).factory("taToolFunctions", [ "$window", "taTranslations", function(a, b) {
    return {
        imgOnSelectAction: function(a, b, c) {
            var d = function() {
                c.updateTaBindtaTextElement();
                c.hidePopover();
            };
            a.preventDefault();
            c.displayElements.popover.css("width", "375px");
            var e = c.displayElements.popoverContainer;
            e.empty();
            var f = angular.element('<div class="btn-group" style="padding-right: 6px;">');
            var g = angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');
            g.on("click", function(a) {
                a.preventDefault();
                b.css({
                    width: "100%",
                    height: ""
                });
                d();
            });
            var h = angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');
            h.on("click", function(a) {
                a.preventDefault();
                b.css({
                    width: "50%",
                    height: ""
                });
                d();
            });
            var i = angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');
            i.on("click", function(a) {
                a.preventDefault();
                b.css({
                    width: "25%",
                    height: ""
                });
                d();
            });
            var j = angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');
            j.on("click", function(a) {
                a.preventDefault();
                b.css({
                    width: "",
                    height: ""
                });
                d();
            });
            f.append(g);
            f.append(h);
            f.append(i);
            f.append(j);
            e.append(f);
            f = angular.element('<div class="btn-group" style="padding-right: 6px;">');
            var k = angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');
            k.on("click", function(a) {
                a.preventDefault();
                b.css("float", "left");
                b.css("cssFloat", "left");
                b.css("styleFloat", "left");
                d();
            });
            var l = angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');
            l.on("click", function(a) {
                a.preventDefault();
                b.css("float", "right");
                b.css("cssFloat", "right");
                b.css("styleFloat", "right");
                d();
            });
            var m = angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');
            m.on("click", function(a) {
                a.preventDefault();
                b.css("float", "");
                b.css("cssFloat", "");
                b.css("styleFloat", "");
                d();
            });
            f.append(k);
            f.append(m);
            f.append(l);
            e.append(f);
            f = angular.element('<div class="btn-group">');
            var n = angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');
            n.on("click", function(a) {
                a.preventDefault();
                b.remove();
                d();
            });
            f.append(n);
            e.append(f);
            c.showPopover(b);
            c.showResizeOverlay(b);
        },
        aOnSelectAction: function(c, d, e) {
            c.preventDefault();
            e.displayElements.popover.css("width", "436px");
            var f = e.displayElements.popoverContainer;
            f.empty();
            f.css("line-height", "28px");
            var g = angular.element('<a href="' + d.attr("href") + '" target="_blank">' + d.attr("href") + "</a>");
            g.css({
                display: "inline-block",
                "max-width": "200px",
                overflow: "hidden",
                "text-overflow": "ellipsis",
                "white-space": "nowrap",
                "vertical-align": "middle"
            });
            f.append(g);
            var h = angular.element('<div class="btn-group pull-right">');
            var i = angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="' + b.editLink.reLinkButton.tooltip + '"><i class="fa fa-edit icon-edit"></i></button>');
            i.on("click", function(c) {
                c.preventDefault();
                var f = a.prompt(b.insertLink.dialogPrompt, d.attr("href"));
                if (f && f !== "" && f !== "http://") {
                    d.attr("href", f);
                    e.updateTaBindtaTextElement();
                }
                e.hidePopover();
            });
            h.append(i);
            var j = angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="' + b.editLink.unLinkButton.tooltip + '"><i class="fa fa-unlink icon-unlink"></i></button>');
            j.on("click", function(a) {
                a.preventDefault();
                d.replaceWith(d.contents());
                e.updateTaBindtaTextElement();
                e.hidePopover();
            });
            h.append(j);
            var k = angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">' + b.editLink.targetToggle.buttontext + "</button>");
            if (d.attr("target") === "_blank") {
                k.addClass("active");
            }
            k.on("click", function(a) {
                a.preventDefault();
                d.attr("target", d.attr("target") === "_blank" ? "" : "_blank");
                k.toggleClass("active");
                e.updateTaBindtaTextElement();
            });
            h.append(k);
            f.append(h);
            e.showPopover(d);
        },
        extractYoutubeVideoId: function(a) {
            var b = /(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/i;
            var c = a.match(b);
            return c && c[1] || null;
        }
    };
} ]).run([ "taRegisterTool", "$window", "taTranslations", "taSelection", "taToolFunctions", "$sanitize", "taOptions", function(a, b, c, d, e, f, g) {
    var h = {};
    f("", h);
    if (g.forceTextAngularSanitize === true && h.version !== "taSanitize") {
        throw angular.$$minErr("textAngular")("textAngularSetup", "The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?");
    }
    a("html", {
        iconclass: "fa fa-code",
        tooltiptext: c.html.tooltip,
        action: function() {
            this.$editor().switchView();
        },
        activeState: function() {
            return this.$editor().showHtml;
        }
    });
    var i = function(a) {
        return function() {
            return this.$editor().queryFormatBlockState(a);
        };
    };
    var j = function() {
        return this.$editor().wrapSelection("formatBlock", "<" + this.name.toUpperCase() + ">");
    };
    angular.forEach([ "h1", "h2", "h3", "h4", "h5", "h6" ], function(b) {
        a(b.toLowerCase(), {
            buttontext: b.toUpperCase(),
            tooltiptext: c.heading.tooltip + b.charAt(1),
            action: j,
            activeState: i(b.toLowerCase())
        });
    });
    a("p", {
        buttontext: "P",
        tooltiptext: c.p.tooltip,
        action: function() {
            return this.$editor().wrapSelection("formatBlock", "<P>");
        },
        activeState: function() {
            return this.$editor().queryFormatBlockState("p");
        }
    });
    a("pre", {
        buttontext: "pre",
        tooltiptext: c.pre.tooltip,
        action: function() {
            return this.$editor().wrapSelection("formatBlock", "<PRE>");
        },
        activeState: function() {
            return this.$editor().queryFormatBlockState("pre");
        }
    });
    a("ul", {
        iconclass: "fa fa-list-ul",
        tooltiptext: c.ul.tooltip,
        action: function() {
            return this.$editor().wrapSelection("insertUnorderedList", null);
        },
        activeState: function() {
            return this.$editor().queryCommandState("insertUnorderedList");
        }
    });
    a("ol", {
        iconclass: "fa fa-list-ol",
        tooltiptext: c.ol.tooltip,
        action: function() {
            return this.$editor().wrapSelection("insertOrderedList", null);
        },
        activeState: function() {
            return this.$editor().queryCommandState("insertOrderedList");
        }
    });
    a("quote", {
        iconclass: "fa fa-quote-right",
        tooltiptext: c.quote.tooltip,
        action: function() {
            return this.$editor().wrapSelection("formatBlock", "<BLOCKQUOTE>");
        },
        activeState: function() {
            return this.$editor().queryFormatBlockState("blockquote");
        }
    });
    a("undo", {
        iconclass: "fa fa-undo",
        tooltiptext: c.undo.tooltip,
        action: function() {
            return this.$editor().wrapSelection("undo", null);
        }
    });
    a("redo", {
        iconclass: "fa fa-repeat",
        tooltiptext: c.redo.tooltip,
        action: function() {
            return this.$editor().wrapSelection("redo", null);
        }
    });
    a("bold", {
        iconclass: "fa fa-bold",
        tooltiptext: c.bold.tooltip,
        action: function() {
            return this.$editor().wrapSelection("bold", null);
        },
        activeState: function() {
            return this.$editor().queryCommandState("bold");
        },
        commandKeyCode: 98
    });
    a("justifyLeft", {
        iconclass: "fa fa-align-left",
        tooltiptext: c.justifyLeft.tooltip,
        action: function() {
            return this.$editor().wrapSelection("justifyLeft", null);
        },
        activeState: function(a) {
            if (a && a.nodeName === "#document") return false;
            var b = false;
            if (a) b = a.css("text-align") === "left" || a.attr("align") === "left" || a.css("text-align") !== "right" && a.css("text-align") !== "center" && a.css("text-align") !== "justify" && !this.$editor().queryCommandState("justifyRight") && !this.$editor().queryCommandState("justifyCenter") && !this.$editor().queryCommandState("justifyFull");
            b = b || this.$editor().queryCommandState("justifyLeft");
            return b;
        }
    });
    a("justifyRight", {
        iconclass: "fa fa-align-right",
        tooltiptext: c.justifyRight.tooltip,
        action: function() {
            return this.$editor().wrapSelection("justifyRight", null);
        },
        activeState: function(a) {
            if (a && a.nodeName === "#document") return false;
            var b = false;
            if (a) b = a.css("text-align") === "right";
            b = b || this.$editor().queryCommandState("justifyRight");
            return b;
        }
    });
    a("justifyFull", {
        iconclass: "fa fa-align-justify",
        tooltiptext: c.justifyFull.tooltip,
        action: function() {
            return this.$editor().wrapSelection("justifyFull", null);
        },
        activeState: function(a) {
            var b = false;
            if (a) b = a.css("text-align") === "justify";
            b = b || this.$editor().queryCommandState("justifyFull");
            return b;
        }
    });
    a("justifyCenter", {
        iconclass: "fa fa-align-center",
        tooltiptext: c.justifyCenter.tooltip,
        action: function() {
            return this.$editor().wrapSelection("justifyCenter", null);
        },
        activeState: function(a) {
            if (a && a.nodeName === "#document") return false;
            var b = false;
            if (a) b = a.css("text-align") === "center";
            b = b || this.$editor().queryCommandState("justifyCenter");
            return b;
        }
    });
    a("indent", {
        iconclass: "fa fa-indent",
        tooltiptext: c.indent.tooltip,
        action: function() {
            return this.$editor().wrapSelection("indent", null);
        },
        activeState: function() {
            return this.$editor().queryFormatBlockState("blockquote");
        },
        commandKeyCode: "TabKey"
    });
    a("outdent", {
        iconclass: "fa fa-outdent",
        tooltiptext: c.outdent.tooltip,
        action: function() {
            return this.$editor().wrapSelection("outdent", null);
        },
        activeState: function() {
            return false;
        },
        commandKeyCode: "ShiftTabKey"
    });
    a("italics", {
        iconclass: "fa fa-italic",
        tooltiptext: c.italic.tooltip,
        action: function() {
            return this.$editor().wrapSelection("italic", null);
        },
        activeState: function() {
            return this.$editor().queryCommandState("italic");
        },
        commandKeyCode: 105
    });
    a("underline", {
        iconclass: "fa fa-underline",
        tooltiptext: c.underline.tooltip,
        action: function() {
            return this.$editor().wrapSelection("underline", null);
        },
        activeState: function() {
            return this.$editor().queryCommandState("underline");
        },
        commandKeyCode: 117
    });
    a("strikeThrough", {
        iconclass: "fa fa-strikethrough",
        tooltiptext: c.strikeThrough.tooltip,
        action: function() {
            return this.$editor().wrapSelection("strikeThrough", null);
        },
        activeState: function() {
            return document.queryCommandState("strikeThrough");
        }
    });
    a("clear", {
        iconclass: "fa fa-ban",
        tooltiptext: c.clear.tooltip,
        action: function(a, b) {
            var c;
            this.$editor().wrapSelection("removeFormat", null);
            var e = angular.element(d.getSelectionElement());
            var f = function(a) {
                a = angular.element(a);
                var b = a;
                angular.forEach(a.children(), function(a) {
                    var c = angular.element("<p></p>");
                    c.html(angular.element(a).html());
                    b.after(c);
                    b = c;
                });
                a.remove();
            };
            angular.forEach(e.find("ul"), f);
            angular.forEach(e.find("ol"), f);
            if (e[0].tagName.toLowerCase() === "li") {
                var g = e[0].parentNode.childNodes;
                var h = [], i = [], j = false;
                for (c = 0; c < g.length; c++) {
                    if (g[c] === e[0]) {
                        j = true;
                    } else if (!j) h.push(g[c]); else i.push(g[c]);
                }
                var k = angular.element(e[0].parentNode);
                var l = angular.element("<p></p>");
                l.html(angular.element(e[0]).html());
                if (h.length === 0 || i.length === 0) {
                    if (i.length === 0) k.after(l); else k[0].parentNode.insertBefore(l[0], k[0]);
                    if (h.length === 0 && i.length === 0) k.remove(); else angular.element(e[0]).remove();
                } else {
                    var m = angular.element("<" + k[0].tagName + "></" + k[0].tagName + ">");
                    var n = angular.element("<" + k[0].tagName + "></" + k[0].tagName + ">");
                    for (c = 0; c < h.length; c++) m.append(angular.element(h[c]));
                    for (c = 0; c < i.length; c++) n.append(angular.element(i[c]));
                    k.after(n);
                    k.after(l);
                    k.after(m);
                    k.remove();
                }
                d.setSelectionToElementEnd(l[0]);
            }
            var o = this.$editor();
            var p = function(a) {
                a = angular.element(a);
                if (a[0] !== o.displayElements.text[0]) a.removeAttr("class");
                angular.forEach(a.children(), p);
            };
            angular.forEach(e, p);
            if (e[0].tagName.toLowerCase() !== "li" && e[0].tagName.toLowerCase() !== "ol" && e[0].tagName.toLowerCase() !== "ul") this.$editor().wrapSelection("formatBlock", "default");
            b();
        }
    });
    a("insertImage", {
        iconclass: "fa fa-picture-o",
        tooltiptext: c.insertImage.tooltip,
        action: function() {
            var a;
            a = b.prompt(c.insertImage.dialogPrompt, "http://");
            if (a && a !== "" && a !== "http://") {
                return this.$editor().wrapSelection("insertImage", a, true);
            }
        },
        onElementSelect: {
            element: "img",
            action: e.imgOnSelectAction
        }
    });
    a("insertVideo", {
        iconclass: "fa fa-youtube-play",
        tooltiptext: c.insertVideo.tooltip,
        action: function() {
            var a;
            a = b.prompt(c.insertVideo.dialogPrompt, "https://");
            if (a && a !== "" && a !== "https://") {
                videoId = e.extractYoutubeVideoId(a);
                if (videoId) {
                    var d = "https://www.youtube.com/embed/" + videoId;
                    var f = '<img class="ta-insert-video" src="https://img.youtube.com/vi/' + videoId + '/hqdefault.jpg" ta-insert-video="' + d + '" contenteditable="false" allowfullscreen="true" frameborder="0" />';
                    return this.$editor().wrapSelection("insertHTML", f, true);
                }
            }
        },
        onElementSelect: {
            element: "img",
            onlyWithAttrs: [ "ta-insert-video" ],
            action: e.imgOnSelectAction
        }
    });
    a("insertLink", {
        tooltiptext: c.insertLink.tooltip,
        iconclass: "fa fa-link",
        action: function() {
            var a;
            a = b.prompt(c.insertLink.dialogPrompt, "http://");
            if (a && a !== "" && a !== "http://") {
                return this.$editor().wrapSelection("createLink", a, true);
            }
        },
        activeState: function(a) {
            if (a) return a[0].tagName === "A";
            return false;
        },
        onElementSelect: {
            element: "a",
            action: e.aOnSelectAction
        }
    });
    a("wordcount", {
        display: '<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',
        disabled: true,
        wordcount: 0,
        activeState: function() {
            var a = this.$editor().displayElements.text;
            var b = a[0].innerHTML || "";
            var c = 0;
            if (b.replace(/\s*<[^>]*?>\s*/g, "") !== "") {
                c = b.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi, "").replace(/(<[^>]*?>\s*<[^>]*?>)/gi, " ").replace(/(<[^>]*?>)/gi, "").replace(/\s+/gi, " ").match(/\S+/g).length;
            }
            this.wordcount = c;
            this.$editor().wordcount = c;
            return false;
        }
    });
    a("charcount", {
        display: '<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',
        disabled: true,
        charcount: 0,
        activeState: function() {
            var a = this.$editor().displayElements.text;
            var b = a[0].innerText || a[0].textContent;
            var c = b.replace(/(\r\n|\n|\r)/gm, "").replace(/^\s+/g, " ").replace(/\s+$/g, " ").length;
            this.charcount = c;
            this.$editor().charcount = c;
            return false;
        }
    });
} ]);

!function(a, b, c, d, e, f) {
    function g(a, b) {
        return function() {
            return a.call(this, b.apply(this, arguments));
        };
    }
    function h(a) {
        return function(b) {
            return b[a];
        };
    }
    function i(a, b) {
        return b.apply(f, a);
    }
    function j(a) {
        var b = a.length - 1, d = c.prototype.slice;
        if (0 == b) return function() {
            return a.call(this, d.call(arguments));
        };
        if (1 == b) return function() {
            return a.call(this, arguments[0], d.call(arguments, 1));
        };
        var e = c(a.length);
        return function() {
            for (var c = 0; b > c; c++) e[c] = arguments[c];
            return e[b] = d.call(arguments, b), a.apply(this, e);
        };
    }
    function k(a) {
        return function(b, c) {
            return a(c, b);
        };
    }
    function l(a, b) {
        return function(c) {
            return a(c) && b(c);
        };
    }
    function m() {}
    function n() {
        return !0;
    }
    function o(a) {
        return function() {
            return a;
        };
    }
    function p(a, b) {
        return b && b.constructor === a;
    }
    function q(a) {
        return a !== f;
    }
    function r(a, c) {
        return c instanceof b && y(function(a) {
            return a in c;
        }, a);
    }
    function s(a, b) {
        return [ a, b ];
    }
    function t(a) {
        return A(a.reduce(k(s), X));
    }
    function u(a) {
        return w(function(a, b) {
            return a.unshift(b), a;
        }, [], a);
    }
    function v(a, b) {
        return b ? s(a(Y(b)), v(a, Z(b))) : X;
    }
    function w(a, b, c) {
        return c ? a(w(a, b, Z(c)), Y(c)) : b;
    }
    function x(a, b, c) {
        function d(a, c) {
            return a ? b(Y(a)) ? (c(Y(a)), Z(a)) : s(Y(a), d(Z(a), c)) : X;
        }
        return d(a, c || m);
    }
    function y(a, b) {
        return !b || a(Y(b)) && y(a, Z(b));
    }
    function z(a, b) {
        a && (Y(a).apply(null, b), z(Z(a), b));
    }
    function A(a) {
        function b(a, c) {
            return a ? b(Z(a), s(Y(a), c)) : c;
        }
        return b(a, X);
    }
    function B(a, b) {
        return b && (a(Y(b)) ? Y(b) : B(a, Z(b)));
    }
    function C(a) {
        "use strict";
        function b() {
            var a = 0;
            P.length > p && (c("Max buffer length exceeded: textNode"), a = Math.max(a, P.length)), 
            Q.length > p && (c("Max buffer length exceeded: numberNode"), a = Math.max(a, Q.length)), 
            O = p - a + Y;
        }
        function c(a) {
            P && (m(P), n(), P = ""), i = d(a + "\nLn: " + $ + "\nCol: " + Z + "\nChr: " + j), 
            o(N(f, f, i));
        }
        function e() {
            (T !== t || 0 !== X) && c("Unexpected end"), P && (m(P), n(), P = ""), S = !0;
        }
        function g(a) {
            return "\r" == a || "\n" == a || " " == a || "	" == a;
        }
        function h(a) {
            if (!i) {
                if (S) return c("Cannot write after close");
                var d = 0;
                for (j = a[0]; j && (k = j, j = a[d++]); ) switch (Y++, "\n" == j ? ($++, Z = 0) : Z++, 
                T) {
                  case s:
                    if ("{" === j) T = u; else if ("[" === j) T = w; else if (!g(j)) return c("Non-whitespace before {[.");
                    continue;

                  case z:
                  case u:
                    if (g(j)) continue;
                    if (T === z) U.push(A); else {
                        if ("}" === j) {
                            m({}), n(), T = U.pop() || t;
                            continue;
                        }
                        U.push(v);
                    }
                    if ('"' !== j) return c('Malformed object key should start with " ');
                    T = y;
                    continue;

                  case A:
                  case v:
                    if (g(j)) continue;
                    if (":" === j) T === v ? (U.push(v), P && (m({}), l(P), P = ""), X++) : P && (l(P), 
                    P = ""), T = t; else if ("}" === j) P && (m(P), n(), P = ""), n(), X--, T = U.pop() || t; else {
                        if ("," !== j) return c("Bad object");
                        T === v && U.push(v), P && (m(P), n(), P = ""), T = z;
                    }
                    continue;

                  case w:
                  case t:
                    if (g(j)) continue;
                    if (T === w) {
                        if (m([]), X++, T = t, "]" === j) {
                            n(), X--, T = U.pop() || t;
                            continue;
                        }
                        U.push(x);
                    }
                    if ('"' === j) T = y; else if ("{" === j) T = u; else if ("[" === j) T = w; else if ("t" === j) T = B; else if ("f" === j) T = E; else if ("n" === j) T = I; else if ("-" === j) Q += j; else if ("0" === j) Q += j, 
                    T = M; else {
                        if (-1 === "123456789".indexOf(j)) return c("Bad value");
                        Q += j, T = M;
                    }
                    continue;

                  case x:
                    if ("," === j) U.push(x), P && (m(P), n(), P = ""), T = t; else {
                        if ("]" !== j) {
                            if (g(j)) continue;
                            return c("Bad array");
                        }
                        P && (m(P), n(), P = ""), n(), X--, T = U.pop() || t;
                    }
                    continue;

                  case y:
                    var e = d - 1;
                    a: for (;;) {
                        for (;W > 0; ) if (V += j, j = a.charAt(d++), 4 === W ? (P += String.fromCharCode(parseInt(V, 16)), 
                        W = 0, e = d - 1) : W++, !j) break a;
                        if ('"' === j && !R) {
                            T = U.pop() || t, P += a.substring(e, d - 1), P || (m(""), n());
                            break;
                        }
                        if ("\\" === j && !R && (R = !0, P += a.substring(e, d - 1), j = a.charAt(d++), 
                        !j)) break;
                        if (R) {
                            if (R = !1, "n" === j ? P += "\n" : "r" === j ? P += "\r" : "t" === j ? P += "	" : "f" === j ? P += "\f" : "b" === j ? P += "\b" : "u" === j ? (W = 1, 
                            V = "") : P += j, j = a.charAt(d++), e = d - 1, j) continue;
                            break;
                        }
                        q.lastIndex = d;
                        var f = q.exec(a);
                        if (!f) {
                            d = a.length + 1, P += a.substring(e, d - 1);
                            break;
                        }
                        if (d = f.index + 1, j = a.charAt(f.index), !j) {
                            P += a.substring(e, d - 1);
                            break;
                        }
                    }
                    continue;

                  case B:
                    if (!j) continue;
                    if ("r" !== j) return c("Invalid true started with t" + j);
                    T = C;
                    continue;

                  case C:
                    if (!j) continue;
                    if ("u" !== j) return c("Invalid true started with tr" + j);
                    T = D;
                    continue;

                  case D:
                    if (!j) continue;
                    if ("e" !== j) return c("Invalid true started with tru" + j);
                    m(!0), n(), T = U.pop() || t;
                    continue;

                  case E:
                    if (!j) continue;
                    if ("a" !== j) return c("Invalid false started with f" + j);
                    T = F;
                    continue;

                  case F:
                    if (!j) continue;
                    if ("l" !== j) return c("Invalid false started with fa" + j);
                    T = G;
                    continue;

                  case G:
                    if (!j) continue;
                    if ("s" !== j) return c("Invalid false started with fal" + j);
                    T = H;
                    continue;

                  case H:
                    if (!j) continue;
                    if ("e" !== j) return c("Invalid false started with fals" + j);
                    m(!1), n(), T = U.pop() || t;
                    continue;

                  case I:
                    if (!j) continue;
                    if ("u" !== j) return c("Invalid null started with n" + j);
                    T = J;
                    continue;

                  case J:
                    if (!j) continue;
                    if ("l" !== j) return c("Invalid null started with nu" + j);
                    T = K;
                    continue;

                  case K:
                    if (!j) continue;
                    if ("l" !== j) return c("Invalid null started with nul" + j);
                    m(null), n(), T = U.pop() || t;
                    continue;

                  case L:
                    if ("." !== j) return c("Leading zero not followed by .");
                    Q += j, T = M;
                    continue;

                  case M:
                    if (-1 !== "0123456789".indexOf(j)) Q += j; else if ("." === j) {
                        if (-1 !== Q.indexOf(".")) return c("Invalid number has two dots");
                        Q += j;
                    } else if ("e" === j || "E" === j) {
                        if (-1 !== Q.indexOf("e") || -1 !== Q.indexOf("E")) return c("Invalid number has two exponential");
                        Q += j;
                    } else if ("+" === j || "-" === j) {
                        if ("e" !== k && "E" !== k) return c("Invalid symbol in number");
                        Q += j;
                    } else Q && (m(parseFloat(Q)), n(), Q = ""), d--, T = U.pop() || t;
                    continue;

                  default:
                    return c("Unknown state: " + T);
                }
                Y >= O && b();
            }
        }
        var i, j, k, l = a(qa).emit, m = a(ra).emit, n = a(sa).emit, o = a(ja).emit, p = 65536, q = /[\\"\n]/g, r = 0, s = r++, t = r++, u = r++, v = r++, w = r++, x = r++, y = r++, z = r++, A = r++, B = r++, C = r++, D = r++, E = r++, F = r++, G = r++, H = r++, I = r++, J = r++, K = r++, L = r++, M = r, O = p, P = "", Q = "", R = !1, S = !1, T = s, U = [], V = null, W = 0, X = 0, Y = 0, Z = 0, $ = 1;
        a(na).on(h), a(oa).on(e);
    }
    function D(a, b) {
        "use strict";
        function d(a) {
            return function(b) {
                e = a(e, b);
            };
        }
        var e, f = {};
        for (var g in b) a(g).on(d(b[g]), f);
        a(ha).on(function(a) {
            var b, c = Y(e), d = aa(c), f = Z(e);
            f && (b = ba(Y(f)), b[d] = a);
        }), a(ia).on(function() {
            var a, b = Y(e), d = aa(b), f = Z(e);
            f && (a = ba(Y(f)), p(c, a) ? a.length-- : delete a[d]);
        }), a(pa).on(function() {
            for (var c in b) a(c).un(f);
        });
    }
    function E(a) {
        var b = {};
        return a && a.split("\r\n").forEach(function(a) {
            var c = a.indexOf(": ");
            b[a.substring(0, c)] = a.substring(c + 2);
        }), b;
    }
    function F(a, b) {
        function c(a) {
            return {
                "http:": 80,
                "https:": 443
            }[a];
        }
        function d(b) {
            return b.port || c(b.protocol || a.protocol);
        }
        return !!(b.protocol && b.protocol != a.protocol || b.host && b.host != a.host || b.host && d(b) != d(a));
    }
    function G(a) {
        var b = /(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/, c = b.exec(a) || [];
        return {
            protocol: c[1] || "",
            host: c[2] || "",
            port: c[3] || ""
        };
    }
    function H() {
        return new XMLHttpRequest();
    }
    function I(b, c, d, e, g, h, i) {
        "use strict";
        function j() {
            var a = c.responseText, b = a.substr(m);
            b && k(b), m = V(a);
        }
        var k = b(na).emit, l = b(ja).emit, m = 0, n = !0;
        b(pa).on(function() {
            c.onreadystatechange = null, c.abort();
        }), "onprogress" in c && (c.onprogress = j), c.onreadystatechange = function() {
            function a() {
                try {
                    n && b(ma).emit(c.status, E(c.getAllResponseHeaders())), n = !1;
                } catch (a) {}
            }
            switch (c.readyState) {
              case 2:
              case 3:
                return a();

              case 4:
                a();
                var d = 2 == String(c.status)[0];
                d ? (j(), b(oa).emit()) : l(N(c.status, c.responseText));
            }
        };
        try {
            c.open(d, e, !0);
            for (var o in h) c.setRequestHeader(o, h[o]);
            F(a.location, G(e)) || c.setRequestHeader("X-Requested-With", "XMLHttpRequest"), 
            c.withCredentials = i, c.send(g);
        } catch (p) {
            a.setTimeout(T(l, N(f, f, p)), 0);
        }
    }
    function J(a, b) {
        return {
            key: a,
            node: b
        };
    }
    function K(a) {
        function b(a, b) {
            var d = ba(Y(a));
            return p(c, d) ? f(a, V(d), b) : a;
        }
        function d(a, c) {
            if (!a) return j(c), f(a, ca, c);
            var d = b(a, c), g = Z(d), h = aa(Y(d));
            return e(g, h, c), s(J(h, c), g);
        }
        function e(a, b, c) {
            ba(Y(a))[b] = c;
        }
        function f(a, b, c) {
            a && e(a, b, c);
            var d = s(J(b, c), a);
            return h(d), d;
        }
        function g(a) {
            return i(a), Z(a) || k(ba(Y(a)));
        }
        var h = a(fa).emit, i = a(ga).emit, j = a(la).emit, k = a(ka).emit, l = {};
        return l[ra] = d, l[sa] = g, l[qa] = f, l;
    }
    function L(a, b, c) {
        function d(a) {
            return function(b) {
                return b.id == a;
            };
        }
        var e, f;
        return {
            on: function(c, d) {
                var g = {
                    listener: c,
                    id: d || c
                };
                return b && b.emit(a, c, g.id), e = s(g, e), f = s(c, f), this;
            },
            emit: function() {
                z(f, arguments);
            },
            un: function(b) {
                var g;
                e = x(e, d(b), function(a) {
                    g = a;
                }), g && (f = x(f, function(a) {
                    return a == g.listener;
                }), c && c.emit(a, g.listener, g.id));
            },
            listeners: function() {
                return f;
            },
            hasListener: function(a) {
                var b = a ? d(a) : n;
                return q(B(b, e));
            }
        };
    }
    function M() {
        function a(a) {
            return c[a] = L(a, d, e);
        }
        function b(b) {
            return c[b] || a(b);
        }
        var c = {}, d = a("newListener"), e = a("removeListener");
        return [ "emit", "on", "un" ].forEach(function(a) {
            b[a] = j(function(c, d) {
                i(d, b(c)[a]);
            });
        }), b;
    }
    function N(a, b, c) {
        try {
            var d = e.parse(b);
        } catch (f) {}
        return {
            statusCode: a,
            body: b,
            jsonBody: d,
            thrown: c
        };
    }
    function O(a, b) {
        function c(a, b, c) {
            var d = A(c);
            a(b, u(Z(v(aa, d))), u(v(ba, d)));
        }
        function d(b, d, e) {
            var f = a(b).emit;
            d.on(function(a) {
                var b = e(a);
                b !== !1 && c(f, ba(b), a);
            }, b), a("removeListener").on(function(c) {
                c == b && (a(c).listeners() || d.un(b));
            });
        }
        var e = {
            node: a(ga),
            path: a(fa)
        };
        a("newListener").on(function(a) {
            var c = /(node|path):(.*)/.exec(a);
            if (c) {
                var f = e[c[1]];
                f.hasListener(a) || d(a, f, b(c[2]));
            }
        });
    }
    function P(a, b) {
        function c(b, c) {
            return a(b).on(e(c), c), p;
        }
        function d(a, b, c) {
            c = c || b;
            var d = e(b);
            return a.on(function() {
                var b = !1;
                p.forget = function() {
                    b = !0;
                }, i(arguments, d), delete p.forget, b && a.un(c);
            }, c), p;
        }
        function e(b) {
            return function() {
                try {
                    return b.apply(p, arguments);
                } catch (c) {
                    a(ja).emit(N(f, f, c));
                }
            };
        }
        function g(b, c) {
            return a(b + ":" + c);
        }
        function h(a) {
            return function() {
                var b = a.apply(this, arguments);
                q(b) && (b == S.drop ? t() : u(b));
            };
        }
        function k(a, b, c) {
            var e;
            e = "node" == a ? h(c) : c, d(g(a, b), e, c);
        }
        function l(a, b) {
            for (var c in b) k(a, c, b[c]);
        }
        function n(a, b, c) {
            return W(b) ? k(a, b, c) : l(a, b), p;
        }
        var p, r = /^(node|path):./, s = a(ka), t = a(ia).emit, u = a(ha).emit, v = j(function(b, c) {
            if (p[b]) i(c, p[b]); else {
                var e = a(b), f = c[0];
                r.test(b) ? d(e, f) : e.on(f);
            }
            return p;
        }), w = function(b, c, d) {
            if ("done" == b) s.un(c); else if ("node" == b || "path" == b) a.un(b + ":" + c, d); else {
                var e = c;
                a(b).un(e);
            }
            return p;
        };
        return a(la).on(function(a) {
            p.root = o(a);
        }), a(ma).on(function(a, b) {
            p.header = function(a) {
                return a ? b[a] : b;
            };
        }), p = {
            on: v,
            addListener: v,
            removeListener: w,
            emit: a.emit,
            node: T(n, "node"),
            path: T(n, "path"),
            done: T(d, s),
            start: T(c, ma),
            fail: a(ja).on,
            abort: a(pa).emit,
            header: m,
            root: m,
            source: b
        };
    }
    function Q(a, b, c, d, e) {
        var f = M();
        return b && I(f, H(), a, b, c, d, e), C(f), D(f, K(f)), O(f, da), P(f, b);
    }
    function R(a, b, c, d, f, g, h) {
        function i(a, b) {
            return b === !1 && (a += -1 == a.indexOf("?") ? "?" : "&", a += "_=" + new Date().getTime()), 
            a;
        }
        return f = f ? e.parse(e.stringify(f)) : {}, d ? W(d) || (d = e.stringify(d), f["Content-Type"] = f["Content-Type"] || "application/json") : d = null, 
        a(c || "GET", i(b, h), d, f, g || !1);
    }
    function S(a) {
        var b = $("resume", "pause", "pipe", "unpipe", "unshift"), c = T(r, b);
        return a ? c(a) || W(a) ? R(Q, a) : R(Q, a.url, a.method, a.body, a.headers, a.withCredentials, a.cached) : Q();
    }
    var T = j(function(a, b) {
        var c = b.length;
        return j(function(d) {
            for (var e = 0; e < d.length; e++) b[c + e] = d[e];
            return b.length = c + d.length, a.apply(this, b);
        });
    }), U = (j(function(a) {
        function b(a, b) {
            return [ i(a, b) ];
        }
        var c = t(a);
        return j(function(a) {
            return w(b, a, c)[0];
        });
    }), j(function(a) {
        return j(function(b) {
            for (var c, d = 0; d < V(a); d++) if (c = i(b, a[d])) return c;
        });
    })), V = h("length"), W = T(p, String), X = null, Y = h(0), Z = h(1), $ = j(t), _ = function() {
        var a = function(a) {
            return a.exec.bind(a);
        }, b = j(function(b) {
            return b.unshift(/^/), a(RegExp(b.map(h("source")).join("")));
        }), c = /(\$?)/, d = /([\w-_]+|\*)/, e = /()/, f = /\["([^"]+)"\]/, g = /\[(\d+|\*)\]/, i = /{([\w ]*?)}/, k = /(?:{([\w ]*?)})?/, l = b(c, d, k), m = b(c, f, k), n = b(c, g, k), o = b(c, e, i), p = b(/\.\./), q = b(/\./), r = b(c, /!/), s = b(/$/);
        return function(a) {
            return a(U(l, m, n, o), p, q, r, s);
        };
    }(), aa = h("key"), ba = h("node"), ca = {}, da = _(function(a, b, c, e, f) {
        function h(a, b) {
            var c = b[z], d = c && "*" != c ? function(a) {
                return B(a) == c;
            } : n;
            return l(d, a);
        }
        function i(a, b) {
            var c = b[A];
            if (!c) return a;
            var d = T(r, t(c.split(/\W+/))), e = g(d, C);
            return l(e, a);
        }
        function j(a, b) {
            var c = !!b[y];
            return c ? l(a, Y) : a;
        }
        function k(a) {
            function b(a) {
                return B(a) != ca;
            }
            return a == n ? n : l(b, g(a, Z));
        }
        function m(a) {
            if (a == n) return n;
            var b = o(), c = a, d = k(function(a) {
                return e(a);
            }), e = U(b, c, d);
            return e;
        }
        function o() {
            return function(a) {
                return B(a) == ca;
            };
        }
        function p(a) {
            return function(b) {
                var c = a(b);
                return c === !0 ? Y(b) : c;
            };
        }
        function q(a, b, c) {
            return w(function(a, b) {
                return b(a, c);
            }, b, a);
        }
        function s(a, b, c, d, e) {
            var f = a(c);
            if (f) {
                var g = q(b, d, f), h = c.substr(V(f[0]));
                return e(h, g);
            }
        }
        function u(a, b) {
            return T(s, a, b);
        }
        function v(a, b) {
            return b;
        }
        function x(a, b) {
            var c = a ? x : v;
            return D(a, b, c);
        }
        var y = 1, z = 2, A = 3, B = g(aa, Y), C = g(ba, Y), D = U(u(a, $(j, i, h, k)), u(b, $(m)), u(c, $()), u(e, $(j, o)), u(f, $(p)), function(a) {
            throw d('"' + a + '" could not be tokenised');
        });
        return function(a) {
            try {
                return x(a, n);
            } catch (b) {
                throw d('Could not compile "' + a + '" because ' + b.message);
            }
        };
    }), ea = 1, fa = ea++, ga = ea++, ha = ea++, ia = ea++, ja = "fail", ka = ea++, la = ea++, ma = "start", na = "data", oa = "end", pa = ea++, qa = ea++, ra = ea++, sa = ea++;
    S.drop = function() {
        return S.drop;
    }, "function" == typeof define && define.amd ? define("oboe", [], function() {
        return S;
    }) : "object" == typeof exports ? module.exports = S : a.oboe = S;
}(window, Object, Array, Error, JSON);